INFO 2025-07-27 10:45:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:45:33 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 10:45:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 10:45:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:45:34 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:34 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:34 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 10:45:34 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 10:45:34 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 10:45:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:45:44 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 10:45:46 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 10:45:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:45:52 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 10:45:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 10:45:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:45:52 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 10:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 10:45:52 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 10:45:52 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 10:45:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 10:47:34 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-07-27 10:47:34 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:34 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:34 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:35 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:35 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.489
INFO 2025-07-27 10:47:35 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:35 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:35 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.444
INFO 2025-07-27 10:47:35 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:36 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:36 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1004
INFO 2025-07-27 10:47:36 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:36 update_versions handle Versions updated: {'core': '3.0.0.489', 'version_tracker': '1.1.0.444', 'accounts': '1.3.0.1004'}
INFO 2025-07-27 10:47:36 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:36 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-07-27 10:47:36 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:36 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:36 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:37 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:37 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.490
INFO 2025-07-27 10:47:37 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:37 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:38 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:38 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.445
INFO 2025-07-27 10:47:38 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:38 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:39 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:39 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1005
INFO 2025-07-27 10:47:39 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:39 update_versions handle Versions updated: {'core': '3.0.0.490', 'version_tracker': '1.1.0.445', 'accounts': '1.3.0.1005'}
INFO 2025-07-27 10:47:39 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:39 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-07-27 10:47:39 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:39 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:39 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:40 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:40 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.491
INFO 2025-07-27 10:47:40 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:40 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:41 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:41 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.446
INFO 2025-07-27 10:47:41 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:41 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:42 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:42 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1006
INFO 2025-07-27 10:47:42 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:42 update_versions handle Versions updated: {'core': '3.0.0.491', 'version_tracker': '1.1.0.446', 'accounts': '1.3.0.1006'}
INFO 2025-07-27 10:47:42 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:42 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-07-27 10:47:42 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:42 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:42 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:43 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:43 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.492
INFO 2025-07-27 10:47:43 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:43 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:43 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.447
INFO 2025-07-27 10:47:43 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:43 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:45 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:45 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1007
INFO 2025-07-27 10:47:45 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:45 update_versions handle Versions updated: {'core': '3.0.0.492', 'version_tracker': '1.1.0.447', 'accounts': '1.3.0.1007'}
INFO 2025-07-27 10:47:45 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:45 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-07-27 10:47:45 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:45 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:45 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:45 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:45 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.493
INFO 2025-07-27 10:47:45 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:45 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:46 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:46 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.448
INFO 2025-07-27 10:47:46 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:46 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:46 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:46 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1008
INFO 2025-07-27 10:47:46 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:46 update_versions handle Versions updated: {'core': '3.0.0.493', 'version_tracker': '1.1.0.448', 'accounts': '1.3.0.1008'}
INFO 2025-07-27 10:47:46 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:46 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-07-27 10:47:46 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:46 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:46 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:47 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:47 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.494
INFO 2025-07-27 10:47:47 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:47 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:47 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.449
INFO 2025-07-27 10:47:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:47 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:48 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:48 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1009
INFO 2025-07-27 10:47:48 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:48 update_versions handle Versions updated: {'core': '3.0.0.494', 'version_tracker': '1.1.0.449', 'accounts': '1.3.0.1009'}
INFO 2025-07-27 10:47:48 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:48 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-07-27 10:47:48 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:48 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:48 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:48 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:48 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.495
INFO 2025-07-27 10:47:48 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:48 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:49 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.450
INFO 2025-07-27 10:47:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:49 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:50 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:50 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1010
INFO 2025-07-27 10:47:50 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:50 update_versions handle Versions updated: {'core': '3.0.0.495', 'version_tracker': '1.1.0.450', 'accounts': '1.3.0.1010'}
INFO 2025-07-27 10:47:50 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:50 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-07-27 10:47:50 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:50 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:50 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:50 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:50 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.496
INFO 2025-07-27 10:47:50 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:50 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:51 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:51 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.451
INFO 2025-07-27 10:47:51 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:51 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:47:52 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-27 10:47:52 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-27 10:47:52 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:47:52 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 10:47:52 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 10:47:52 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1011
INFO 2025-07-27 10:47:52 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:53 update_versions handle Versions updated: {'core': '3.0.0.496', 'version_tracker': '1.1.0.451', 'accounts': '1.3.0.1011'}
INFO 2025-07-27 10:47:53 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:53 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-27 10:47:53 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-27 10:47:53 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-07-27 10:47:53 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:53 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:53 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:54 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:54 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.497
INFO 2025-07-27 10:47:54 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:54 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:55 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:55 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.452
INFO 2025-07-27 10:47:55 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:55 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:56 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:56 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1012
INFO 2025-07-27 10:47:56 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:56 update_versions handle Versions updated: {'core': '3.0.0.497', 'version_tracker': '1.1.0.452', 'accounts': '1.3.0.1012'}
INFO 2025-07-27 10:47:56 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:56 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-07-27 10:47:56 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:56 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:56 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:47:56 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 10:47:57 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:57 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.498
INFO 2025-07-27 10:47:57 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:57 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 10:47:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:47:57 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 10:47:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 10:47:57 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:57 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.453
INFO 2025-07-27 10:47:57 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:57 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:58 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:58 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1013
INFO 2025-07-27 10:47:58 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:47:58 update_versions handle Versions updated: {'core': '3.0.0.498', 'version_tracker': '1.1.0.453', 'accounts': '1.3.0.1013'}
INFO 2025-07-27 10:47:58 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:47:58 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-07-27 10:47:58 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:47:58 update_versions handle Starting version update process...
INFO 2025-07-27 10:47:58 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:47:59 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:59 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.499
INFO 2025-07-27 10:47:59 models update_version_file Updated version.py for core
INFO 2025-07-27 10:47:59 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:47:59 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:59 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.454
INFO 2025-07-27 10:47:59 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:47:59 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:47:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:47:59 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-07-27 10:47:59 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-07-27 10:48:00 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:00 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1014
INFO 2025-07-27 10:48:00 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:00 update_versions handle Versions updated: {'core': '3.0.0.499', 'version_tracker': '1.1.0.454', 'accounts': '1.3.0.1014'}
INFO 2025-07-27 10:48:00 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:48:00 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-07-27 10:48:00 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:48:00 update_versions handle Starting version update process...
INFO 2025-07-27 10:48:00 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:48:01 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:01 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 10:48:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 10:48:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 10:48:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:01 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.500
INFO 2025-07-27 10:48:01 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:01 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:48:01 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 10:48:01 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:01 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.455
INFO 2025-07-27 10:48:01 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:01 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:48:02 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:02 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1015
INFO 2025-07-27 10:48:02 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:02 update_versions handle Versions updated: {'core': '3.0.0.500', 'version_tracker': '1.1.0.455', 'accounts': '1.3.0.1015'}
INFO 2025-07-27 10:48:02 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:48:02 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-07-27 10:48:02 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:48:02 update_versions handle Starting version update process...
INFO 2025-07-27 10:48:02 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:48:03 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:03 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.501
INFO 2025-07-27 10:48:03 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:03 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:48:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:03 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.456
INFO 2025-07-27 10:48:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:03 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:48:04 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:04 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1016
INFO 2025-07-27 10:48:04 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:04 update_versions handle Versions updated: {'core': '3.0.0.501', 'version_tracker': '1.1.0.456', 'accounts': '1.3.0.1016'}
INFO 2025-07-27 10:48:04 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:48:04 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-07-27 10:48:04 signals update_versions Calling update_versions command...
INFO 2025-07-27 10:48:04 update_versions handle Starting version update process...
INFO 2025-07-27 10:48:04 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 10:48:04 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:04 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.502
INFO 2025-07-27 10:48:04 models update_version_file Updated version.py for core
INFO 2025-07-27 10:48:04 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 10:48:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:05 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.457
INFO 2025-07-27 10:48:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 10:48:05 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 10:48:06 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:06 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1017
INFO 2025-07-27 10:48:06 models update_version_file Updated version.py for accounts
INFO 2025-07-27 10:48:06 update_versions handle Versions updated: {'core': '3.0.0.502', 'version_tracker': '1.1.0.457', 'accounts': '1.3.0.1017'}
INFO 2025-07-27 10:48:06 update_versions handle Final version updated successfully!
INFO 2025-07-27 10:48:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:06 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 10:48:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:48:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:48:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:07 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 200
INFO 2025-07-27 10:48:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:44 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 10:48:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:48:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:44 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:48:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:44 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 302
INFO 2025-07-27 10:48:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:44 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 10:48:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 10:48:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:44 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 10:48:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:44 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 10:48:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:49 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 10:48:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:48:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:48:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:49 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 200
INFO 2025-07-27 10:48:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:58 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 10:48:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:48:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:59 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:48:59 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:59 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 302
INFO 2025-07-27 10:48:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:48:59 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 10:48:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 10:48:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:48:59 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 10:48:59 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:48:59 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 10:49:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:49:18 middleware __call__ درخواست به: /accounts/roles/7/edit/, کاربر: admin
INFO 2025-07-27 10:49:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:49:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:49:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:49:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:49:18 middleware __call__ پاسخ برای /accounts/roles/7/edit/ - کد وضعیت: 200
INFO 2025-07-27 10:49:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:49:24 middleware __call__ درخواست به: /accounts/roles/7/edit/, کاربر: admin
INFO 2025-07-27 10:49:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:49:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:49:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:49:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:49:24 middleware __call__ پاسخ برای /accounts/roles/7/edit/ - کد وضعیت: 302
INFO 2025-07-27 10:49:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:49:24 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 10:49:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 10:49:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:49:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 10:49:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:49:25 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 10:54:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:54:13 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 10:54:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 10:54:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:54:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 10:54:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 10:54:14 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 200
INFO 2025-07-27 10:54:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:54:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:54:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:54:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:54:29 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:54:33 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:54:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 10:56:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:56:15 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:56:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:56:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:56:15 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:56:19 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:56:20 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 10:58:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:58:25 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:58:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:58:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:58:25 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:58:29 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:58:30 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 10:58:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:58:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:58:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:58:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:58:56 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:59:00 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:59:01 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 10:59:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:59:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:59:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:59:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:59:17 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:59:21 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:59:22 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 10:59:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 10:59:41 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 10:59:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 10:59:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 10:59:41 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 10:59:45 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 10:59:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:00:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:00:15 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:00:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:00:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:00:15 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:00:19 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:00:20 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:00:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:00:40 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:00:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:00:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:00:40 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:00:44 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:00:45 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:00:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:00:57 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:00:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:00:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:00:57 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:01:01 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:01:02 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:01:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:19 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-27 11:01:19 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-27 11:01:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:19 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:01:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:01:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:01:19 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:01:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:22 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-27 11:01:22 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-27 11:01:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:22 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:01:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:01:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:01:22 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:01:23 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:01:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:24 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-27 11:01:25 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-27 11:01:25 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:01:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:25 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-27 11:01:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-27 11:01:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:01:25 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-27 11:01:28 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:01:29 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:01:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:30 middleware __call__ درخواست به: /projects/, کاربر: admin
INFO 2025-07-27 11:01:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectListView برای کاربر: admin
INFO 2025-07-27 11:01:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:01:30 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای ProjectListView
INFO 2025-07-27 11:01:30 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:01:30 middleware __call__ پاسخ برای /projects/ - کد وضعیت: 200
INFO 2025-07-27 11:01:31 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-27 11:01:32 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-27 11:01:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:36 middleware __call__ درخواست به: /projects/create/, کاربر: admin
INFO 2025-07-27 11:01:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectCreateView برای کاربر: admin
INFO 2025-07-27 11:01:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:01:36 middleware __call__ پاسخ برای /projects/create/ - کد وضعیت: 200
INFO 2025-07-27 11:01:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:45 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 11:01:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:01:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:51 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-27 11:01:51 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-27 11:01:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:01:51 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 11:01:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:02:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:02:25 middleware __call__ درخواست به: /branches/, کاربر: admin
INFO 2025-07-27 11:02:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BranchListView برای کاربر: admin
INFO 2025-07-27 11:02:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:02:25 middleware __call__ پاسخ برای /branches/ - کد وضعیت: 200
INFO 2025-07-27 11:11:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:38 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-27 11:11:38 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-27 11:11:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:38 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 11:11:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 11:11:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:41 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 11:11:41 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 11:11:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:41 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 11:11:41 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:11:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:43 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:11:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:11:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:11:43 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:11:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:11:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:11:44 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:11:44 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:11:44 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:11:44 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:11:44 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:11:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:11:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:11:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:11:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:11:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:11:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:11:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:11:44 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:11:44 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:11:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:11:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:11:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:11:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:11:50 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:11:50 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:11:50 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:11:51 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:01 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:12:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:12:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:02 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:02 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:12:02 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:12:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:05 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:12:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:12:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:05 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:05 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:05 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:12:05 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:12:05 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:44 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:12:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:12:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:44 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:44 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:12:44 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:12:44 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:46 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:12:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:12:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:46 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:46 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:46 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:12:46 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:12:46 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:12:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:12:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:12:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:12:47 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:12:47 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:12:47 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:12:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:12:57 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:12:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:12:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:12:57 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:12:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:12:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:12:57 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:12:57 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:12:57 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:12:57 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:12:57 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:12:57 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:12:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:12:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:12:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:12:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:12:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:12:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:12:58 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:12:58 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:13:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:13:03 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-27 11:13:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 11:13:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:13:03 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:03 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:03 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:13:03 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:13:03 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:13:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:13:10 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:13:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:13:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:13:10 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:13:10 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:13:10 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:13:10 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:13:10 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:15:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:15:24 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 11:15:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 11:15:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:15:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 11:15:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:15:24 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 302
INFO 2025-07-27 11:15:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:15:24 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 11:15:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 11:15:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:15:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 11:15:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:15:24 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 11:16:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:16:09 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:16:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:16:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:16:09 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:09 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:16:09 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:16:09 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:16:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:16:17 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 11:16:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 11:16:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:16:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 11:16:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:16:17 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 200
INFO 2025-07-27 11:16:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:16:48 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:16:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:16:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:16:49 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:16:49 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:16:49 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:16:49 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:16:49 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:16:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:16:57 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 11:16:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 11:16:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:16:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 11:16:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:16:57 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 302
INFO 2025-07-27 11:16:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:16:57 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 11:16:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 11:16:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:16:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 11:16:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:16:57 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 11:17:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:17:01 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:17:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:17:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:17:01 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:01 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:01 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:17:01 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:17:01 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:17:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:17:27 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:17:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:17:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:17:27 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:27 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 11:17:27 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 11:17:27 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:17:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:17:27 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:17:27 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:17:27 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:21:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:21:58 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 11:21:58 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:22:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:22:01 middleware __call__ درخواست به: /reports/reports/comprehensive-budget/, کاربر: hfath
INFO 2025-07-27 11:22:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ComprehensiveBudgetReportView برای کاربر: hfath
INFO 2025-07-27 11:22:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:22:01 ComprehensiveBudgetReportView get_queryset [ComprehensiveBudgetReportView] - Starting get_queryset...
INFO 2025-07-27 11:22:01 ComprehensiveBudgetReportView get_queryset Found 1 BudgetPeriods.
INFO 2025-07-27 11:22:01 ComprehensiveBudgetReportView get_context_data [ComprehensiveBudgetReportView] - Starting get_context_data...
INFO 2025-07-27 11:22:01 ComprehensiveBudgetReportView get_context_data org_summaries IS : <QuerySet [{'organization__id': 1, 'organization__name': 'هتل لاله سرعین', 'organization__code': 'HSarein', 'org_total_allocated': Decimal('24000000000.00'), 'num_budget_items': 2, 'org_consumed': Decimal('1040000.00'), 'org_returned': Decimal('0.00')}]>
INFO 2025-07-27 11:22:01 middleware __call__ پاسخ برای /reports/reports/comprehensive-budget/ - کد وضعیت: 200
INFO 2025-07-27 11:22:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:22:29 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:22:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:22:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:22:29 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:22:29 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 11:22:29 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 11:22:29 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:22:29 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:22:29 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:22:29 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:22:29 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:23:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:23:32 middleware __call__ درخواست به: /reports/reports/api/budget-items-for-org-period/22/1/, کاربر: hfath
INFO 2025-07-27 11:23:32 ComprehensiveBudgetReportView get API request: BudgetItemsForOrgPeriodAPIView | Period PK=22, Org PK=1, User=hfath, Path=/reports/reports/api/budget-items-for-org-period/22/1/, Headers={'Content-Length': '', 'Content-Type': 'text/plain', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'h5MJPC68wGBabisKTuF43x7DWURfQU9FhONJlb2iwPGRxZufVyh02Wum3OllbQbg', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/reports/reports/comprehensive-budget/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9,fa;q=0.8', 'Cookie': 'csrftoken=aTbaGJ6kajfRwRcFceM69zxTh4Egv6cL; sessionid=tje7k3cffxzxqt06caclpsjoftvz9ay5'}
INFO 2025-07-27 11:23:32 ComprehensiveBudgetReportView get Found BudgetPeriod: شش ماهه ابتدای سال 1404 (ID=22), Organization: هتل لاله سرعین (ID=1)
INFO 2025-07-27 11:23:32 ComprehensiveBudgetReportView get Prepared 2 BudgetAllocation records
INFO 2025-07-27 11:23:32 middleware __call__ پاسخ برای /reports/reports/api/budget-items-for-org-period/22/1/ - کد وضعیت: 200
INFO 2025-07-27 11:23:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:23:42 middleware __call__ درخواست به: /reports/api/tankhahs-for-allocation/76/, کاربر: hfath
INFO 2025-07-27 11:23:43 ComprehensiveBudgetReportView get Fetching tankhahs for allocation 76
INFO 2025-07-27 11:23:43 middleware __call__ پاسخ برای /reports/api/tankhahs-for-allocation/76/ - کد وضعیت: 200
INFO 2025-07-27 11:23:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:23:48 middleware __call__ درخواست به: /tankhah/tankhah/5/, کاربر: hfath
INFO 2025-07-27 11:23:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahDetailView برای کاربر: hfath
INFO 2025-07-27 11:23:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:23:48 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
ERROR 2025-07-27 11:23:48 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 937, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
INFO 2025-07-27 11:23:49 middleware __call__ پاسخ برای /tankhah/tankhah/5/ - کد وضعیت: 500
INFO 2025-07-27 11:23:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:23:49 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 11:23:49 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 11:23:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:23:55 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:23:57 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:24:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:24:04 middleware __call__ درخواست به: /reports/financialDashboardView/, کاربر: hfath
INFO 2025-07-27 11:24:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FinancialDashboardView برای کاربر: hfath
INFO 2025-07-27 11:24:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:24:04 middleware __call__ پاسخ برای /reports/financialDashboardView/ - کد وضعیت: 500
INFO 2025-07-27 11:24:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:24:04 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 11:24:04 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 11:24:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:24:09 middleware __call__ درخواست به: /budgets/budgetrealtimeReportView/, کاربر: hfath
INFO 2025-07-27 11:24:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectBudgetRealtimeReportView برای کاربر: hfath
INFO 2025-07-27 11:24:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:24:10 middleware __call__ پاسخ برای /budgets/budgetrealtimeReportView/ - کد وضعیت: 200
INFO 2025-07-27 11:24:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:24:16 middleware __call__ درخواست به: /tankhah/tankhah/, کاربر: hfath
INFO 2025-07-27 11:24:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahListView برای کاربر: hfath
INFO 2025-07-27 11:24:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:24:16 view_tankhah get_queryset [TankhahListView] User: hfath, is_superuser: False
INFO 2025-07-27 11:24:16 view_tankhah get_queryset [TankhahListView] User: hfath, is_hq_user: True, User org PKs: [7]
INFO 2025-07-27 11:24:16 view_tankhah get_context_data [TankhahListView] ایجاد کنتکست برای کاربر: hfath
INFO 2025-07-27 11:24:16 middleware __call__ پاسخ برای /tankhah/tankhah/ - کد وضعیت: 500
INFO 2025-07-27 11:24:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:24:16 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 11:24:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 11:38:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:38:18 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:38:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:38:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:38:18 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:38:18 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:38:18 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:38:18 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:38:18 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:38:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:38:18 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:38:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:38:18 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:38:19 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:38:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:38:30 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:38:31 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:38:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:38:41 middleware __call__ درخواست به: /tankhah/tankhah/, کاربر: hfath
INFO 2025-07-27 11:38:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahListView برای کاربر: hfath
INFO 2025-07-27 11:38:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:38:41 view_tankhah get_queryset [TankhahListView] User: hfath, is_superuser: False
INFO 2025-07-27 11:38:41 view_tankhah get_queryset [TankhahListView] User: hfath, is_hq_user: True, User org PKs: [7]
INFO 2025-07-27 11:38:41 view_tankhah get_context_data [TankhahListView] ایجاد کنتکست برای کاربر: hfath
INFO 2025-07-27 11:38:41 middleware __call__ پاسخ برای /tankhah/tankhah/ - کد وضعیت: 500
INFO 2025-07-27 11:38:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:38:41 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 11:38:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 11:39:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:39:40 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:39:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:39:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:39:41 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:41 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 11:39:41 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 11:39:41 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:41 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:41 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:39:41 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:39:41 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:39:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:39:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:39:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:39:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:39:47 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:47 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 11:39:47 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 11:39:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:39:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:39:47 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:39:47 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:39:48 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:39:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:39:56 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:39:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:39:58 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 11:39:58 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:39:59 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:40:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:00 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:40:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:40:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:40:00 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:40:00 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:40:00 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:40:00 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:40:00 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:40:00 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:40:00 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:40:00 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:40:00 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:00 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:00 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:00 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:00 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:00 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:00 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:40:00 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:40:00 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:40:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:06 middleware __call__ درخواست به: /tankhah/factor/30/, کاربر: hfath
INFO 2025-07-27 11:40:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorDetailView برای کاربر: hfath
INFO 2025-07-27 11:40:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:40:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-27 11:40:06 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 11:40:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-27 11:40:06 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
ERROR 2025-07-27 11:40:06 rcms_custom_filters format_negative Error formatting number asdasdasd: could not convert string to float: 'asdasdasd'
INFO 2025-07-27 11:40:06 middleware __call__ پاسخ برای /tankhah/factor/30/ - کد وضعیت: 200
INFO 2025-07-27 11:40:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:12 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:40:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:40:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:40:13 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:13 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:40:13 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:40:13 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:40:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:32 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 11:40:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:40:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:36 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:40:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:40:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:40:36 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:40:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:40:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:40:37 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:40:37 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:40:37 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:40:37 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:40:37 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:40:37 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:37 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:37 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:40:37 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:40:37 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:40:37 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:40:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:40:42 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:40:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:40:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:40:42 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:40:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:40:42 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:40:42 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:40:43 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:42:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:42:26 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:42:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:42:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:42:26 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:26 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:26 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:42:26 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:42:26 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:42:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:42:42 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:42:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:42:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:42:42 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:42:42 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:42:42 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:42:42 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:42:42 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:43:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:09 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:43:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:43:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:43:09 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:09 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:43:09 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:43:09 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:43:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:11 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:43:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:43:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:43:11 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:43:11 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:11 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:11 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:43:11 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:43:11 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:43:11 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:43:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:11 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:43:14 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:43:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:43:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:43:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:43:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:47 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:43:48 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:43:48 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:43:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:49 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:43:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:43:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:43:49 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:43:49 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:43:49 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:43:49 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:43:49 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:43:49 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:43:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:43:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:50 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:43:53 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:43:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:43:55 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:43:58 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:44:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:44:49 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:44:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:44:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:44:50 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:50 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:50 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:44:50 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:44:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:44:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:44:52 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:44:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:44:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:44:52 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:44:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:52 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:44:52 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:44:52 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:44:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:44:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:44:52 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:44:54 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:44:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:44:57 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:44:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:44:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:44:57 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:44:57 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:44:57 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:44:57 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:44:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:44:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:44:59 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:44:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:45:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:45:00 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:45:00 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:00 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:00 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:45:00 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:45:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:45:00 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:45:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:00 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:45:03 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:45:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:42 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:45:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:44 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 11:45:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:45:46 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:45:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:46 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:45:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:45:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:45:47 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:45:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:45:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:45:47 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:45:47 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:45:47 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:45:47 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:45:47 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:45:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:45:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:45:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:45:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:45:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:45:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:45:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:45:47 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:45:47 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:45:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:52 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:45:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:45:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:45:52 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:52 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:45:52 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:45:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:45:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:54 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:45:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:45:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:45:55 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:45:55 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:45:55 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:45:55 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:45:55 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:45:55 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:45:55 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:45:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:45:55 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:45:58 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:46:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:10 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:46:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:46:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:46:11 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:11 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:11 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:46:11 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:46:11 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:46:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:12 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:46:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:46:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:46:12 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 11:46:12 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:12 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:12 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 11:46:12 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 11:46:12 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 11:46:12 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 11:46:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:12 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 11:46:14 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 11:46:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:29 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:46:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:46:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:46:30 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:30 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:30 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:46:30 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:46:30 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:46:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:43 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 11:46:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 11:46:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:46:44 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 11:46:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:46:44 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:46:44 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:46:44 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:46:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:46:46 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:46:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:46:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:46:46 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:46:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:46:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:46:46 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:46:46 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:46:46 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:46:46 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:46:46 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:46:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:46:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:46:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:46:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:46:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:46:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:46:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:46:46 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:46:46 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:51:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:22 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:51:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:51:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:51:23 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:51:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:51:23 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:51:23 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:51:23 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:51:23 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:51:23 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:51:23 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:51:23 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:51:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:23 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:51:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:23 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:51:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:23 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:51:23 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:51:23 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:51:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:42 middleware __call__ درخواست به: /dashboard/flows/, کاربر: AnonymousUser
INFO 2025-07-27 11:51:42 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-27 11:51:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:42 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 11:51:42 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 11:51:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:46 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 11:51:47 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 11:51:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:47 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 11:51:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 11:51:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:51:55 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:51:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:51:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:51:55 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:51:55 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:51:55 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:51:55 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:51:55 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:51:55 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:51:55 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:51:55 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:51:55 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:55 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:55 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:51:55 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:51:55 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:51:55 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:52:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:52:02 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-07-27 11:52:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 11:52:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:52:02 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 12
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001
INFO 2025-07-27 11:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 11:52:02 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 11:52:02 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 11:52:02 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-07-27 11:52:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:52:06 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:52:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:52:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:52:06 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:52:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:52:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:52:06 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:52:06 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:52:06 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:52:06 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:52:06 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:52:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:52:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:52:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:52:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:52:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:52:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:52:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:52:06 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:52:07 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:53:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:53:57 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:53:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:53:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:53:57 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:53:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:53:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:53:57 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:53:57 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:53:57 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:53:58 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:53:58 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:53:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:53:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:53:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:53:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:53:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:53:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:53:58 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:53:58 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:53:58 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:54:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:54:04 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:54:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:54:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:54:04 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:54:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:54:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:54:04 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:54:04 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:54:04 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:54:04 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:54:04 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:54:04 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:04 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:04 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:04 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:54:04 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:54:04 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:54:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:54:07 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:54:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:54:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:54:07 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:54:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:54:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:54:07 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:54:07 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:54:07 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:54:07 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:54:07 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:54:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:54:07 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:54:07 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:54:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:54:50 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:54:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:54:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:54:50 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:54:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:54:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:54:50 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:54:50 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:54:50 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:54:50 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:54:50 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:54:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:54:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:54:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:54:50 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:54:51 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:55:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:55:01 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:55:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:55:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:55:01 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:55:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:55:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:55:01 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:55:01 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:55:01 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:55:01 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:55:01 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:55:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:55:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:55:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:55:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:55:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:55:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:55:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:55:01 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:55:01 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:56:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:56:24 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:56:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:56:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:56:24 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:56:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:56:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:56:24 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:56:24 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:56:24 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:56:24 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:56:24 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:56:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:56:24 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:56:24 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:56:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:56:25 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:56:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:56:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:56:25 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:56:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:56:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:56:25 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:56:25 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:56:25 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:56:25 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:56:25 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:56:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:56:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:56:25 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:56:25 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:56:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:56:40 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: hfath
INFO 2025-07-27 11:56:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 11:56:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:56:40 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 11:56:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:56:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:56:40 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:56:40 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 11:56:40 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:56:40 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 11:56:40 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:56:40 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:56:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:40 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:56:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:40 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 11:56:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:56:40 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 11:56:40 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:56:40 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:57:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:57:06 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:57:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:57:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:57:06 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:57:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:57:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:57:06 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:57:06 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:57:06 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:57:06 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:57:06 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:57:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:57:06 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:57:06 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:57:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:57:28 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 11:57:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 11:57:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:57:28 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 11:57:28 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 11:57:28 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 11:57:28 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 11:57:28 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 11:57:28 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 11:57:28 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 11:57:28 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 11:57:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 11:57:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 11:57:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 11:57:28 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 11:57:28 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 11:58:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:58:33 middleware __call__ درخواست به: /tankhah/factor/30/approval-path, کاربر: admin
INFO 2025-07-27 11:58:33 middleware __call__ پاسخ برای /tankhah/factor/30/approval-path - کد وضعیت: 404
INFO 2025-07-27 11:58:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:58:33 middleware __call__ درخواست به: /tankhah/factor/30/approval-path/, کاربر: admin
INFO 2025-07-27 11:58:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: admin
INFO 2025-07-27 11:58:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 11:58:33 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 30
INFO 2025-07-27 11:58:33 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: admin
INFO 2025-07-27 11:58:33 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 11:58:33 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 11:58:33 middleware __call__ پاسخ برای /tankhah/factor/30/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 11:58:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 11:58:34 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 11:58:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:00:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:00:32 middleware __call__ درخواست به: /tankhah/factors/12/edit/, کاربر: admin
INFO 2025-07-27 12:00:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorUpdateView برای کاربر: admin
INFO 2025-07-27 12:00:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:00:32 view_FactorUpdate get_form_kwargs تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001 به فرم فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 پاس داده شد.
ERROR 2025-07-27 12:00:32 view_FactorUpdate get_context_data خطا در محاسبه بودجه تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorUpdate.py", line 623, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
INFO 2025-07-27 12:00:33 middleware __call__ پاسخ برای /tankhah/factors/12/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:00:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:00:33 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-07-27 12:00:33 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 12:00:33 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040000.00', 'project_returned': '0', 'project_remaining': '23998960000.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-07-27 12:00:33 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-07-27 12:00:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:00:59 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:00:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:00:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:00:59 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:00:59 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:00:59 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:00:59 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:00:59 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:00:59 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:00:59 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:00:59 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:00:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:00:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:00:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:00:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:00:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:00:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:00:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:00:59 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:00:59 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:02:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:02:21 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:02:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:02:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:02:21 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:02:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:02:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:02:21 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:02:21 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:02:21 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:02:21 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:02:22 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:02:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:02:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:02:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:02:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:02:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:02:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:02:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:02:22 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:02:22 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:03:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:03:37 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:03:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:03:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:03:37 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:03:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:03:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:03:37 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:03:37 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:03:37 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:03:37 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:03:37 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:03:37 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:37 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:37 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:37 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:03:37 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:03:37 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:03:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:03:38 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:03:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:03:38 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:03:38 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:03:38 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:03:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:03:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:03:38 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:03:38 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:03:38 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:03:39 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:03:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:03:53 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:03:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:03:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:03:53 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:03:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:03:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:03:53 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:03:53 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:03:53 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:03:53 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:03:53 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:03:53 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:03:53 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:04:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:04:03 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:04:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:04:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:04:03 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:04:03 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:04:03 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:04:03 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:04:03 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:04:03 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:04:03 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:04:03 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:04:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:04:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:04:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:04:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:04:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:04:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:04:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:04:03 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:04:03 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:05:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:05:50 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:05:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:05:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:05:50 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:05:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:05:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:05:50 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:05:50 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:05:50 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:05:50 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:05:50 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:05:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:50 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:05:50 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:05:50 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:05:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:05:54 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:05:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:05:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:05:54 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:05:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:05:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:05:54 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:05:54 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:05:54 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:05:54 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:05:54 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:05:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:05:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:05:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:05:54 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:05:54 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:06:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:06:01 middleware __call__ درخواست به: /tankhah/factor/28/, کاربر: admin
INFO 2025-07-27 12:06:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorDetailView برای کاربر: admin
INFO 2025-07-27 12:06:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:06:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-27 12:06:01 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 12:06:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-27 12:06:01 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
ERROR 2025-07-27 12:06:01 rcms_custom_filters format_negative Error formatting number sdfsdfsd: could not convert string to float: 'sdfsdfsd'
INFO 2025-07-27 12:06:01 middleware __call__ پاسخ برای /tankhah/factor/28/ - کد وضعیت: 200
INFO 2025-07-27 12:06:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:06:10 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:06:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:06:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:06:10 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:06:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:06:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:06:10 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:06:10 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:06:10 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:06:10 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:06:10 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:06:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:06:10 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:06:10 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:06:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:06:12 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:06:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:06:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:06:12 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:06:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:06:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:06:12 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:06:12 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:06:12 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:06:12 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:06:12 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:06:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:06:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:06:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:06:12 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:06:12 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:07:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:07:51 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:07:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:07:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:07:51 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:07:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:07:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:07:51 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:07:51 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:07:51 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:07:51 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:07:51 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:07:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:07:51 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:07:51 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:07:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:07:52 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:07:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:07:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:07:52 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:07:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:07:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:07:52 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:07:52 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:07:52 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:07:52 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:07:52 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:07:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:07:52 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:07:52 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:07:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:07:53 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:07:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:07:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:07:53 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:07:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:07:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:07:53 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:07:53 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:07:53 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:07:53 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:07:53 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:07:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:07:53 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:07:53 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:07:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:07:54 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:07:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:07:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:07:54 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:07:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:07:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:07:54 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:07:54 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:07:54 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:07:54 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:07:54 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:07:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:07:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:07:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:07:54 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:07:54 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:08:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:02 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:08:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:08:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:08:02 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:08:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:08:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:08:02 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:08:02 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:08:02 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:08:03 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:08:03 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:08:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:08:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:08:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:08:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:08:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:08:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:08:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:08:03 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:08:03 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:08:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:48 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:08:48 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:08:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:54 middleware __call__ درخواست به: /tankhah/factor/list3/, کاربر: admin
INFO 2025-07-27 12:08:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در OptimizedFactorListView برای کاربر: admin
INFO 2025-07-27 12:08:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:08:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای OptimizedFactorListView
INFO 2025-07-27 12:08:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:08:54 middleware __call__ پاسخ برای /tankhah/factor/list3/ - کد وضعیت: 500
INFO 2025-07-27 12:08:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:54 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:08:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:08:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:58 middleware __call__ درخواست به: /tankhah/factor/list3/, کاربر: admin
INFO 2025-07-27 12:08:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در OptimizedFactorListView برای کاربر: admin
INFO 2025-07-27 12:08:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:08:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای OptimizedFactorListView
INFO 2025-07-27 12:08:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:08:58 middleware __call__ پاسخ برای /tankhah/factor/list3/ - کد وضعیت: 500
INFO 2025-07-27 12:08:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:08:58 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:08:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:09:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:09:07 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:09:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:09:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:09:17 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:09:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:09:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:09:17 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:09:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:09:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:09:17 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:09:17 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:09:17 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:09:17 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:09:17 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:09:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:09:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:09:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:09:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:09:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:09:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:09:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:09:17 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:09:18 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:10:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:10:31 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:10:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:10:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:10:31 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:10:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:10:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:10:31 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:10:31 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:10:31 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:10:31 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:10:31 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:10:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:10:31 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:10:31 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 200
INFO 2025-07-27 12:10:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:10:38 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:10:39 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:10:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:10:42 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:10:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:10:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:10:42 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:10:42 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:10:42 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:10:42 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:10:42 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:10:42 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:10:42 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:10:42 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:10:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:10:42 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:10:42 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:10:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:10:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:10:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:10:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:10:56 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:10:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:10:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:10:56 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:10:56 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:10:56 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:10:57 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:10:57 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:10:57 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:57 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:57 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:10:57 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:10:57 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:10:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:11:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:11:42 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:11:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:11:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:11:42 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:11:42 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:11:42 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:11:42 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:11:42 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:11:42 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:11:42 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:11:42 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:11:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:11:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:11:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:11:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:11:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:11:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:11:42 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:11:42 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:11:43 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:13:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:13:07 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 12:13:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:13:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:13:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:13:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:13:08 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:14:38 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-07-27 12:14:38 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:38 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:38 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:39 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:39 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.503
INFO 2025-07-27 12:14:39 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:39 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:39 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.458
INFO 2025-07-27 12:14:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:39 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:40 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:40 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1018
INFO 2025-07-27 12:14:40 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:40 update_versions handle Versions updated: {'core': '3.0.0.503', 'version_tracker': '1.1.0.458', 'accounts': '1.3.0.1018'}
INFO 2025-07-27 12:14:40 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:40 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-07-27 12:14:40 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:40 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:40 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:41 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:41 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.504
INFO 2025-07-27 12:14:41 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:41 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:41 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:41 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.459
INFO 2025-07-27 12:14:41 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:41 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:42 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1019
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:42 update_versions handle Versions updated: {'core': '3.0.0.504', 'version_tracker': '1.1.0.459', 'accounts': '1.3.0.1019'}
INFO 2025-07-27 12:14:42 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:42 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-07-27 12:14:42 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:42 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:42 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:42 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.505
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:42 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:42 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.460
INFO 2025-07-27 12:14:42 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:42 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:43 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:43 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1020
INFO 2025-07-27 12:14:43 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:43 update_versions handle Versions updated: {'core': '3.0.0.505', 'version_tracker': '1.1.0.460', 'accounts': '1.3.0.1020'}
INFO 2025-07-27 12:14:43 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:43 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-07-27 12:14:43 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:43 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:43 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:43 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:43 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.506
INFO 2025-07-27 12:14:43 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:44 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:44 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.461
INFO 2025-07-27 12:14:44 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:44 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:44 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:44 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1021
INFO 2025-07-27 12:14:44 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:44 update_versions handle Versions updated: {'core': '3.0.0.506', 'version_tracker': '1.1.0.461', 'accounts': '1.3.0.1021'}
INFO 2025-07-27 12:14:44 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:44 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-07-27 12:14:44 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:44 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:44 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:45 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:14:45 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 12:14:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:14:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:14:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:14:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:14:45 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.507
INFO 2025-07-27 12:14:45 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:45 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:45 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:14:45 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:45 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.462
INFO 2025-07-27 12:14:45 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:45 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:47 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:47 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1022
INFO 2025-07-27 12:14:47 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:47 update_versions handle Versions updated: {'core': '3.0.0.507', 'version_tracker': '1.1.0.462', 'accounts': '1.3.0.1022'}
INFO 2025-07-27 12:14:47 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:47 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-07-27 12:14:47 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:47 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:47 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:48 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:48 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.508
INFO 2025-07-27 12:14:48 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:48 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:49 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.463
INFO 2025-07-27 12:14:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:49 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:50 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:50 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1023
INFO 2025-07-27 12:14:50 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:50 update_versions handle Versions updated: {'core': '3.0.0.508', 'version_tracker': '1.1.0.463', 'accounts': '1.3.0.1023'}
INFO 2025-07-27 12:14:50 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:50 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-07-27 12:14:50 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:50 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:50 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:51 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:51 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.509
INFO 2025-07-27 12:14:51 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:51 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:51 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:52 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.464
INFO 2025-07-27 12:14:52 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:52 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:53 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1024
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:53 update_versions handle Versions updated: {'core': '3.0.0.509', 'version_tracker': '1.1.0.464', 'accounts': '1.3.0.1024'}
INFO 2025-07-27 12:14:53 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:53 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-07-27 12:14:53 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:53 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:53 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:53 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.510
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:53 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:53 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.465
INFO 2025-07-27 12:14:53 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:53 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:14:55 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:55 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1025
INFO 2025-07-27 12:14:55 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:14:55 update_versions handle Versions updated: {'core': '3.0.0.510', 'version_tracker': '1.1.0.465', 'accounts': '1.3.0.1025'}
INFO 2025-07-27 12:14:56 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:14:56 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-27 12:14:56 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-27 12:14:56 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-07-27 12:14:56 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:14:56 update_versions handle Starting version update process...
INFO 2025-07-27 12:14:56 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:14:57 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:57 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.511
INFO 2025-07-27 12:14:57 models update_version_file Updated version.py for core
INFO 2025-07-27 12:14:57 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:14:58 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:58 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.466
INFO 2025-07-27 12:14:58 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:14:58 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:01 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:01 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1026
INFO 2025-07-27 12:15:01 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:01 update_versions handle Versions updated: {'core': '3.0.0.511', 'version_tracker': '1.1.0.466', 'accounts': '1.3.0.1026'}
INFO 2025-07-27 12:15:01 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:01 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-07-27 12:15:01 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:15:01 update_versions handle Starting version update process...
INFO 2025-07-27 12:15:01 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:15:02 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:02 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.512
INFO 2025-07-27 12:15:02 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:02 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:15:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:03 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.467
INFO 2025-07-27 12:15:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:03 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:04 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:05 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1027
INFO 2025-07-27 12:15:05 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:05 update_versions handle Versions updated: {'core': '3.0.0.512', 'version_tracker': '1.1.0.467', 'accounts': '1.3.0.1027'}
INFO 2025-07-27 12:15:05 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:05 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-07-27 12:15:05 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:15:05 update_versions handle Starting version update process...
INFO 2025-07-27 12:15:05 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:15:05 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:06 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.513
INFO 2025-07-27 12:15:06 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:15:06 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:06 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.468
INFO 2025-07-27 12:15:06 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:06 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:08 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1028
INFO 2025-07-27 12:15:08 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:08 update_versions handle Versions updated: {'core': '3.0.0.513', 'version_tracker': '1.1.0.468', 'accounts': '1.3.0.1028'}
INFO 2025-07-27 12:15:08 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:08 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-07-27 12:15:08 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:15:08 update_versions handle Starting version update process...
INFO 2025-07-27 12:15:08 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:15:09 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:09 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.514
INFO 2025-07-27 12:15:09 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:09 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:15:10 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.469
INFO 2025-07-27 12:15:10 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:12 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:12 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1029
INFO 2025-07-27 12:15:12 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:12 update_versions handle Versions updated: {'core': '3.0.0.514', 'version_tracker': '1.1.0.469', 'accounts': '1.3.0.1029'}
INFO 2025-07-27 12:15:12 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:12 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-07-27 12:15:12 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:15:12 update_versions handle Starting version update process...
INFO 2025-07-27 12:15:12 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:15:13 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:13 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.515
INFO 2025-07-27 12:15:13 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:13 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:15:13 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:14 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.470
INFO 2025-07-27 12:15:14 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:14 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:15 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:15 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1030
INFO 2025-07-27 12:15:15 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:15 update_versions handle Versions updated: {'core': '3.0.0.515', 'version_tracker': '1.1.0.470', 'accounts': '1.3.0.1030'}
INFO 2025-07-27 12:15:15 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:15 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-07-27 12:15:15 signals update_versions Calling update_versions command...
INFO 2025-07-27 12:15:15 update_versions handle Starting version update process...
INFO 2025-07-27 12:15:15 update_versions update_app_versions Checking core for changes...
INFO 2025-07-27 12:15:16 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:16 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.516
INFO 2025-07-27 12:15:16 models update_version_file Updated version.py for core
INFO 2025-07-27 12:15:16 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-27 12:15:17 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:17 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.471
INFO 2025-07-27 12:15:17 models update_version_file Updated version.py for version_tracker
INFO 2025-07-27 12:15:17 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-27 12:15:18 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1031
INFO 2025-07-27 12:15:18 models update_version_file Updated version.py for accounts
INFO 2025-07-27 12:15:18 update_versions handle Versions updated: {'core': '3.0.0.516', 'version_tracker': '1.1.0.471', 'accounts': '1.3.0.1031'}
INFO 2025-07-27 12:15:19 update_versions handle Final version updated successfully!
INFO 2025-07-27 12:15:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:15:50 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 12:15:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:15:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:15:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:15:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:15:50 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:16:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:05 middleware __call__ درخواست به: /accounts/roles/2/edit/, کاربر: admin
INFO 2025-07-27 12:16:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:05 middleware __call__ پاسخ برای /accounts/roles/2/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:16:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:05 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:16:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:16:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:16:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:05 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:16:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:08 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 12:16:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:08 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:08 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:08 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:16:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:13 middleware __call__ درخواست به: /accounts/roles/6/edit/, کاربر: admin
INFO 2025-07-27 12:16:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:13 middleware __call__ پاسخ برای /accounts/roles/6/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:16:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:13 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:16:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:16:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:16:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:13 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:16:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:19 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-07-27 12:16:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:20 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:16:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:26 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-07-27 12:16:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:26 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:16:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:26 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:16:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:16:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:16:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:26 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:16:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:32 middleware __call__ درخواست به: /accounts/roles/4/edit/, کاربر: admin
INFO 2025-07-27 12:16:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:32 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:32 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:32 middleware __call__ پاسخ برای /accounts/roles/4/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:16:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:38 middleware __call__ درخواست به: /accounts/roles/4/edit/, کاربر: admin
INFO 2025-07-27 12:16:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:38 middleware __call__ پاسخ برای /accounts/roles/4/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:16:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:38 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:16:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:16:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:16:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:38 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:16:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:49 middleware __call__ درخواست به: /accounts/roles/9/edit/, کاربر: admin
INFO 2025-07-27 12:16:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:49 middleware __call__ پاسخ برای /accounts/roles/9/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:16:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:54 middleware __call__ درخواست به: /accounts/roles/9/edit/, کاربر: admin
INFO 2025-07-27 12:16:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:16:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:16:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:54 middleware __call__ پاسخ برای /accounts/roles/9/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:16:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:16:54 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:16:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:16:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:16:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:16:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:16:54 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:17:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:04 middleware __call__ درخواست به: /accounts/roles/7/edit/, کاربر: admin
INFO 2025-07-27 12:17:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:17:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:17:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:05 middleware __call__ پاسخ برای /accounts/roles/7/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:17:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:09 middleware __call__ درخواست به: /accounts/roles/7/edit/, کاربر: admin
INFO 2025-07-27 12:17:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:17:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:17:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:09 middleware __call__ پاسخ برای /accounts/roles/7/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:17:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:09 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:17:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:17:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:17:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:09 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:17:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:18 middleware __call__ درخواست به: /accounts/roles/5/edit/, کاربر: admin
INFO 2025-07-27 12:17:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:17:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:17:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:18 middleware __call__ پاسخ برای /accounts/roles/5/edit/ - کد وضعیت: 200
INFO 2025-07-27 12:17:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:25 middleware __call__ درخواست به: /accounts/roles/5/edit/, کاربر: admin
INFO 2025-07-27 12:17:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-07-27 12:17:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-07-27 12:17:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:25 middleware __call__ پاسخ برای /accounts/roles/5/edit/ - کد وضعیت: 302
INFO 2025-07-27 12:17:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:25 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-27 12:17:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-27 12:17:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-27 12:17:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:25 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-27 12:17:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:32 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:17:32 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 404
INFO 2025-07-27 12:17:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:32 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:17:32 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:17:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:34 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:17:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:17:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:37 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: admin
INFO 2025-07-27 12:17:37 middleware __call__ پاسخ برای /tankhah/factor/list/ - کد وضعیت: 404
INFO 2025-07-27 12:17:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:37 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:17:37 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:17:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:43 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:17:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:17:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:17:45 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:17:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:17:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:17:45 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:17:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:17:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:17:45 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:17:45 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:17:46 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:17:46 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:17:46 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:17:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:17:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:17:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:17:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:17:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:17:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:17:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:17:46 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:17:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:19:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:19:27 middleware __call__ درخواست به: /tankhah/approvals, کاربر: admin
INFO 2025-07-27 12:19:27 middleware __call__ پاسخ برای /tankhah/approvals - کد وضعیت: 404
INFO 2025-07-27 12:19:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:19:27 middleware __call__ درخواست به: /tankhah/approvals/, کاربر: admin
INFO 2025-07-27 12:19:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ApprovalListView برای کاربر: admin
INFO 2025-07-27 12:19:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:19:28 middleware __call__ پاسخ برای /tankhah/approvals/ - کد وضعیت: 200
INFO 2025-07-27 12:20:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:03 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:20:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:05 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-27 12:20:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:20:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:09 middleware __call__ درخواست به: /tankhah/approvals/, کاربر: admin
INFO 2025-07-27 12:20:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ApprovalListView برای کاربر: admin
INFO 2025-07-27 12:20:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:20:09 middleware __call__ پاسخ برای /tankhah/approvals/ - کد وضعیت: 200
INFO 2025-07-27 12:20:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:12 middleware __call__ درخواست به: /tankhah/approval/232/, کاربر: admin
INFO 2025-07-27 12:20:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ApprovalDetailView برای کاربر: admin
INFO 2025-07-27 12:20:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:20:12 middleware __call__ پاسخ برای /tankhah/approval/232/ - کد وضعیت: 500
INFO 2025-07-27 12:20:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:12 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:20:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:20:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:17 middleware __call__ درخواست به: /tankhah/approval/224/update/, کاربر: admin
INFO 2025-07-27 12:20:18 middleware __call__ پاسخ برای /tankhah/approval/224/update/ - کد وضعیت: 404
INFO 2025-07-27 12:20:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:18 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:20:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:20:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:21 middleware __call__ درخواست به: /tankhah/approval/224/update/, کاربر: admin
INFO 2025-07-27 12:20:21 middleware __call__ پاسخ برای /tankhah/approval/224/update/ - کد وضعیت: 404
INFO 2025-07-27 12:20:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:21 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:20:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:20:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:20:24 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:20:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:20:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:20:24 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:20:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:20:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:20:24 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:20:24 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:20:24 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:20:24 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:20:24 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:20:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:20:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:20:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:20:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:20:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:20:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:20:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:20:24 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:20:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:22:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:22:52 middleware __call__ درخواست به: /tankhah/factor-item/28/approve/, کاربر: admin
INFO 2025-07-27 12:22:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 12:22:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:22:52 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 28
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:22:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:22:52 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:22:52 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:22:52 middleware __call__ پاسخ برای /tankhah/factor-item/28/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:23:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:23:13 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:23:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:23:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:23:13 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:23:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:23:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:23:13 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:23:13 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:23:13 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:23:13 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:23:13 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:23:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:23:13 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:23:13 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:23:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:23:24 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:23:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:23:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:23:24 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:23:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:23:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:23:24 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:23:24 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:23:24 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:23:24 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:23:24 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:23:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:23:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:23:24 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:23:24 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:23:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:24:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:24:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:24:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:24:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:24:07 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:24:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:24:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:24:07 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:24:07 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:24:07 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:24:07 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:24:07 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:24:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:24:07 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:24:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:24:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:24:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:24:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:24:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:24:09 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:24:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:24:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:24:09 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:24:09 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:24:09 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:24:09 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:24:09 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:24:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:24:09 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:24:09 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:24:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:24:15 middleware __call__ درخواست به: /tankhah/factor-item/28/approve/, کاربر: admin
INFO 2025-07-27 12:24:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 12:24:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:24:15 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 28
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:15 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:15 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:24:15 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:24:15 middleware __call__ پاسخ برای /tankhah/factor-item/28/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:24:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:24:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:24:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:24:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:24:29 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:24:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:24:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:24:29 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:24:29 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:24:29 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:24:29 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:24:29 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:24:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:24:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:24:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:24:29 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:24:29 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:24:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:24:35 middleware __call__ درخواست به: /tankhah/factor-item/28/approve/, کاربر: admin
INFO 2025-07-27 12:24:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 12:24:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:24:35 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 28
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:24:35 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:24:35 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:24:35 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:24:35 middleware __call__ پاسخ برای /tankhah/factor-item/28/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:25:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:25:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:25:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:25:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:25:10 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:25:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:25:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:25:10 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:25:10 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:25:10 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:25:10 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:25:10 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:25:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:25:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:25:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:25:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:25:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:25:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:25:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:25:10 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:25:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:25:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:25:18 middleware __call__ درخواست به: /tankhah/factor/28/approval-path/, کاربر: admin
INFO 2025-07-27 12:25:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: admin
INFO 2025-07-27 12:25:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:25:18 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 28
INFO 2025-07-27 12:25:18 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: admin
INFO 2025-07-27 12:25:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 12:25:18 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 12:25:18 middleware __call__ پاسخ برای /tankhah/factor/28/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 12:25:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:25:19 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:25:19 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:26:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-27 12:26:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-27 12:26:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:26:10 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-27 12:26:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:26:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:26:10 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:26:10 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-27 12:26:10 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:26:10 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-27 12:26:10 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:26:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:26:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:26:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:26:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:26:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-27 12:26:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:26:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-27 12:26:10 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:26:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:26:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:17 middleware __call__ درخواست به: /tankhah/factor/28/approval-path/, کاربر: admin
INFO 2025-07-27 12:26:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: admin
INFO 2025-07-27 12:26:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:26:17 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 28
INFO 2025-07-27 12:26:17 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: admin
INFO 2025-07-27 12:26:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 12:26:17 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 12:26:17 middleware __call__ پاسخ برای /tankhah/factor/28/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 12:26:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:17 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-27 12:26:17 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:26:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:23 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-27 12:26:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-27 12:26:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:26:23 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر admin در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:26:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر admin (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:26:23 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:26:23 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:26:23 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:26:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:28 middleware __call__ درخواست به: /tankhah/factor/list/, کاربر: AnonymousUser
INFO 2025-07-27 12:26:28 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-27 12:26:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:28 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 12:26:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 12:26:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:31 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 12:26:32 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 12:26:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:26:32 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 12:26:32 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:29:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:08 middleware __call__ درخواست به: /tankhah/approvals/, کاربر: hfath
INFO 2025-07-27 12:29:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ApprovalListView برای کاربر: hfath
INFO 2025-07-27 12:29:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:29:09 middleware __call__ پاسخ برای /tankhah/approvals/ - کد وضعیت: 500
INFO 2025-07-27 12:29:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:09 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:29:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:29:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:15 middleware __call__ درخواست به: /tankhah/approvals/, کاربر: hfath
INFO 2025-07-27 12:29:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ApprovalListView برای کاربر: hfath
INFO 2025-07-27 12:29:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:29:15 middleware __call__ پاسخ برای /tankhah/approvals/ - کد وضعیت: 500
INFO 2025-07-27 12:29:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:15 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:29:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:29:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:32 middleware __call__ درخواست به: /organizations/, کاربر: hfath
INFO 2025-07-27 12:29:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در OrganizationListView برای کاربر: hfath
INFO 2025-07-27 12:29:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:29:32 views get_context_data Final context organizations count: 7
INFO 2025-07-27 12:29:32 middleware __call__ پاسخ برای /organizations/ - کد وضعیت: 200
INFO 2025-07-27 12:29:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:29:44 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 12:29:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 12:35:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:35:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:35:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:35:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:35:38 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:35:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:35:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:35:38 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:35:38 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:35:38 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:35:38 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:35:38 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:35:38 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:35:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:35:38 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:35:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:35:38 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:35:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:35:38 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:35:38 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:35:38 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:35:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:35:44 middleware __call__ درخواست به: /tankhah/factor-item/28/approve/, کاربر: hfath
INFO 2025-07-27 12:35:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 12:35:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:35:44 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 28
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001
INFO 2025-07-27 12:35:44 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:35:44 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:35:44 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:35:44 middleware __call__ پاسخ برای /tankhah/factor-item/28/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:36:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:36:42 middleware __call__ درخواست به: /tankhah/factor/28/approval-path/, کاربر: hfath
INFO 2025-07-27 12:36:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: hfath
INFO 2025-07-27 12:36:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:36:42 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 28
INFO 2025-07-27 12:36:42 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: hfath
INFO 2025-07-27 12:36:42 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 12:36:42 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 12:36:42 middleware __call__ پاسخ برای /tankhah/factor/28/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 12:36:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:36:42 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:36:42 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:36:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:36:55 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 12:36:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 12:36:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:36:55 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:36:55 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:36:55 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:36:55 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:36:56 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:37:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:37:13 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 12:37:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 12:37:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:37:13 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:37:13 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 12:37:13 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 12:37:13 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:37:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:37:13 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:37:13 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:37:13 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:38:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:38:23 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 12:38:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 12:38:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:38:23 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:38:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:38:23 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:38:23 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:38:23 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 12:38:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:38:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:38:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:38:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:38:26 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:38:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:38:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:38:26 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:38:26 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:38:26 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:38:26 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:38:26 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:38:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:38:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:38:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:38:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:38:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:38:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:38:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:38:26 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:38:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:40:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:40:04 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:40:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:40:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:40:04 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:40:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:40:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:40:04 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:40:04 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:40:04 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:40:04 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:40:04 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:40:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:40:05 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:40:05 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:40:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:40:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:40:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:40:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:40:22 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:40:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:40:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:40:22 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:40:22 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:40:22 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:40:22 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:40:22 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:40:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:40:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:40:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:40:22 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:40:22 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:41:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:41:20 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:41:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:41:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:41:20 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:41:20 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:41:20 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:41:20 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:41:20 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:41:20 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:41:20 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:41:20 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:41:20 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:41:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:41:20 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:41:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:41:20 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:41:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:41:20 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:41:20 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:41:20 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:42:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:42:43 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:42:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:42:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:42:43 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:42:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:42:43 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:42:43 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:42:43 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:42:43 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:42:43 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:42:43 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:42:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:42:43 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:42:43 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:42:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:42:44 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:42:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:42:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:42:45 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:42:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:42:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:42:45 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:42:45 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:42:45 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:42:45 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:42:45 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:42:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:42:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:42:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:42:45 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:42:45 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:43:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:43:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:43:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:43:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:43:07 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:43:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:43:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:43:07 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:43:07 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:43:08 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:43:08 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:43:08 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:43:08 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:08 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:08 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:08 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:43:08 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:43:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:43:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:43:08 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:43:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:43:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:43:08 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:43:08 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:43:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:43:09 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:43:09 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:43:09 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:43:09 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:43:09 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:43:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:43:09 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:43:09 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:43:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:43:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:43:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:43:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:43:55 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:43:55 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:43:55 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:43:55 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:43:55 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:43:55 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:43:55 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:43:55 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:43:55 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:55 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:55 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:43:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:43:55 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:43:55 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:43:55 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:44:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:44:02 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:44:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:44:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:44:02 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:44:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:44:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:44:02 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:44:02 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:44:02 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:44:02 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:44:02 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:44:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:44:02 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:44:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:44:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:44:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:44:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:44:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:44:30 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:44:30 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:44:30 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:44:30 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:44:30 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:30 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:30 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:30 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:44:30 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:44:30 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:44:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:44:30 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:44:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:44:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:44:30 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:44:30 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:44:30 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:44:31 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:44:31 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:44:31 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:44:31 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:31 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:31 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:31 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:44:31 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:44:31 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:44:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:44:31 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:44:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:44:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:44:31 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:44:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:44:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:44:31 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:44:31 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:44:31 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:44:31 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:44:32 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:44:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:44:32 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:44:32 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:44:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:44:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:44:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:44:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:44:56 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:44:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:44:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:44:56 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:44:56 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:44:56 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:44:56 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:44:56 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:44:56 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:56 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:56 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:44:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:44:56 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:44:56 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:44:56 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:47:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:47:34 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:47:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:47:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:47:34 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:47:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:47:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:47:34 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:47:34 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:47:35 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:47:35 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:47:35 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:47:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:47:35 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:47:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:47:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:47:35 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:47:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:47:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:47:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:47:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:47:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:47:53 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:47:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:47:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:47:53 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:47:53 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:47:53 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:47:53 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:47:53 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:47:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:47:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:47:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:47:53 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:47:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:47:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:47:54 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:47:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:48:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:48:18 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:48:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:48:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:48:18 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:48:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:48:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:48:18 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:48:18 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:48:18 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:48:18 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:48:18 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:48:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:48:18 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:48:18 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:48:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:48:18 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:48:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:48:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:48:44 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:48:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:48:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:48:44 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:48:44 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:48:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:48:44 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:48:44 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:48:44 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:48:44 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:48:44 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:48:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:48:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:48:44 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:48:44 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:48:45 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:48:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:48:52 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: hfath
INFO 2025-07-27 12:48:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: hfath
INFO 2025-07-27 12:48:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:48:52 utils restrict_to_user_organization User hfath restricted to organizations: [7]
INFO 2025-07-27 12:48:52 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-27 12:49:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:49:21 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:49:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:49:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:49:21 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:49:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:49:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:49:21 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:49:21 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:49:22 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:49:22 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:49:22 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:49:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:49:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:49:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:49:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:49:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:49:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:49:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:49:22 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:49:22 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:51:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:51:05 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:51:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:51:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:51:05 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:51:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:51:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:51:05 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:51:05 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:51:05 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:51:05 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:51:05 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:51:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:05 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:05 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:51:05 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:51:05 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:51:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:51:05 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:51:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:51:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:51:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:51:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:51:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:51:52 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:51:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:51:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:51:52 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:51:52 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:51:52 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:51:52 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:51:52 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:51:52 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:52 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:52 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:51:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:51:52 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:51:52 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:51:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:51:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:51:52 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:51:52 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:52:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:52:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:52:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:52:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:52:25 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:52:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:52:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:52:25 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:52:25 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:52:25 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:52:25 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:52:25 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:52:25 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:52:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:52:25 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:52:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:52:25 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:52:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:52:25 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:52:25 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:52:25 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-27 12:52:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:52:26 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 12:52:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 12:53:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:53:14 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:53:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:53:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:53:14 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:53:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:53:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:53:14 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:53:14 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:53:14 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:53:14 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:53:14 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:53:14 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:14 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:14 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:14 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:53:14 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:53:14 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:53:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:53:21 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:53:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:53:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:53:21 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:53:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:53:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:53:21 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:53:21 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:53:21 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:53:21 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:53:21 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:53:21 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:21 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:21 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:53:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:53:21 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:53:21 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:53:21 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:54:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:54:01 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 12:54:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 12:54:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:54:01 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 12:54:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 12:54:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 12:54:01 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 12:54:01 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 12:54:01 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 12:54:01 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 12:54:02 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 12:54:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:54:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:54:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:54:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:54:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 12:54:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 12:54:02 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 12:54:02 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 12:54:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 12:54:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 12:54:27 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 12:54:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 12:54:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 12:54:27 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 12:54:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 12:54:27 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 12:54:27 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 12:54:27 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:04:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:04:56 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:04:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:04:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:04:56 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:04:56 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:04:56 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 13:04:56 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 13:04:56 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:05:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:05:11 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:05:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:05:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:05:12 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:05:12 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:05:12 view_FactorItemApprove get_context_data تعداد جفت‌های فرم: 1
INFO 2025-07-27 13:05:12 view_FactorItemApprove get_context_data can_edit=True, has_previous_action=False, all_items_processed=False
INFO 2025-07-27 13:05:12 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:09:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:09:25 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:09:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:09:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:09:25 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 13:09:25 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:09:25 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:09:25 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 13:09:25 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 13:09:25 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:09:25 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:09:25 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-07-27 13:09:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:09:25 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 13:09:25 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 13:11:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:11:23 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:11:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:11:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:11:23 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 13:11:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:11:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:11:23 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 13:11:23 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 13:11:23 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:11:23 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:11:23 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:11:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:11:38 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:11:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:11:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:11:38 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 13:11:38 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:11:38 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:11:38 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 13:11:38 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 13:11:38 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:11:38 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:11:38 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:16:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:16:13 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:16:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:16:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:16:13 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 13:16:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:16:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:16:13 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-27 13:16:13 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1183, in post
    raise ValidationError(_("توضیحات تأیید برای تأیید گروهی الزامی است."))
django.core.exceptions.ValidationError: ['توضیحات تأیید برای تأیید گروهی الزامی است.']
INFO 2025-07-27 13:16:13 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:16:13 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:16:13 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:37:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:37:39 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:37:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:37:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:37:40 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 13:37:40 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:37:40 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:37:40 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-27 13:37:40 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 13:37:40 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 13:37:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:37:40 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 13:37:41 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 13:37:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:37:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 13:37:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 13:37:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:37:53 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 13:37:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 13:37:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 13:37:53 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 13:37:53 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 13:37:53 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 13:37:53 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 13:37:53 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 13:37:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:37:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:37:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:37:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:37:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:37:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:37:53 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 13:37:53 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 13:37:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 13:38:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:38:00 middleware __call__ درخواست به: /tankhah/factor/30/approval-path/, کاربر: hfath
INFO 2025-07-27 13:38:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: hfath
INFO 2025-07-27 13:38:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:38:00 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 30
INFO 2025-07-27 13:38:00 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: hfath
INFO 2025-07-27 13:38:00 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 13:38:00 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 13:38:00 middleware __call__ پاسخ برای /tankhah/factor/30/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 13:38:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:38:00 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 13:38:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 13:38:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:38:04 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:38:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:38:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:38:04 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:38:04 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:38:04 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:43:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:43:01 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-27 13:43:03 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 13:43:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:43:12 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 13:43:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 13:43:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:43:12 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 13:43:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 13:43:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 13:43:12 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 13:43:12 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 13:43:12 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 13:43:12 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 13:43:12 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 13:43:12 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:43:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:43:12 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:43:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:43:12 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 13:43:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:43:12 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 13:43:12 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 13:43:12 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 13:43:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:43:22 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:43:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:43:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:43:22 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:43:22 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:43:23 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:43:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:43:57 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:43:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:43:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:43:57 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:43:57 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:43:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:43:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:43:58 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:43:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:43:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:43:58 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:43:58 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:43:58 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:44:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:44:19 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:44:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:44:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:44:19 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:44:19 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:44:19 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:44:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:44:22 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:44:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:44:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:44:22 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:44:22 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:44:22 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:46:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:46:31 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 13:46:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 13:46:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:46:31 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:46:31 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:46:31 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:47:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:02 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-07-27 13:47:02 middleware __call__ کاربر  خارج شد
INFO 2025-07-27 13:47:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:02 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 13:47:02 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 13:47:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:07 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 13:47:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 13:47:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 13:47:12 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 13:47:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:12 middleware __call__ درخواست به: /, کاربر: foad
INFO 2025-07-27 13:47:12 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 13:47:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:15 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-27 13:47:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-27 13:47:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:47:15 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-27 13:47:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 13:47:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 13:47:15 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 13:47:15 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-27 13:47:15 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 13:47:15 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-27 13:47:15 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 13:47:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:47:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:47:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:47:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:47:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:47:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:47:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-27 13:47:15 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 13:47:15 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 13:47:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:22 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 13:47:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 13:47:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:47:22 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:47:22 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:47:22 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:47:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:31 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 13:47:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 13:47:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:47:31 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 13:47:31 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:47:31 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:47:31 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-27 13:47:31 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-27 13:47:31 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-27 13:47:31 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-27 13:47:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:31 middleware __call__ درخواست به: /dashboard/flows/, کاربر: foad
INFO 2025-07-27 13:47:32 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-27 13:47:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:47:57 middleware __call__ درخواست به: /, کاربر: foad
INFO 2025-07-27 13:47:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 13:48:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:48:00 middleware __call__ درخواست به: /tankhah/tankhah/, کاربر: foad
INFO 2025-07-27 13:48:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahListView برای کاربر: foad
INFO 2025-07-27 13:48:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:48:00 view_tankhah get_queryset [TankhahListView] User: foad, is_superuser: False
INFO 2025-07-27 13:48:00 view_tankhah get_queryset [TankhahListView] User: foad, is_hq_user: True, User org PKs: [7]
INFO 2025-07-27 13:48:00 view_tankhah get_context_data [TankhahListView] ایجاد کنتکست برای کاربر: foad
INFO 2025-07-27 13:48:00 middleware __call__ پاسخ برای /tankhah/tankhah/ - کد وضعیت: 500
INFO 2025-07-27 13:48:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:48:00 middleware __call__ درخواست به: /favicon.ico, کاربر: foad
INFO 2025-07-27 13:48:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 13:48:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:48:03 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-27 13:48:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-27 13:48:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:48:03 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-27 13:48:03 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 13:48:03 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 13:48:03 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 13:48:03 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-27 13:48:03 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 13:48:03 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-27 13:48:03 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 13:48:03 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:48:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:48:03 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:48:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:48:03 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 13:48:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 13:48:03 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-27 13:48:03 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 13:48:03 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 13:48:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:48:09 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 13:48:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 13:48:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:48:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:48:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:48:09 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 13:53:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 13:53:17 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 13:53:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 13:53:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 13:53:18 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 13:53:18 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 13:53:18 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 13:53:18 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 13:53:18 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:06:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:06:17 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:06:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:06:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:06:17 view_FactorItemApprove post [POST] Request for factor 30 by foad in stage '2'
INFO 2025-07-27 14:06:17 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:06:17 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:06:17 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:06:17 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:06:17 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:06:17 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:06:17 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:20:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:20:36 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:20:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:20:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:20:36 view_FactorItemApprove post [POST] Request for factor 30 by foad in stage '2'
INFO 2025-07-27 14:20:36 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:20:36 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:20:36 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:20:36 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:20:36 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:20:36 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:20:36 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:20:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:20:39 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:20:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:20:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:20:40 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:20:40 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:20:40 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:20:40 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:20:40 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:20:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:20:44 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-27 14:20:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-27 14:20:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:20:44 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-27 14:20:44 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 14:20:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 14:20:44 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 14:20:44 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-27 14:20:44 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 14:20:44 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-27 14:20:44 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 14:20:44 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:20:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:20:44 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:20:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:20:44 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:20:44 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:20:44 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-27 14:20:44 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 14:20:44 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 14:20:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:20:51 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:20:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:20:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:20:51 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:20:51 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:20:51 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:20:51 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:20:51 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:21:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:21:17 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:21:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:21:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:21:17 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:21:17 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:21:17 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:21:17 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:21:17 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:21:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:21:18 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:21:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:21:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:21:18 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:21:18 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:21:18 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:21:18 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:21:18 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:21:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:21:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:21:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:21:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:21:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:21:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:21:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:21:47 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:21:47 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:21:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:21:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:21:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:21:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:21:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:21:47 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:21:47 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:21:47 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:21:47 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:41:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:41:39 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:41:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:41:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:41:39 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:41:39 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-27 14:41:39 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
INFO 2025-07-27 14:41:39 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:41:39 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:41:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:41:48 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:41:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:41:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:41:48 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 14:41:48 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-27 14:41:48 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
WARNING 2025-07-27 14:41:48 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:41:48 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:41:48 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-27 14:41:48 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
INFO 2025-07-27 14:41:48 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:41:48 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:42:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:42:19 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:42:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:42:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:42:19 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 14:42:19 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-27 14:42:19 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
WARNING 2025-07-27 14:42:19 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:42:19 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:42:19 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-27 14:42:19 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
INFO 2025-07-27 14:42:19 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:42:19 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:42:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:42:32 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:42:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:42:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:42:32 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 14:42:32 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:42:32 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:42:32 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:42:32 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:42:32 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:42:32 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:42:32 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:42:32 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:43:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:43:25 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:43:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:43:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:43:25 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 14:43:25 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:43:25 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:43:25 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:43:25 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:43:25 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:43:25 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:43:25 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:43:25 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:46:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:27 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:46:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:46:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:46:27 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-27 14:46:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:46:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:46:27 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:46:27 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:46:27 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:46:27 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:46:27 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:46:27 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:46:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:35 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-27 14:46:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-27 14:46:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:46:35 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:46:35 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر foad در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:46:35 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر foad (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:46:35 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:46:35 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-27 14:46:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-27 14:46:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:46:38 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-27 14:46:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 14:46:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 14:46:38 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 14:46:38 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-27 14:46:38 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 14:46:38 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-27 14:46:38 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 14:46:38 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:46:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:38 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:46:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:38 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-27 14:46:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:38 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-27 14:46:38 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 14:46:38 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 14:46:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:49 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-07-27 14:46:49 middleware __call__ کاربر  خارج شد
INFO 2025-07-27 14:46:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:49 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 14:46:49 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-27 14:46:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:53 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-27 14:46:54 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-27 14:46:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:54 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-27 14:46:54 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-27 14:46:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:46:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 14:46:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 14:46:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:46:57 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 14:46:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 14:46:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 14:46:57 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 14:46:57 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 14:46:57 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 14:46:57 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 14:46:57 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 14:46:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:46:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:46:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:46:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:46:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 14:46:57 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 14:46:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 14:47:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:47:43 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-27 14:47:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-27 14:47:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:47:43 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-27 14:47:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-27 14:47:43 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-27 14:47:43 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-27 14:47:43 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-27 14:47:43 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-27 14:47:43 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-27 14:47:43 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-27 14:47:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:47:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:47:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:47:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:47:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-27 14:47:43 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-27 14:47:43 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-27 14:47:43 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-27 14:47:43 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-27 14:47:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:47:48 middleware __call__ درخواست به: /tankhah/factor/30/approval-path/, کاربر: hfath
INFO 2025-07-27 14:47:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: hfath
INFO 2025-07-27 14:47:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:47:49 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 30
INFO 2025-07-27 14:47:49 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: hfath
INFO 2025-07-27 14:47:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-07-27 14:47:49 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-27 14:47:49 middleware __call__ پاسخ برای /tankhah/factor/30/approval-path/ - کد وضعیت: 500
INFO 2025-07-27 14:47:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:47:49 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-27 14:47:49 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-27 14:47:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:47:52 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:47:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:47:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:47:52 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:47:52 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:47:52 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:47:52 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:47:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:51:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:51:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:51:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:51:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:51:51 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:51:51 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:51:51 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:51:51 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:51:51 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:52:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:52:08 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:52:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:52:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:52:09 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 14:52:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:52:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:52:09 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:52:09 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:52:09 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:52:09 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:52:09 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:52:09 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:52:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:52:19 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:52:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:52:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:52:19 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 14:52:19 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:52:19 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:52:19 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:52:19 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:52:19 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:52:19 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:52:19 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:52:19 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:54:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:54:28 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:54:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:54:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:54:28 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 14:54:28 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:54:28 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
WARNING 2025-07-27 14:54:28 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:54:28 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:54:28 fun_can_edit_approval can_edit_approval [can_edit_approval] بررسی دسترسی برای کاربر hfath در مرحله 2 (ترتیب: 1), تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003
INFO 2025-07-27 14:54:28 fun_can_edit_approval can_edit_approval [can_edit_approval] کاربر hfath (superuser/HQ/Tankhah_view_all) دسترسی کامل دارد
INFO 2025-07-27 14:54:28 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:54:29 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:55:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:55:32 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:55:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:55:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:55:32 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 14:55:32 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-27 14:55:32 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
WARNING 2025-07-27 14:55:32 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:55:32 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:55:33 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-27 14:55:33 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-27 14:55:33 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:55:33 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-27 14:56:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-27 14:56:06 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-27 14:56:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-27 14:56:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-27 14:56:06 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-27 14:56:06 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-27 14:56:06 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
WARNING 2025-07-27 14:56:06 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست نامعتبر است: [{'status': ['برای ردیفی که توضیحات دارد، باید یک اقدام (تأیید/رد) انتخاب شود.']}]
INFO 2025-07-27 14:56:06 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-27 14:56:06 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-27 14:56:06 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-27 14:56:06 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-27 14:56:06 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 09:35:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:35:23 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-28 09:35:23 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 09:35:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:35:23 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 09:35:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 09:35:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:35:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 09:35:51 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 09:35:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:35:51 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 09:35:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 09:35:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:35:58 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-07-28 09:35:58 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-07-28 09:36:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:38 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-07-28 09:36:38 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-07-28 09:36:38 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-07-28 09:36:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:42 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-07-28 09:36:42 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-07-28 09:36:42 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-07-28 09:36:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:42 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-07-28 09:36:42 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-07-28 09:36:42 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-07-28 09:36:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:53 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-28 09:36:53 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 09:36:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:53 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 09:36:53 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 09:36:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:36:59 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 09:37:00 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 09:37:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:37:00 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 09:37:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 09:38:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:38:18 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 09:38:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 09:38:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 09:38:18 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 09:38:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 09:38:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 09:38:18 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 09:38:18 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 09:38:18 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 09:38:18 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 09:38:18 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 09:38:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 09:38:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 09:38:18 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 09:38:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 09:38:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 09:38:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 09:38:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 09:38:19 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 09:38:19 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 09:38:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:38:24 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 09:38:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 09:38:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 09:38:24 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 09:38:24 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 09:38:24 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 09:38:24 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 09:38:24 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 09:38:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 09:38:42 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 09:38:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 09:38:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 09:38:42 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 09:38:42 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 09:38:42 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 09:38:42 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-28 09:38:42 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: DISTINCT ON fields is not supported by this database backend
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1213, in post
    ).distinct('post').count()
                       ~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 630, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 2100, in as_sql
    ).as_sql(with_col_aliases=True)
      ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 796, in as_sql
    distinct_result, distinct_params = self.connection.ops.distinct_sql(
                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        distinct_fields,
        ^^^^^^^^^^^^^^^^
        distinct_params,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\operations.py", line 205, in distinct_sql
    raise NotSupportedError(
        "DISTINCT ON fields is not supported by this database backend"
    )
django.db.utils.NotSupportedError: DISTINCT ON fields is not supported by this database backend
INFO 2025-07-28 09:38:42 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 09:38:42 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 09:38:42 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 09:38:42 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 09:38:43 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 10:10:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:10:38 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-28 10:10:38 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 10:10:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:10:38 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 10:10:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 10:10:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:10:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 10:10:51 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 10:10:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:10:51 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 10:10:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 10:10:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:10:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 10:10:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 10:10:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:10:57 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 10:10:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 10:10:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 10:10:57 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 10:10:57 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 10:10:57 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 10:10:57 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 10:10:57 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 10:10:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:10:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:10:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:10:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:10:57 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 10:10:57 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 10:10:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 10:11:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:11:03 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 10:11:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 10:11:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:11:03 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 10:11:03 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:11:03 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:11:03 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 10:11:03 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 10:11:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:11:10 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 10:11:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 10:11:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:11:10 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 10:11:10 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:11:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:11:10 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
ERROR 2025-07-28 10:11:10 view_FactorItemApprove post [FactorItemApproveView] خطا در پردازش فرم‌ست: DISTINCT ON fields is not supported by this database backend
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorItemApprove.py", line 1213, in post
    ).distinct('post').count()
                       ~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 630, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 2100, in as_sql
    ).as_sql(with_col_aliases=True)
      ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 796, in as_sql
    distinct_result, distinct_params = self.connection.ops.distinct_sql(
                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        distinct_fields,
        ^^^^^^^^^^^^^^^^
        distinct_params,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\operations.py", line 205, in distinct_sql
    raise NotSupportedError(
        "DISTINCT ON fields is not supported by this database backend"
    )
django.db.utils.NotSupportedError: DISTINCT ON fields is not supported by this database backend
INFO 2025-07-28 10:11:10 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 10:11:10 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:11:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:11:10 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 10:11:10 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 10:12:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:12:12 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 10:12:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 10:12:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:12:12 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 10:12:12 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:12:13 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:12:13 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 10:12:13 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 10:12:13 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 10:12:13 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 10:12:13 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 10:12:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:12:13 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 10:12:14 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 10:12:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:12:27 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 10:12:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 10:12:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:12:27 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 10:12:27 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 10:12:27 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 10:12:27 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 10:12:27 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 10:12:27 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 10:12:27 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 10:12:27 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 10:12:27 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:12:27 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:12:27 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:12:27 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:12:27 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 10:12:27 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 10:12:27 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 10:12:27 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 10:12:27 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 10:17:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:17:52 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 10:17:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 10:17:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:17:52 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 10:17:52 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:17:52 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:17:52 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 10:17:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 10:18:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:03 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 10:18:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 10:18:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:18:03 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 10:18:03 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 10:18:03 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 10:18:03 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
WARNING 2025-07-28 10:18:03 view_FactorItemApprove post [FactorItemApproveView] وضعیت آیتم 28 خالی است، نادیده گرفته می‌شود
INFO 2025-07-28 10:18:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 10:18:03 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 10:18:03 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 10:18:03 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 10:18:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:03 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 10:18:05 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 10:18:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:57 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-28 10:18:57 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 10:18:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:57 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 10:18:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 10:18:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:59 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 10:18:59 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 10:18:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:18:59 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 10:19:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 10:19:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:19:02 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-07-28 10:19:02 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-07-28 10:19:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:19:04 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-07-28 10:19:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-07-28 10:19:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:19:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-07-28 10:19:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 10:19:04 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-07-28 10:19:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:19:09 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 10:19:09 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 10:19:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:19:16 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:19:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:19:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:19:16 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:19:19 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:19:19 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:24:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:24:42 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:24:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:24:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:24:42 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:24:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:24:43 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:24:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:24:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:24:43 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:24:44 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:24:45 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:24:46 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:24:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:32:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:32:10 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:32:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:32:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:32:10 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:32:14 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:32:14 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-28 10:32:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:32:14 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-28 10:32:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 10:32:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:32:39 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:32:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:32:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:32:39 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:32:42 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:32:42 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:32:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:32:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:32:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:32:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:32:59 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:03 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:03 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:08 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:10 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:11 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:22 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:22 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:24 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:25 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:27 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:27 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:29 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:30 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:40 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:40 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:41 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:41 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:43 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:43 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:44 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:33:44 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:33:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:33:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:33:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:33:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:33:56 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:33:59 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:34:00 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:34:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:34:01 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:34:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:34:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:34:01 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:34:03 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:34:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:35:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:35:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:35:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:35:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:35:08 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:35:11 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:35:11 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:35:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:35:12 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:35:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:35:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:35:12 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:35:15 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:35:15 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:35:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:35:34 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:35:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:35:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:35:34 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:35:38 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:35:38 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:35:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:35:40 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:35:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:35:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:35:40 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:35:42 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:35:42 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 10:35:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:35:58 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:35:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:35:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:35:58 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:36:01 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:36:01 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-28 10:36:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:36:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-28 10:36:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 10:36:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 10:36:10 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 10:36:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 10:36:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 10:36:10 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 10:36:13 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 10:36:13 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:08:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:08:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-28 12:08:59 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 12:08:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:08:59 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 12:09:00 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 12:09:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:09:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 12:09:05 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 12:09:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:09:05 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 12:09:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 12:09:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:09:07 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:09:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:09:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:09:07 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:09:12 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:09:13 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:39:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:54 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-28 12:39:54 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 12:39:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:54 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 12:39:54 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 12:39:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:56 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 12:39:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 12:39:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:57 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 12:39:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 12:39:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:57 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:39:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:39:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:39:57 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:39:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:39:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:39:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:39:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:39:59 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:40:03 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:40:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:40:05 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:40:06 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:40:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:40:28 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:40:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:40:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:40:28 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:40:33 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:40:34 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:43:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:43:11 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:43:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:43:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:43:11 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:43:16 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:43:17 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:46:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:46:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:46:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:46:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:46:08 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:46:15 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:46:16 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:50:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:50:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:50:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:50:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:50:56 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:51:03 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:51:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:52:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:52:26 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 12:52:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 12:52:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:52:26 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 12:52:36 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 12:52:37 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 12:58:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:58:53 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 12:58:53 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 12:58:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:58:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 12:58:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 12:58:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:58:56 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-28 12:58:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 12:58:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 12:58:56 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 12:58:56 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-28 12:58:56 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 12:58:56 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-28 12:58:56 View_Factor_list get_context_data Processing 4 factors for grouping.
ERROR 2025-07-28 12:58:56 View_Factor_list get_context_data Error while grouping factor PK=30: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:58:56 View_Factor_list get_context_data Error while grouping factor PK=29: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:58:56 View_Factor_list get_context_data Error while grouping factor PK=28: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:58:56 View_Factor_list get_context_data Error while grouping factor PK=12: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
INFO 2025-07-28 12:58:56 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 12:58:56 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 12:58:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:58:58 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-07-28 12:58:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-07-28 12:58:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:58:58 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-28 12:59:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:59:06 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 12:59:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 12:59:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:59:06 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 12:59:06 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 12:59:06 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 12:59:06 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 12:59:06 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 12:59:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:59:36 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 12:59:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 12:59:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:59:36 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 12:59:36 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 12:59:36 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 12:59:36 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 12:59:37 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 12:59:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:59:41 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 12:59:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 12:59:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 12:59:41 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-28 12:59:41 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 12:59:41 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 12:59:41 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 12:59:41 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-28 12:59:41 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 12:59:41 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-28 12:59:41 View_Factor_list get_context_data Processing 4 factors for grouping.
ERROR 2025-07-28 12:59:41 View_Factor_list get_context_data Error while grouping factor PK=30: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:59:41 View_Factor_list get_context_data Error while grouping factor PK=29: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:59:41 View_Factor_list get_context_data Error while grouping factor PK=28: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 12:59:41 View_Factor_list get_context_data Error while grouping factor PK=12: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
INFO 2025-07-28 12:59:41 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 12:59:41 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 12:59:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:59:44 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-07-28 12:59:48 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 12:59:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 12:59:53 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-07-28 12:59:56 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 13:01:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:01:39 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:01:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:01:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:01:39 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:01:39 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:01:39 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:01:39 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:01:39 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:01:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:01:41 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:01:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:01:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:01:41 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:01:41 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:01:41 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:01:41 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:01:41 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:01:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:01:54 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:01:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:01:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:01:54 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:01:54 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:01:54 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:01:54 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:01:54 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:03:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:03:37 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:03:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:03:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:03:38 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:03:38 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:03:38 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:03:38 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:03:38 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:07:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:07:46 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:07:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:07:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:07:46 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:07:46 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:07:46 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:07:46 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:07:47 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:16:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:16:05 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:16:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:16:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:16:05 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:16:06 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:16:06 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:16:06 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:16:06 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:16:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:16:24 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-07-28 13:16:24 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-07-28 13:16:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:16:31 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:16:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:16:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:16:31 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:16:31 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:16:31 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:16:31 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:16:31 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:16:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:16:31 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-07-28 13:16:31 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-07-28 13:17:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:17:16 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:17:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:17:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:17:16 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:17:16 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:17:16 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:17:16 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:17:16 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:37:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:37:31 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:37:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:37:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:37:31 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:37:31 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:37:31 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:37:32 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:37:32 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:37:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:37:34 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:37:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:37:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:37:34 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:37:34 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:37:34 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:37:34 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:37:34 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:38:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:38:04 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:38:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:38:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:38:04 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:38:04 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:38:04 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:38:05 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:38:05 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:39:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:39:30 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:39:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:39:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:39:31 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:39:31 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:39:31 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:39:31 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:39:31 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:42:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:42:21 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:42:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:42:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:42:21 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:42:21 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:42:21 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:42:21 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:42:21 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:44:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:44:58 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:44:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:44:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:44:58 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:44:58 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:44:58 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:44:58 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:44:58 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:45:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:21 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-28 13:45:21 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-28 13:45:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:21 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:45:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:45:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:45:21 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:45:21 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:45:22 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:45:22 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:45:22 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:45:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:34 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-28 13:45:34 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 13:45:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:34 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 13:45:34 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 13:45:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 13:45:44 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 13:45:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:44 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 13:45:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 13:45:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:45 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 13:45:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 13:45:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:45:45 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 13:45:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 13:45:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 13:45:46 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 13:45:46 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 13:45:46 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 13:45:46 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 13:45:46 View_Factor_list get_context_data Processing 4 factors for grouping.
ERROR 2025-07-28 13:45:46 View_Factor_list get_context_data Error while grouping factor PK=30: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 13:45:46 View_Factor_list get_context_data Error while grouping factor PK=29: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 13:45:46 View_Factor_list get_context_data Error while grouping factor PK=28: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 13:45:46 View_Factor_list get_context_data Error while grouping factor PK=12: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
INFO 2025-07-28 13:45:46 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 13:45:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 13:45:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:45:51 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 13:45:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 13:45:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:45:51 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:45:51 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 13:45:51 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 13:45:51 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:45:51 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:46:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:46:02 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 13:46:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 13:46:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:46:02 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:46:02 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 13:46:02 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 13:46:02 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:46:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:47:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:47:58 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:47:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:47:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:47:58 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:47:58 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:47:58 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:47:58 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:47:58 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:48:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:48:18 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:48:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:48:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:48:18 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:48:18 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:48:18 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:48:18 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:48:19 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:48:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:48:19 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:48:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:48:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:48:19 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:48:19 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:48:19 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:48:19 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:48:20 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:48:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:48:20 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:48:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:48:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:48:20 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:48:20 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:48:20 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:48:20 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:48:20 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:49:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:49:29 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:49:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:49:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:49:29 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:49:29 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:49:29 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:49:29 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:49:29 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:49:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:49:56 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:49:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:49:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:49:56 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:49:56 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:49:56 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:49:56 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:50:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:50:05 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:50:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:50:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:50:05 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:50:05 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:50:05 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:50:05 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:50:06 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:51:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:51:08 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:51:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:51:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:51:08 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:51:08 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:51:08 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:51:08 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:51:08 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 13:51:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 13:51:54 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 13:51:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 13:51:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 13:51:54 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 13:51:54 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 13:51:54 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 13:51:54 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 13:51:55 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:09:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:09:57 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-28 15:09:57 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 15:09:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:09:57 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:09:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:09:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:09:59 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:09:59 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:09:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:09:59 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 15:10:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:20:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:20:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-28 15:20:47 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 15:20:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:20:47 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:20:47 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:21:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:21:07 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:21:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:21:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:21:08 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 15:21:08 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:21:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:21:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:21:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:21:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:21:09 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:21:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:21:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:21:09 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:21:09 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:21:10 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:21:10 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:21:10 View_Factor_list get_context_data Processing 4 factors for grouping.
ERROR 2025-07-28 15:21:10 View_Factor_list get_context_data Error while grouping factor PK=30: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 15:21:10 View_Factor_list get_context_data Error while grouping factor PK=29: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 15:21:10 View_Factor_list get_context_data Error while grouping factor PK=28: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
ERROR 2025-07-28 15:21:10 View_Factor_list get_context_data Error while grouping factor PK=12: 'Factor' object has no attribute 'factornumber'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 183, in get_context_data
    current_stage_order = get_factor_current_stage(factor)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\utils.py", line 72, in get_factor_current_stage
    logger.debug(f"[get_factor_current_stage] Fetching stage for factor {factor.factornumber}")
                                                                         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Factor' object has no attribute 'factornumber'
INFO 2025-07-28 15:21:10 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:21:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:21:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:21:15 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:21:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:21:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:21:15 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:21:15 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:21:15 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:21:15 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:21:15 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:25:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:25:53 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:25:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:25:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:25:53 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:25:53 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:25:53 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:25:53 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:25:53 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:26:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:26:00 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 15:26:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:26:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:26:03 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:26:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:26:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:26:03 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:26:03 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:26:03 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:26:03 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:26:03 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:26:03 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:26:03 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:26:03 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:26:03 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:26:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:26:03 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:26:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:26:03 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:26:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:26:03 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:26:03 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:26:04 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:26:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:26:09 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:26:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:26:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:26:09 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:26:09 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:26:09 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:26:09 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:26:09 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:26:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:26:47 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:26:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:26:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:26:47 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:26:47 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:26:47 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:26:47 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:26:47 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:27:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:27:00 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:27:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:27:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:27:00 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:27:00 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:27:01 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:27:01 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:27:01 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:27:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:27:10 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:27:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:27:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:27:10 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 15:27:10 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:27:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:27:10 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:27:10 view_FactorItemApprove post [FactorItemApproveView] تأییدات نهایی: 0, تأییدات موقت: 1, مورد نیاز: 0
INFO 2025-07-28 15:27:10 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:27:10 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:27:10 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:27:10 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:27:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:27:10 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 15:27:13 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:27:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:27:32 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:27:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:27:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:27:32 view_FactorItemApprove get_context_data [FactorItemApproveView] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:27:32 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:27:33 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:27:33 view_FactorItemApprove get_context_data [FactorItemApproveView] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:27:33 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:38:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:38:26 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:38:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:38:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [POST_START] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 15:38:26 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [FACTOR_INFO] فاکتور: FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003, تنخواه: TNKH-14040430-HSarein-HSAR-Flor3-001, کاربر: hfath
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [USER_POST] پست فعال کاربر: کارشناس بهره برداری - دفتر مرکزی
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [USER_PERMISSIONS] کاربر HQ: True, سازمان‌های کاربر: {7}
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [CURRENT_STAGE] مرحله فعلی: 2 (ترتیب: 1)
INFO 2025-07-28 15:38:26 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:38:26 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [ACCESS_CHECK] نتیجه بررسی دسترسی: True
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [FORMSET_PROCESSING] شروع پردازش فرم‌ست آیتم‌ها
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [FORMSET_VALID] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [BULK_APPROVE] شروع تأیید گروهی
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [BULK_APPROVE] دلیل: سیبسیبسیبسیبسیبسیب, موقت: False
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [BULK_APPROVE] تأیید گروهی تکمیل شد. تعداد پردازش شده: 0
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [STATUS_CHECK] همه تأیید: True, رد شده: False, همه پردازش: True
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [APPROVAL_COUNT] تأییدات نهایی: 0, تأییدات موقت: 1, مورد نیاز: 0
INFO 2025-07-28 15:38:26 view_FactorItemApprove post [FACTOR_APPROVED] فاکتور تأیید شد
INFO 2025-07-28 15:38:26 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:38:27 view_FactorItemApprove post [PAYMENT_ORDER] ایجاد دستور پرداخت
INFO 2025-07-28 15:38:27 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_START] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:38:27 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_ERROR] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:38:27 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:38:27 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 15:38:28 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:40:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:40:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-28 15:40:08 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-28 15:40:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:40:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:40:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:40:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:40:10 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:40:11 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:40:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:40:11 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 15:40:11 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:40:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:40:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 15:40:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 15:40:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:40:17 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 15:40:24 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-28 15:40:26 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 15:41:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:41:22 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-28 15:41:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-28 15:41:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:41:22 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-28 15:41:27 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
ERROR 2025-07-28 15:41:31 views_accessrule form_valid ValueError while saving form: ترتیب مرحله 1 برای سازمان هتل لاله سرعین و موجودیت FACTOR قبلاً استفاده شده است.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 189, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1295, in save
    final_stage_rule.save(update_fields=['is_final_stage'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\models.py", line 559, in save
    raise ValueError(_immediate("ترتیب مرحله {stage_order} برای سازمان {org} و موجودیت {entity} قبلاً استفاده شده است.").format(
    ...<3 lines>...
    ))
ValueError: ترتیب مرحله 1 برای سازمان هتل لاله سرعین و موجودیت FACTOR قبلاً استفاده شده است.
ERROR 2025-07-28 15:41:31 views_accessrule form_invalid Form invalid. Errors: {}, Non-field errors: 
INFO 2025-07-28 15:41:31 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-28 15:43:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:43:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:43:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:43:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: hfath, پست: کارشناس بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 15:43:50 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:43:50 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 15:43:50 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:43:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:44:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:44:02 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:44:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:44:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:44:02 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 15:44:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:44:02 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:44:02 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:44:02 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:44:02 view_FactorItemApprove post [FactorItemApproveView] تأییدات نهایی: 0, موقت: 1, مورد نیاز: 0
INFO 2025-07-28 15:44:02 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:44:02 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_START] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:44:02 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_ERROR] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:44:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:44:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:44:02 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 15:44:04 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:44:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:44:26 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:44:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:44:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:44:26 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:44:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:44:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:44:26 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:44:26 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:44:26 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:44:26 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:44:26 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:44:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:44:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:44:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:44:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:44:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:44:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:44:26 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:44:26 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:44:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:44:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:44:31 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:44:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:44:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: hfath, پست: کارشناس بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 15:44:31 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:44:31 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 15:44:31 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:44:31 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:45:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:45:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:45:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:45:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:45:22 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:45:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:45:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:45:22 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:45:22 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:45:22 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:45:22 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:45:22 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:45:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:22 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:23 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:45:23 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:45:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:45:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:45:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:45:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:45:53 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:45:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:45:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:45:53 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:45:53 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:45:54 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:45:54 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:45:54 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:45:54 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:54 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:54 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:45:54 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:45:54 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:45:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:46:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:46:34 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-28 15:46:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:46:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:46:36 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:46:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:46:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:46:36 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: admin ---
INFO 2025-07-28 15:46:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:46:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:46:36 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:46:36 View_Factor_list get_queryset User admin organizations: set(), level: None
INFO 2025-07-28 15:46:36 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:46:36 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: admin ---
INFO 2025-07-28 15:46:36 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:46:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:46:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:46:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:46:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:46:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:46:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:46:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:46:36 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:46:36 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:47:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:07 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:47:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:47:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: hfath, پست: کارشناس بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 15:47:08 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:47:08 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 15:47:08 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:47:08 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:47:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:18 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:47:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:47:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:47:18 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 15:47:18 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:47:18 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:47:18 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:47:18 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:47:18 view_FactorItemApprove post [FactorItemApproveView] تأییدات نهایی: 0, موقت: 0, مورد نیاز: 0
INFO 2025-07-28 15:47:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:47:18 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_START] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:47:18 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_ERROR] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:47:18 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:47:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:18 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 15:47:20 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:47:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:33 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-07-28 15:47:33 middleware __call__ کاربر  خارج شد
INFO 2025-07-28 15:47:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:47:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:47:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:39 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:47:40 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:47:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:40 middleware __call__ درخواست به: /, کاربر: foad
INFO 2025-07-28 15:47:40 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:47:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:41 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-28 15:47:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-28 15:47:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:47:41 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-28 15:47:41 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:47:41 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:47:41 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:47:41 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-28 15:47:41 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:47:41 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-28 15:47:41 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:47:41 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:47:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:47:41 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:47:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:47:41 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:47:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:47:41 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-28 15:47:41 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:47:41 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:47:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:47:46 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-28 15:47:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-28 15:47:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: foad, پست: مدیر بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 15:47:46 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-28 15:47:46 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 15:47:46 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:47:46 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:48:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:00 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-28 15:48:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-28 15:48:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:48:00 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط foad
INFO 2025-07-28 15:48:00 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:48:00 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user foad in stage 2
INFO 2025-07-28 15:48:00 fun_can_edit_approval can_edit_approval [can_edit_approval] User foad has superuser/global access.
INFO 2025-07-28 15:48:00 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:48:00 view_FactorItemApprove post [FactorItemApproveView] تأییدات نهایی: 0, موقت: 0, مورد نیاز: 0
INFO 2025-07-28 15:48:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:48:00 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_START] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:48:00 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_ERROR] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:48:00 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:48:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:00 middleware __call__ درخواست به: /dashboard/flows/, کاربر: foad
INFO 2025-07-28 15:48:02 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:48:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:20 middleware __call__ درخواست به: /tankhah/tankhah/5/, کاربر: foad
INFO 2025-07-28 15:48:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahDetailView برای کاربر: foad
INFO 2025-07-28 15:48:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:48:20 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
ERROR 2025-07-28 15:48:20 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 937, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
INFO 2025-07-28 15:48:20 middleware __call__ پاسخ برای /tankhah/tankhah/5/ - کد وضعیت: 500
INFO 2025-07-28 15:48:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:21 middleware __call__ درخواست به: /favicon.ico, کاربر: foad
INFO 2025-07-28 15:48:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:27 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-07-28 15:48:27 middleware __call__ کاربر  خارج شد
INFO 2025-07-28 15:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:48:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:48:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:35 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:48:35 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:48:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:48:35 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 15:48:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:51:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:51:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:51:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:51:07 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:51:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:51:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:51:07 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:51:07 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:51:07 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:51:07 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:51:07 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:51:07 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:07 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:07 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:07 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:51:07 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:51:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:51:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:14 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 15:51:14 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:51:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:17 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-07-28 15:51:17 middleware __call__ کاربر  خارج شد
INFO 2025-07-28 15:51:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:17 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:51:17 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:51:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:23 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:51:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:51:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:24 middleware __call__ درخواست به: /, کاربر: foad
INFO 2025-07-28 15:51:24 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:51:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-28 15:51:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-28 15:51:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:51:26 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: foad ---
INFO 2025-07-28 15:51:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:51:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:51:26 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:51:26 View_Factor_list get_queryset User foad organizations: {7}, level: 3
INFO 2025-07-28 15:51:26 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:51:26 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: foad ---
INFO 2025-07-28 15:51:26 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:51:26 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:51:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:26 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:51:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:26 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-28 15:51:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:26 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-07-28 15:51:26 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:51:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:51:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:36 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-07-28 15:51:36 middleware __call__ کاربر  خارج شد
INFO 2025-07-28 15:51:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:36 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:51:36 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-28 15:51:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:46 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-28 15:51:47 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-28 15:51:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:47 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-28 15:51:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-28 15:51:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:51:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:51:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:51:49 View_Factor_list get_queryset --- [FactorListView] START: Fetching queryset for user: hfath ---
INFO 2025-07-28 15:51:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:51:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:51:49 View_Factor_list get_queryset Initial queryset count: 4
INFO 2025-07-28 15:51:49 View_Factor_list get_queryset User hfath organizations: {7}, level: 4
INFO 2025-07-28 15:51:49 View_Factor_list get_queryset Final queryset count: 4
INFO 2025-07-28 15:51:49 View_Factor_list get_context_data --- [FactorListView] START: Creating context for user: hfath ---
INFO 2025-07-28 15:51:50 View_Factor_list get_context_data Processing 4 factors for grouping.
INFO 2025-07-28 15:51:50 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:50 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:50 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:51:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:51:50 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:51:50 View_Factor_list get_context_data Finished grouping. Found 1 organization groups.
INFO 2025-07-28 15:51:50 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:51:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:51:56 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:51:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:51:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: hfath, پست: کارشناس بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 15:51:56 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:51:56 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 15:51:56 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 15:51:56 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 15:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:52:14 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-28 15:52:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-28 15:52:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:52:14 view_FactorItemApprove post [FactorItemApproveView] درخواست POST برای فاکتور 30 توسط hfath
INFO 2025-07-28 15:52:14 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 15:52:14 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user hfath in stage 2
INFO 2025-07-28 15:52:14 fun_can_edit_approval can_edit_approval [can_edit_approval] User hfath has superuser/global access.
INFO 2025-07-28 15:52:14 view_FactorItemApprove post [FactorItemApproveView] فرم‌ست آیتم‌ها معتبر است
INFO 2025-07-28 15:52:14 view_FactorItemApprove post [FactorItemApproveView] تأییدات نهایی: 0, موقت: 0, مورد نیاز: 0
INFO 2025-07-28 15:52:14 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-28 15:52:14 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_START] شروع ایجاد دستور پرداخت برای فاکتور 30
ERROR 2025-07-28 15:52:14 view_FactorItemApprove create_payment_order [PAYMENT_ORDER_ERROR] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-07-28 15:52:14 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-28 15:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:52:14 middleware __call__ درخواست به: /dashboard/flows/, کاربر: hfath
INFO 2025-07-28 15:52:15 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-28 15:53:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:30 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:53:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:53:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:53:31 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:53:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:53:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:53:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:53:31 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:53:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:53:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:53:31 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:53:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:31 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:53:31 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:53:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:55 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:53:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:53:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:53:55 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:53:55 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:53:55 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:53:55 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:53:55 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:53:55 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:53:55 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:53:55 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:53:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:55 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:53:55 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:53:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:53:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:53:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:53:57 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:53:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:53:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:53:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:53:57 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:53:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:53:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:53:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:53:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:53:57 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:53:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:54:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:54:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:54:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:54:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:54:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:54:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:54:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:54:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:54:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:54:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:54:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:54:58 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:54:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:54:58 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:54:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:55:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:55:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:55:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:55:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:55:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:55:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:55:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:55:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:55:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:55:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:55:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:55:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:55:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:55:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:55:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-28 15:55:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:55:09 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-07-28 15:55:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:55:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:55:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:10 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:55:10 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:55:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:34 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:55:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:55:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:55:34 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:55:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:55:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:55:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:55:34 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:55:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:55:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:55:34 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:55:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:34 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:55:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:55:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-28 15:55:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-28 15:55:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:55:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-28 15:55:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:55:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:55:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:55:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-28 15:55:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:55:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-28 15:55:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:55:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:55:35 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-28 15:55:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:59:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:01 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:01 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:01 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:01 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:59:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:14 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:14 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:14 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:14 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:14 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:14 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:14 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:14 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:14 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:14 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:59:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:25 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:25 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:25 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:59:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:39 View_Factor_list get_queryset [FACTOR_LIST] فیلتر جستجو اعمال شد: سرعین
INFO 2025-07-28 15:59:39 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-07-28 15:59:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-28 15:59:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-28 15:59:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:48 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:59:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:49 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-07-28 15:59:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-07-28 15:59:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:49 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-28 15:59:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:56 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:56 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:56 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:56 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:56 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:56 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:56 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 15:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 15:59:59 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 15:59:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 15:59:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 15:59:59 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 15:59:59 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 15:59:59 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 15:59:59 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 15:59:59 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 15:59:59 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 15:59:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 15:59:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 15:59:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 15:59:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 15:59:59 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 15:59:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 15:59:59 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:00:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:00:03 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:00:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:00:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:00:03 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:00:03 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:00:03 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:00:03 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:00:03 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:00:03 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:00:03 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:00:03 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:00:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 16:00:03 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:00:03 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:00:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:00:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:00:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:00:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:00:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:00:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:00:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:00:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:00:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:00:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:00:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:00:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:00:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:00:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:00:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 16:00:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:00:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:00:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:00:54 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-07-28 16:00:54 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-07-28 16:01:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:01:25 middleware __call__ درخواست به: /tankhah/factor/30/, کاربر: admin
INFO 2025-07-28 16:01:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorDetailView برای کاربر: admin
INFO 2025-07-28 16:01:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:01:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-28 16:01:25 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-07-28 16:01:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorDetailView
INFO 2025-07-28 16:01:25 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
ERROR 2025-07-28 16:01:26 rcms_custom_filters format_negative Error formatting number asdasdasd: could not convert string to float: 'asdasdasd'
INFO 2025-07-28 16:01:26 middleware __call__ پاسخ برای /tankhah/factor/30/ - کد وضعیت: 200
INFO 2025-07-28 16:01:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:01:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:01:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:01:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:01:29 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:01:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:01:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:01:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:01:29 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:01:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:01:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:01:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:01:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:01:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:01:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:01:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:01:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:01:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-07-28 16:01:29 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-28 16:01:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:01:29 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:01:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:01:40 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 16:01:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 16:01:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 16:01:40 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 16:01:40 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 16:01:40 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 16:01:40 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-28 16:02:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:02:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:02:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:02:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:02:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:02:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:02:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:02:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:02:49 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:02:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:02:49 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:02:49 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:02:49 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:02:49 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:02:49 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:02:49 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:02:49 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:02:49 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:02:49 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:03:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:26 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:03:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:03:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:03:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:03:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] فیلتر جستجو اعمال شد: سو
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 4
INFO 2025-07-28 16:03:26 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:03:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:03:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:03:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:26 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:26 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:26 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:26 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:26 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:03:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:03:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:32 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:03:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:03:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:03:32 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:03:32 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:03:32 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:03:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:03:32 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:03:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:03:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:03:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:03:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:32 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:32 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:32 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:32 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:03:32 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:03:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:03:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:03:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:03:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:03:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:03:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:03:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:03:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:03:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:03:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:03:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:03:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:35 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:35 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:35 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:35 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:03:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:03:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:38 middleware __call__ درخواست به: /tankhah/factors, کاربر: admin
INFO 2025-07-28 16:03:38 middleware __call__ پاسخ برای /tankhah/factors - کد وضعیت: 404
INFO 2025-07-28 16:03:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:03:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:03:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:03:38 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:03:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:03:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:03:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:03:38 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:03:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:03:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:03:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:38 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:38 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:38 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:38 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:03:38 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:03:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:03:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-28 16:03:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-28 16:03:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:03:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-28 16:03:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-28 16:03:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-28 16:03:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-28 16:03:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-28 16:03:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-28 16:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-28 16:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-28 16:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-28 16:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-28 16:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-28 16:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-28 16:03:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-28 16:04:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-28 16:04:03 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-28 16:04:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-28 16:04:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-28 16:04:03 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-28 16:04:03 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-28 16:04:03 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-28 16:04:03 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 08:57:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:13 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-29 08:57:13 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 08:57:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:13 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 08:57:14 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 08:57:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:15 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 08:57:16 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 08:57:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:16 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 08:57:16 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 08:57:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:18 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-29 08:57:18 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-07-29 08:57:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 08:57:18 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 08:57:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 10:10:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:54 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-29 10:10:54 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 10:10:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:54 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 10:10:54 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 10:10:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:56 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 10:10:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 10:10:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:57 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 10:10:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 10:10:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-29 10:10:59 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 403
INFO 2025-07-29 10:10:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:10:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 10:10:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 10:11:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:11:01 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-29 10:11:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-29 10:11:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 10:11:01 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-29 10:11:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:11:03 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-29 10:11:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-29 10:11:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 10:11:03 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-29 10:11:04 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-29 10:11:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-29 10:11:06 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-29 10:11:06 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-29 10:11:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 10:11:48 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-29 10:11:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-29 10:11:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 10:11:48 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm.
INFO 2025-07-29 10:11:51 forms_accessrule __init__ مقداردهی اولیه PostAccessRuleForm به پایان رسید.
INFO 2025-07-29 10:11:52 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-29 11:02:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:02:55 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-29 11:02:55 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 11:02:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:02:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 11:02:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 11:02:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:02:57 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 11:02:58 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 11:02:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:02:58 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 11:02:58 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 11:03:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:03:45 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 11:03:45 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-07-29 11:03:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:03:46 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 11:03:46 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 11:04:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:04:02 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 11:04:02 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-07-29 11:04:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:04:02 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 11:04:02 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 11:06:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:14 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 11:06:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 11:06:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 11:06:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 11:06:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 11:06:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 11:06:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 11:06:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 11:06:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 11:06:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 11:06:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 11:06:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 11:06:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 11:06:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 11:06:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 11:06:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 11:06:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 11:06:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 11:06:17 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 11:06:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:25 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: admin
INFO 2025-07-29 11:06:25 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 11:06:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:36 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: admin
INFO 2025-07-29 11:06:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 11:06:36 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 11:06:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:43 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-29 11:06:43 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 11:06:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 11:06:43 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 11:06:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 11:06:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 11:06:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:56 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-29 11:06:56 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 11:06:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:06:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-29 11:06:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-29 11:06:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 11:06:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-29 11:06:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 11:06:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 11:06:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 11:06:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-29 11:06:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 11:06:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-29 11:06:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 11:06:58 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 11:06:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:58 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:58 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 11:06:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:58 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:58 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 11:06:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 11:06:58 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:58 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 11:06:58 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 11:06:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 11:06:58 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 11:07:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:07:05 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: hfath
INFO 2025-07-29 11:07:05 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 11:07:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:07:15 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: hfath
INFO 2025-07-29 11:07:15 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 11:07:15 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 500
INFO 2025-07-29 11:07:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:07:15 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-29 11:07:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 11:07:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 11:07:45 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: hfath
INFO 2025-07-29 11:07:45 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 13:39:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:07 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-29 13:39:07 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 13:39:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:07 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 13:39:07 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 13:39:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:09 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 13:39:10 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 13:39:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:10 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 13:39:10 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 13:39:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 13:39:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 13:39:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 13:39:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 13:39:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 13:39:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 13:39:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 13:39:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 13:39:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 13:39:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 13:39:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 13:39:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 13:39:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:39:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:39:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 13:39:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:39:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:39:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 13:39:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:39:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:39:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 13:39:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:39:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 13:39:16 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 13:39:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:39:22 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: admin
INFO 2025-07-29 13:39:22 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 13:42:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:08 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: AnonymousUser
INFO 2025-07-29 13:42:08 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 13:42:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 13:42:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 13:42:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 13:42:21 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 13:42:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:21 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-29 13:42:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 13:42:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:23 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-29 13:42:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-29 13:42:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 13:42:23 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-29 13:42:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 13:42:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 13:42:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 13:42:24 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-29 13:42:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 13:42:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-29 13:42:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 13:42:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 13:42:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:42:24 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:42:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 13:42:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:42:24 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:42:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 13:42:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 13:42:24 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:42:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-29 13:42:24 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 13:42:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 13:42:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 13:42:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:32 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: hfath
INFO 2025-07-29 13:42:32 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 13:42:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:36 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: hfath
INFO 2025-07-29 13:42:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 13:42:36 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 500
INFO 2025-07-29 13:42:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 13:42:36 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-07-29 13:42:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:03:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:03:44 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: admin
INFO 2025-07-29 14:03:44 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-29 14:03:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:03:46 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:03:46 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:03:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:03:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:03:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:03:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:03:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:03:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:03:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:03:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:03:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:03:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:03:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:03:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:03:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:03:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:03:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:04:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:46 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:04:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:04:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:04:46 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:04:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:04:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:04:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:04:46 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:04:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:04:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:04:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:04:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:46 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:46 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:46 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:46 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:04:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:04:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:04:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:04:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:04:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:04:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:04:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:04:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:04:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:04:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:04:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:04:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:04:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:04:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:04:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:48 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:04:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:04:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:04:48 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:04:48 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:04:48 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:04:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:04:48 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:04:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:04:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:04:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:04:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:04:48 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:04:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:51 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:04:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:04:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:52 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:04:52 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:04:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:04:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:04:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:04:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:04:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:04:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:04:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:04:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:04:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:04:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:04:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:04:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:04:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:04:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:04:53 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:04:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:04:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:05:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:05:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:05:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:05:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:05:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:05:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:05:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:05:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:05:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:05:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:05:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:05:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:05:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:05:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:05:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:05:52 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:05:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:05:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:05:52 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:05:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:05:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:05:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:05:52 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:05:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:05:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:05:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:05:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:05:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:05:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:05:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:05:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:05:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:05:59 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-07-29 14:05:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-07-29 14:05:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:05:59 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-29 14:06:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:06:02 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:06:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:06:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:06:02 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:06:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:06:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:06:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:06:02 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:06:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:06:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:06:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:06:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:06:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:06:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:06:05 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:06:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:06:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:06:07 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:06:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:06:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:06:08 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 14:06:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 14:06:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:06:08 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 14:06:08 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 14:06:08 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 14:06:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 14:06:08 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 14:06:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 14:06:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 14:06:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 14:06:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 14:06:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 14:06:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 14:06:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 14:06:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 14:07:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:07:18 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:07:19 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:07:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:07:37 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:07:37 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:07:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:07:38 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:07:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:07:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:07:40 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:07:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:07:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:07:40 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:07:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:07:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:07:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:08:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:10 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:10 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:14 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:14 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:15 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:15 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:16 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:16 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:31 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:31 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:32 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:32 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:08:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:08:32 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:08:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:08:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:08:32 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:14:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:10 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:14:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:14:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:14:10 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:14:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:20 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:14:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:14:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:14:20 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:14:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:20 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:14:20 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:14:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:42 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:14:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:14:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:14:42 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:14:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:53 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:14:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:14:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:14:53 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:14:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:14:53 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:14:53 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:16:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:27 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:16:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:16:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:16:27 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:16:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:16:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:16:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:35 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:16:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:16:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:16:35 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:16:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:35 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:16:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:16:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:39 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:16:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:16:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:16:39 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:16:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:16:39 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:16:39 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:19:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:19:21 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:19:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:19:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:19:22 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:19:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:19:29 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:19:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:19:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:19:29 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:19:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:19:30 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:19:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:19:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:19:30 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:19:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:19:32 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:19:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:19:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:19:32 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:19:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:19:33 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:19:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:19:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:19:33 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:32:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:32:10 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:32:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:32:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:32:10 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:32:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:32:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:32:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:32:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:32:21 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:32:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:32:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:32:21 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:32:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:32:21 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:32:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:32:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:32:23 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:32:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:32:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:32:24 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:36:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:05 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:36:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:36:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:07 middleware __call__ درخواست به: /tankhah/dashboard/, کاربر: admin
INFO 2025-07-29 14:36:07 middleware __call__ پاسخ برای /tankhah/dashboard/ - کد وضعیت: 500
INFO 2025-07-29 14:36:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:36:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:36:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:48 middleware __call__ درخواست به: /tankhah/dashboard/, کاربر: admin
INFO 2025-07-29 14:36:48 middleware __call__ پاسخ برای /tankhah/dashboard/ - کد وضعیت: 500
INFO 2025-07-29 14:36:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:36:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:36:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:52 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:36:52 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:36:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:55 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:36:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:36:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:36:55 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 500
INFO 2025-07-29 14:36:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:36:56 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:36:56 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:37:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:37:16 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:37:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:37:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:37:16 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:37:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:37:18 middleware __call__ درخواست به: /tankhah/factors/lis___/, کاربر: admin
INFO 2025-07-29 14:37:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView__ برای کاربر: admin
INFO 2025-07-29 14:37:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 14:37:18 middleware __call__ پاسخ برای /tankhah/factors/lis___/ - کد وضعیت: 200
INFO 2025-07-29 14:38:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:23 middleware __call__ درخواست به: /tankhah/factors/30/approve/, کاربر: admin
INFO 2025-07-29 14:38:23 middleware __call__ پاسخ برای /tankhah/factors/30/approve/ - کد وضعیت: 405
INFO 2025-07-29 14:38:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:33 middleware __call__ درخواست به: /tankhah/factors/30, کاربر: admin
INFO 2025-07-29 14:38:33 middleware __call__ پاسخ برای /tankhah/factors/30 - کد وضعیت: 404
INFO 2025-07-29 14:38:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:33 middleware __call__ درخواست به: /tankhah/factors/30/, کاربر: admin
ERROR 2025-07-29 14:38:33 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-29 14:38:33 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
INFO 2025-07-29 14:38:33 middleware __call__ پاسخ برای /tankhah/factors/30/ - کد وضعیت: 200
INFO 2025-07-29 14:38:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:47 middleware __call__ درخواست به: /tankhah/factors/30/approvedd, کاربر: admin
INFO 2025-07-29 14:38:47 middleware __call__ پاسخ برای /tankhah/factors/30/approvedd - کد وضعیت: 404
INFO 2025-07-29 14:38:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:47 middleware __call__ درخواست به: /tankhah/factors/30/approvedd/, کاربر: admin
INFO 2025-07-29 14:38:47 middleware __call__ پاسخ برای /tankhah/factors/30/approvedd/ - کد وضعیت: 405
INFO 2025-07-29 14:38:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:38:54 middleware __call__ درخواست به: /tankhah/factors/30/approvedd/, کاربر: admin
INFO 2025-07-29 14:38:54 middleware __call__ پاسخ برای /tankhah/factors/30/approvedd/ - کد وضعیت: 405
INFO 2025-07-29 14:39:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:07 middleware __call__ درخواست به: /tankhah/factors/30/factor_approve___, کاربر: admin
INFO 2025-07-29 14:39:07 middleware __call__ پاسخ برای /tankhah/factors/30/factor_approve___ - کد وضعیت: 404
INFO 2025-07-29 14:39:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:39:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:39:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:10 middleware __call__ درخواست به: /tankhah/factors/30/factor_approve, کاربر: admin
INFO 2025-07-29 14:39:10 middleware __call__ پاسخ برای /tankhah/factors/30/factor_approve - کد وضعیت: 404
INFO 2025-07-29 14:39:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:10 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:39:10 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:39:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:23 middleware __call__ درخواست به: /tankhah/30/factor_approve, کاربر: admin
INFO 2025-07-29 14:39:23 middleware __call__ پاسخ برای /tankhah/30/factor_approve - کد وضعیت: 404
INFO 2025-07-29 14:39:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:23 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:39:23 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:39:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:57 middleware __call__ درخواست به: /tankhah/30/factor_approve, کاربر: admin
INFO 2025-07-29 14:39:57 middleware __call__ پاسخ برای /tankhah/30/factor_approve - کد وضعیت: 404
INFO 2025-07-29 14:39:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:39:57 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:39:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:40:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:40:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:40:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:40:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:40:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:06 middleware __call__ درخواست به: /tankhah/factors/30/approve/, کاربر: admin
INFO 2025-07-29 14:40:06 middleware __call__ پاسخ برای /tankhah/factors/30/approve/ - کد وضعیت: 404
INFO 2025-07-29 14:40:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:40:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:40:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:16 middleware __call__ درخواست به: /tankhah/factors/30/approve, کاربر: admin
INFO 2025-07-29 14:40:16 middleware __call__ پاسخ برای /tankhah/factors/30/approve - کد وضعیت: 404
INFO 2025-07-29 14:40:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:40:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:40:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:29 middleware __call__ درخواست به: /factors/30/approve, کاربر: admin
INFO 2025-07-29 14:40:29 middleware __call__ پاسخ برای /factors/30/approve - کد وضعیت: 404
INFO 2025-07-29 14:40:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:40:29 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:40:29 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:45:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:25 middleware __call__ درخواست به: /tankhah/dashboard/, کاربر: AnonymousUser
INFO 2025-07-29 14:45:25 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 14:45:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:25 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 14:45:25 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 14:45:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:37 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 14:45:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 14:45:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:38 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 14:45:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 14:45:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:44 middleware __call__ درخواست به: /tankhah/dashboard/, کاربر: admin
INFO 2025-07-29 14:45:44 middleware __call__ پاسخ برای /tankhah/dashboard/ - کد وضعیت: 500
INFO 2025-07-29 14:45:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:45:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 14:45:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:48 middleware __call__ درخواست به: /tankhah/dashboard/, کاربر: admin
INFO 2025-07-29 14:45:48 middleware __call__ پاسخ برای /tankhah/dashboard/ - کد وضعیت: 500
INFO 2025-07-29 14:45:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 14:45:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 14:45:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 15:13:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:13:32 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-29 15:13:32 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-29 15:13:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:13:32 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 15:13:32 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-29 15:13:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:13:35 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-29 15:13:36 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-29 15:13:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:13:36 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:13:36 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:14:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:14:03 middleware __call__ درخواست به: /budgets/budgets-dashboard, کاربر: admin
INFO 2025-07-29 15:14:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetDashboardView برای کاربر: admin
INFO 2025-07-29 15:14:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:14:04 middleware __call__ پاسخ برای /budgets/budgets-dashboard - کد وضعیت: 200
INFO 2025-07-29 15:14:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:14:38 middleware __call__ درخواست به: /budgets/budgetallocation/, کاربر: admin
INFO 2025-07-29 15:14:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetAllocationListView برای کاربر: admin
INFO 2025-07-29 15:14:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:14:38 middleware __call__ پاسخ برای /budgets/budgetallocation/ - کد وضعیت: 200
INFO 2025-07-29 15:14:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:14:59 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:14:59 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:15:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:15:20 middleware __call__ درخواست به: /projects/, کاربر: admin
INFO 2025-07-29 15:15:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectListView برای کاربر: admin
INFO 2025-07-29 15:15:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:15:20 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای ProjectListView
INFO 2025-07-29 15:15:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:15:21 middleware __call__ پاسخ برای /projects/ - کد وضعیت: 200
INFO 2025-07-29 15:15:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:15:35 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:15:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:16:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:16:12 middleware __call__ درخواست به: /budgets/budgets-dashboard, کاربر: admin
INFO 2025-07-29 15:16:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetDashboardView برای کاربر: admin
INFO 2025-07-29 15:16:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:16:12 middleware __call__ پاسخ برای /budgets/budgets-dashboard - کد وضعیت: 200
INFO 2025-07-29 15:16:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:16:15 middleware __call__ درخواست به: /budgets/budgetperiod/, کاربر: admin
INFO 2025-07-29 15:16:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetPeriodListView برای کاربر: admin
INFO 2025-07-29 15:16:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:16:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:16:15 middleware __call__ پاسخ برای /budgets/budgetperiod/ - کد وضعیت: 200
INFO 2025-07-29 15:16:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:16:26 middleware __call__ درخواست به: /budgets/budgetallocations/create/, کاربر: admin
INFO 2025-07-29 15:16:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetAllocationCreateView برای کاربر: admin
INFO 2025-07-29 15:16:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:16:26 middleware __call__ پاسخ برای /budgets/budgetallocations/create/ - کد وضعیت: 200
INFO 2025-07-29 15:16:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:16:48 middleware __call__ درخواست به: /budgets/api/projects-by-organization/, کاربر: admin
INFO 2025-07-29 15:16:48 middleware __call__ پاسخ برای /budgets/api/projects-by-organization/ - کد وضعیت: 200
INFO 2025-07-29 15:16:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:16:48 middleware __call__ درخواست به: /budgets/api/projects-by-organization/, کاربر: admin
INFO 2025-07-29 15:16:48 middleware __call__ پاسخ برای /budgets/api/projects-by-organization/ - کد وضعیت: 200
INFO 2025-07-29 15:17:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:17:46 middleware __call__ درخواست به: /budgets/budgetperiod/, کاربر: admin
INFO 2025-07-29 15:17:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetPeriodListView برای کاربر: admin
INFO 2025-07-29 15:17:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای BudgetPeriodListView
INFO 2025-07-29 15:17:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:17:46 middleware __call__ پاسخ برای /budgets/budgetperiod/ - کد وضعیت: 200
INFO 2025-07-29 15:17:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:17:49 middleware __call__ درخواست به: /budgets/budgetallocation/, کاربر: admin
INFO 2025-07-29 15:17:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در BudgetAllocationListView برای کاربر: admin
INFO 2025-07-29 15:17:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:17:49 middleware __call__ پاسخ برای /budgets/budgetallocation/ - کد وضعیت: 200
INFO 2025-07-29 15:17:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:17:56 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:17:56 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:18:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:00 middleware __call__ درخواست به: /tankhah/tankhah/, کاربر: admin
INFO 2025-07-29 15:18:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahListView برای کاربر: admin
INFO 2025-07-29 15:18:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:18:00 view_tankhah get_queryset [TankhahListView] User: admin, is_superuser: True
INFO 2025-07-29 15:18:00 view_tankhah get_queryset [TankhahListView] User: admin, is_hq_user: True, User org PKs: []
INFO 2025-07-29 15:18:00 view_tankhah get_context_data [TankhahListView] ایجاد کنتکست برای کاربر: admin
INFO 2025-07-29 15:18:00 middleware __call__ پاسخ برای /tankhah/tankhah/ - کد وضعیت: 500
INFO 2025-07-29 15:18:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-29 15:18:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-29 15:18:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:07 middleware __call__ درخواست به: /tankhah/tankhah/create/, کاربر: admin
INFO 2025-07-29 15:18:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahCreateView برای کاربر: admin
INFO 2025-07-29 15:18:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:18:07 middleware __call__ پاسخ برای /tankhah/tankhah/create/ - کد وضعیت: 200
INFO 2025-07-29 15:18:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:19 middleware __call__ درخواست به: /tankhah/get_projects/, کاربر: admin
INFO 2025-07-29 15:18:19 middleware __call__ پاسخ برای /tankhah/get_projects/ - کد وضعیت: 200
INFO 2025-07-29 15:18:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:21 middleware __call__ درخواست به: /budgets/get-budget-info/, کاربر: admin
INFO 2025-07-29 15:18:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:21 middleware __call__ درخواست به: /tankhah/get_subprojects/, کاربر: admin
INFO 2025-07-29 15:18:21 views get_subprojects ورود به تابع get_subprojects
INFO 2025-07-29 15:18:21 views get_subprojects project_id: 8, user_orgs: set()
INFO 2025-07-29 15:18:21 views get_subprojects پروژه 8: بازسازی هتل - طبقه سوم لاله سرعین
INFO 2025-07-29 15:18:21 views get_subprojects subprojects found: []
INFO 2025-07-29 15:18:21 middleware __call__ پاسخ برای /tankhah/get_subprojects/ - کد وضعیت: 200
INFO 2025-07-29 15:18:22 budget_calculations get_budget_info Budget info for project 8: {'total_budget': 24000000000.0, 'remaining_budget': 23998960000.0}
INFO 2025-07-29 15:18:22 middleware __call__ پاسخ برای /budgets/get-budget-info/ - کد وضعیت: 200
INFO 2025-07-29 15:18:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:48 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:18:49 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:18:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:18:56 middleware __call__ درخواست به: /reports/reports/comprehensive-budget/, کاربر: admin
INFO 2025-07-29 15:18:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ComprehensiveBudgetReportView برای کاربر: admin
INFO 2025-07-29 15:18:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:18:56 ComprehensiveBudgetReportView get_queryset [ComprehensiveBudgetReportView] - Starting get_queryset...
INFO 2025-07-29 15:18:56 ComprehensiveBudgetReportView get_queryset Found 1 BudgetPeriods.
INFO 2025-07-29 15:18:56 ComprehensiveBudgetReportView get_context_data [ComprehensiveBudgetReportView] - Starting get_context_data...
INFO 2025-07-29 15:18:56 ComprehensiveBudgetReportView get_context_data org_summaries IS : <QuerySet [{'organization__id': 1, 'organization__name': 'هتل لاله سرعین', 'organization__code': 'HSarein', 'org_total_allocated': Decimal('24000000000.00'), 'num_budget_items': 2, 'org_consumed': Decimal('1040000.00'), 'org_returned': Decimal('0.00')}]>
INFO 2025-07-29 15:18:56 middleware __call__ پاسخ برای /reports/reports/comprehensive-budget/ - کد وضعیت: 200
INFO 2025-07-29 15:19:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:19:21 middleware __call__ درخواست به: /reports/reports/api/budget-items-for-org-period/22/1/, کاربر: admin
INFO 2025-07-29 15:19:21 ComprehensiveBudgetReportView get API request: BudgetItemsForOrgPeriodAPIView | Period PK=22, Org PK=1, User=admin, Path=/reports/reports/api/budget-items-for-org-period/22/1/, Headers={'Content-Length': '', 'Content-Type': 'text/plain', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '2vANeU86Xv7tiwjqCrUWWVpQaUAzCQmuibUPyNjcQRyWo9twlIDEJ2vbhTWsywYj', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/reports/reports/comprehensive-budget/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9,fa;q=0.8', 'Cookie': 'csrftoken=qQucu3lg3wBDgNkgTrTSXhgvh9w36QMZ; sessionid=bo9wktld8xz3zbu4102ypgok6vpwrt2g'}
INFO 2025-07-29 15:19:21 ComprehensiveBudgetReportView get Found BudgetPeriod: شش ماهه ابتدای سال 1404 (ID=22), Organization: هتل لاله سرعین (ID=1)
INFO 2025-07-29 15:19:21 ComprehensiveBudgetReportView get Prepared 2 BudgetAllocation records
INFO 2025-07-29 15:19:21 middleware __call__ پاسخ برای /reports/reports/api/budget-items-for-org-period/22/1/ - کد وضعیت: 200
INFO 2025-07-29 15:19:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:19:32 middleware __call__ درخواست به: /reports/api/tankhahs-for-allocation/76/, کاربر: admin
INFO 2025-07-29 15:19:32 ComprehensiveBudgetReportView get Fetching tankhahs for allocation 76
INFO 2025-07-29 15:19:32 middleware __call__ پاسخ برای /reports/api/tankhahs-for-allocation/76/ - کد وضعیت: 200
INFO 2025-07-29 15:19:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:19:42 middleware __call__ درخواست به: /tankhah/tankhah/5/, کاربر: admin
INFO 2025-07-29 15:19:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در TankhahDetailView برای کاربر: admin
INFO 2025-07-29 15:19:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:19:42 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
ERROR 2025-07-29 15:19:42 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 937, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
INFO 2025-07-29 15:19:42 middleware __call__ پاسخ برای /tankhah/tankhah/5/ - کد وضعیت: 200
INFO 2025-07-29 15:19:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:19:57 middleware __call__ درخواست به: /tankhah/factors/12/, کاربر: admin
INFO 2025-07-29 15:19:57 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-29 15:19:57 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
ERROR 2025-07-29 15:19:57 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-29 15:19:57 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
INFO 2025-07-29 15:19:57 middleware __call__ پاسخ برای /tankhah/factors/12/ - کد وضعیت: 200
INFO 2025-07-29 15:20:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:20:02 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 15:20:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 15:20:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:20:02 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 15:20:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 15:20:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:20:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 15:20:02 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 15:20:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 15:20:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 15:20:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 15:20:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:02 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 15:20:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 15:20:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:20:04 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:20:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:20:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:20:06 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-29 15:20:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-29 15:20:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:20:06 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-29 15:20:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-29 15:20:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-29 15:20:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-29 15:20:06 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-29 15:20:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-29 15:20:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-29 15:20:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-29 15:20:06 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:06 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-29 15:20:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-29 15:20:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-29 15:20:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-29 15:20:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-29 15:20:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:20:09 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-07-29 15:20:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-07-29 15:20:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:20:09 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-29 15:20:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:20:19 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-07-29 15:20:19 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 15:20:19 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040000.00', 'project_returned': '0', 'project_remaining': '23998960000.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-07-29 15:20:19 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-07-29 15:21:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:21:21 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-07-29 15:21:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-07-29 15:21:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:21:21 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-29 15:21:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 15:21:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 15:21:21 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-29 15:21:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 15:21:22 view_Nfactor form_valid Factor saved: PK=31, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040507-HSarein-0001
INFO 2025-07-29 15:21:22 models save Calculated amount for FactorItem pk=None: 20000
INFO 2025-07-29 15:21:22 models save Tankhah saved 👍with ID: 5
INFO 2025-07-29 15:21:22 signal update_factor_and_tankhah [Signal] بودجه باقی‌مانده تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001 به 4000000000.00 به‌روزرسانی شد
INFO 2025-07-29 15:21:22 models save FactorItem saved successfully (pk=29). Amount=20000, Status=PENDING
INFO 2025-07-29 15:21:22 models save Calculated amount for FactorItem pk=None: 20000
INFO 2025-07-29 15:21:22 models save Tankhah saved 👍with ID: 5
INFO 2025-07-29 15:21:22 signal update_factor_and_tankhah [Signal] بودجه باقی‌مانده تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001 به 4000000000.00 به‌روزرسانی شد
INFO 2025-07-29 15:21:22 models save FactorItem saved successfully (pk=30). Amount=20000, Status=PENDING
INFO 2025-07-29 15:21:22 models save Calculated amount for FactorItem pk=None: 360000
INFO 2025-07-29 15:21:22 models save Tankhah saved 👍with ID: 5
INFO 2025-07-29 15:21:22 signal update_factor_and_tankhah [Signal] بودجه باقی‌مانده تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001 به 4000000000.00 به‌روزرسانی شد
INFO 2025-07-29 15:21:22 models save FactorItem saved successfully (pk=31). Amount=360000, Status=PENDING
INFO 2025-07-29 15:21:22 models save [ApprovalLog] Attempting to save new ApprovalLog for user admin, action CREATED
ERROR 2025-07-29 15:21:22 models save [ApprovalLog] No active UserPost found for user admin
ERROR 2025-07-29 15:21:22 view_Nfactor form_valid Error during atomic transaction for Factor creation: کاربر admin هیچ پست فعالی ندارد
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 382, in form_valid
    ApprovalLog.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tankhah=self.object.tankhah,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        comment=f"فاکتور {self.object.number} توسط {self.request.user.username} ایجاد شد."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1244, in save
    raise ValueError(f"کاربر {self.user.username} هیچ پست فعالی ندارد")
ValueError: کاربر admin هیچ پست فعالی ندارد
INFO 2025-07-29 15:21:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-07-29 15:21:22 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-29 15:21:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:21:22 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-07-29 15:21:22 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-29 15:21:22 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040000.00', 'project_returned': '0', 'project_remaining': '23998960000.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-07-29 15:21:22 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-07-29 15:21:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:21:32 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:21:33 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:21:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:21:43 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-07-29 15:21:51 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-29 15:22:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:22:04 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-29 15:22:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-29 15:22:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-29 15:22:14 middleware __call__ درخواست به: /budgets/budgetrealtimeReportView/, کاربر: admin
INFO 2025-07-29 15:22:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectBudgetRealtimeReportView برای کاربر: admin
INFO 2025-07-29 15:22:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-29 15:22:14 middleware __call__ پاسخ برای /budgets/budgetrealtimeReportView/ - کد وضعیت: 200
INFO 2025-07-30 15:48:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:24 middleware __call__ درخواست به: /budgets/budgetrealtimeReportView/, کاربر: AnonymousUser
INFO 2025-07-30 15:48:24 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-30 15:48:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:24 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-30 15:48:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-30 15:48:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-30 15:48:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-30 15:48:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:33 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:48:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:48:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:41 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-30 15:48:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-30 15:48:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-30 15:48:41 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-30 15:48:41 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-30 15:48:41 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-30 15:48:41 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-30 15:48:41 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-30 15:48:41 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-30 15:48:41 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-30 15:48:41 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-30 15:48:41 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:48:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:48:41 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:48:41 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:48:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:48:41 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:48:41 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:48:41 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:48:41 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:48:41 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:48:41 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:48:41 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-30 15:48:41 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-30 15:48:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:50 middleware __call__ درخواست به: /tankhah/factors/30/edit/, کاربر: admin
INFO 2025-07-30 15:48:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorUpdateView برای کاربر: admin
INFO 2025-07-30 15:48:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-07-30 15:48:50 view_FactorUpdate get_object تلاش برای ویرایش فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 با وضعیت غیرمجاز: APPROVE
INFO 2025-07-30 15:48:50 middleware __call__ پاسخ برای /tankhah/factors/30/edit/ - کد وضعیت: 500
INFO 2025-07-30 15:48:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:48:50 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-30 15:48:50 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-30 15:54:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:54:12 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:54:12 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:54:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:54:15 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:54:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:54:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:54:33 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:54:33 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:56:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:04 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:56:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:56:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:13 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:56:13 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:56:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:16 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-30 15:56:16 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-30 15:56:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:16 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:56:16 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:56:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:21 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-30 15:56:21 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-30 15:56:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:21 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:56:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:56:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:33 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-07-30 15:56:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-07-30 15:56:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-30 15:56:33 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-07-30 15:56:33 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-30 15:56:33 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-30 15:56:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-30 15:56:33 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-07-30 15:56:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-30 15:56:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-07-30 15:56:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-30 15:56:33 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:56:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:56:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:56:33 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:56:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:56:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:56:33 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:56:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-30 15:56:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:56:33 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-07-30 15:56:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-30 15:56:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-30 15:56:33 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-30 15:56:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:56:45 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:56:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:57:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:57:12 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-07-30 15:57:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-07-30 15:57:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-30 15:57:12 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user admin in stage 2
INFO 2025-07-30 15:57:12 fun_can_edit_approval can_edit_approval [can_edit_approval] User admin has superuser/global access.
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-30 15:57:12 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-30 15:57:12 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-30 15:57:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:57:22 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:57:22 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:58:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:58:51 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:58:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:58:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:58:53 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:58:53 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:59:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:04 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-30 15:59:04 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-30 15:59:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:04 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:59:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:59:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:07 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-30 15:59:07 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-30 15:59:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:07 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:59:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:59:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:09 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-30 15:59:09 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-30 15:59:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:09 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:59:09 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 15:59:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 15:59:47 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 15:59:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 16:04:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 16:04:56 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 16:04:56 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-30 16:05:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 16:05:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-30 16:05:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-30 16:06:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-30 16:06:22 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-30 16:06:22 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 07:56:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:56:35 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-31 07:56:35 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 07:56:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:56:35 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 07:56:35 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-07-31 07:56:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:56:35 middleware __call__ درخواست به: /favicon.ico, کاربر: AnonymousUser
INFO 2025-07-31 07:56:35 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 07:56:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:56:35 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 07:56:35 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-07-31 07:57:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:57:10 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 07:57:10 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 07:57:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:57:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 07:57:13 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 07:57:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 07:57:13 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 07:57:13 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:17:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:33 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-31 08:17:33 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 08:17:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:17:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:17:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:36 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:17:37 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:17:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:37 middleware __call__ درخواست به: /, کاربر: beygh
INFO 2025-07-31 08:17:37 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:17:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:40 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-07-31 08:17:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-07-31 08:17:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:17:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 4
INFO 2025-07-31 08:17:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-31 08:17:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-07-31 08:17:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
ERROR 2025-07-31 08:17:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:17:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:17:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:17:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:17:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:17:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:17:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:17:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-31 08:17:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:17:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:46 middleware __call__ درخواست به: /tankhah/factor/30/approve/, کاربر: beygh
INFO 2025-07-31 08:17:46 middleware __call__ پاسخ برای /tankhah/factor/30/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:17:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: beygh
INFO 2025-07-31 08:17:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-07-31 08:17:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: beygh, پست: مدیران کل هر شعبه, HQ: True
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-31 08:17:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'beygh' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
WARNING 2025-07-31 08:17:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003' is locked. DENIED.
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:17:50 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-31 08:17:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:17:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:17:59 middleware __call__ درخواست به: /dashboard/flows/, کاربر: beygh
INFO 2025-07-31 08:18:00 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-31 08:18:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:00 middleware __call__ درخواست به: /dashboard/flows/, کاربر: beygh
INFO 2025-07-31 08:18:02 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-07-31 08:18:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:04 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-07-31 08:18:04 middleware __call__ کاربر  خارج شد
INFO 2025-07-31 08:18:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:18:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:18:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:13 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:18:13 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:18:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:13 middleware __call__ درخواست به: /, کاربر: hfath
INFO 2025-07-31 08:18:13 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:18:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:19 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-07-31 08:18:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-07-31 08:18:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:18:19 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-07-31 08:18:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:18:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 08:18:19 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-31 08:18:19 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-07-31 08:18:19 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-31 08:18:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-07-31 08:18:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-31 08:18:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-31 08:18:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:19 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-31 08:18:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:19 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-31 08:18:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:19 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:19 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-07-31 08:18:19 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-31 08:18:19 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:18:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:26 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-07-31 08:18:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-07-31 08:18:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: hfath, پست: کارشناس بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-31 08:18:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'hfath' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-07-31 08:18:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] User 'hfath' has superuser/global access. GRANTED.
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:18:26 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-31 08:18:26 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:18:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:33 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-07-31 08:18:33 middleware __call__ کاربر  خارج شد
INFO 2025-07-31 08:18:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:18:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:18:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:37 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:18:37 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:18:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:37 middleware __call__ درخواست به: /, کاربر: foad
INFO 2025-07-31 08:18:37 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:18:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:42 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-07-31 08:18:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-07-31 08:18:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:18:42 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-07-31 08:18:42 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:18:42 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 08:18:42 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-31 08:18:42 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-07-31 08:18:42 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-31 08:18:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-07-31 08:18:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
INFO 2025-07-31 08:18:42 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-31 08:18:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:42 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:42 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-31 08:18:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:42 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:42 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-31 08:18:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:18:42 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:42 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-07-31 08:18:42 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:18:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-31 08:18:42 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:18:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:18:48 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-31 08:18:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-31 08:18:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: foad, پست: مدیر بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-31 08:18:48 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'foad' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-07-31 08:18:48 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] User 'foad' has superuser/global access. GRANTED.
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:18:48 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-31 08:18:48 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:19:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:19:04 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-31 08:19:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-31 08:19:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:19:05 view_FactorItemApprove post [POST_V2] Received POST for factor 30 by user 'foad'
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:19:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'foad' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-07-31 08:19:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] User 'foad' has superuser/global access. GRANTED.
INFO 2025-07-31 08:19:05 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] Checking overall status for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 in stage 2
WARNING 2025-07-31 08:19:05 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] No required approvers found for stage 2. Assuming 1.
INFO 2025-07-31 08:19:05 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-07-31 08:19:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:19:05 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-07-31 08:19:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-07-31 08:19:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: foad, پست: مدیر بهره برداری - دفتر مرکزی, HQ: True
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-07-31 08:19:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'foad' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-07-31 08:19:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] User 'foad' has superuser/global access. GRANTED.
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:19:05 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-07-31 08:19:05 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:20:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:14 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-31 08:20:14 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 08:20:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:14 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:20:14 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:20:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:20:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:20:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:25 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:20:26 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:20:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:26 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-07-31 08:20:26 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:20:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:28 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-07-31 08:20:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-07-31 08:20:28 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:20:28 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 4
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 4
INFO 2025-07-31 08:20:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 4
INFO 2025-07-31 08:20:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-07-31 08:20:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 4 فاکتور برای گروه‌بندی
ERROR 2025-07-31 08:20:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:29 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:29 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:29 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:29 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:20:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 4 فاکتور، مبلغ کل: 840000.00
INFO 2025-07-31 08:20:29 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:20:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:30 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-07-31 08:20:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-07-31 08:20:30 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:20:30 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-07-31 08:20:30 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-07-31 08:20:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:32 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-07-31 08:20:32 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-31 08:20:32 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040000.00', 'project_returned': '0', 'project_remaining': '23998960000.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-07-31 08:20:32 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-07-31 08:20:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:46 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-07-31 08:20:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-07-31 08:20:46 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:20:46 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-07-31 08:20:46 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-31 08:20:46 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-31 08:20:46 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-07-31 08:20:47 view_Nfactor form_valid user_level: 6, current_stage: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED, min_level: 1
INFO 2025-07-31 08:20:47 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-31 08:20:47 view_Nfactor form_valid Factor saved: PK=32, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001
INFO 2025-07-31 08:20:47 models save Calculated amount for FactorItem pk=None: 100
INFO 2025-07-31 08:20:47 models save Tankhah saved 👍with ID: 5
INFO 2025-07-31 08:20:47 signal update_factor_and_tankhah [Signal] بودجه باقی‌مانده تنخواه TNKH-14040430-HSarein-HSAR-Flor3-001 به 4000000000.00 به‌روزرسانی شد
INFO 2025-07-31 08:20:47 models save FactorItem saved successfully (pk=32). Amount=100, Status=PENDING
INFO 2025-07-31 08:20:47 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action CREATED
INFO 2025-07-31 08:20:47 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-07-31 08:20:47 models save [ApprovalLog] User snejate has full access, saving directly
WARNING 2025-07-31 08:20:47 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-07-31 08:20:47 models save Tankhah saved 👍with ID: 5
INFO 2025-07-31 08:20:47 models create_budget_transaction BudgetTransaction created: ID=76, TxID=TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001-1753937447, amount=100, type=CONSUMPTION, allocation_pk=76
INFO 2025-07-31 08:20:47 models create_budget_transaction BudgetHistory recorded for TxID: TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001-1753937447
WARNING 2025-07-31 08:20:47 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-07-31 08:20:47 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-07-31 08:20:47 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-07-31 08:20:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-07-31 08:20:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-07-31 08:20:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:20:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 5
INFO 2025-07-31 08:20:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-07-31 08:20:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-07-31 08:20:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
ERROR 2025-07-31 08:20:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:47 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:20:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:20:48 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:20:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-07-31 08:20:48 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:20:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:20:58 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:20:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:20:59 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: snejate, پست: کارشناس مالی تنخواه گردان شعبات, HQ: True
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:20:59 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
WARNING 2025-07-31 08:20:59 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] No applicable AccessRule found for Post 'کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل' in Stage '2'. DENIED.
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:20:59 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:20:59 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:21:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:21:10 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:21:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:21:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:21:10 view_FactorItemApprove post [POST_V2] Received POST for factor 32 by user 'snejate'
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:21:10 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
WARNING 2025-07-31 08:21:10 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] No applicable AccessRule found for Post 'کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل' in Stage '2'. DENIED.
INFO 2025-07-31 08:21:10 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-07-31 08:21:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:21:10 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:21:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:21:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: snejate, پست: کارشناس مالی تنخواه گردان شعبات, HQ: True
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:21:10 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
WARNING 2025-07-31 08:21:10 fun_can_edit_approval can_edit_approval [can_edit_approval_v2] No applicable AccessRule found for Post 'کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل' in Stage '2'. DENIED.
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:21:10 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:21:10 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:25:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:25:41 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:25:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:25:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:25:41 view_FactorItemApprove post [POST_V2] Received POST for factor 32 by user 'snejate'
INFO 2025-07-31 08:25:41 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:25:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:25:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-07-31 08:25:41 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] Checking overall status for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 in stage 2
WARNING 2025-07-31 08:25:41 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] No required approvers found for stage 2. Assuming 1.
INFO 2025-07-31 08:25:41 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-07-31 08:25:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:25:42 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:25:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:25:42 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: snejate, پست: کارشناس مالی تنخواه گردان شعبات, HQ: True
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:25:42 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:25:42 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:25:42 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:25:42 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:26:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:26:08 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-07-31 08:26:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-07-31 08:26:08 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:26:08 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 5
INFO 2025-07-31 08:26:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-07-31 08:26:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-07-31 08:26:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
ERROR 2025-07-31 08:26:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:26:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:26:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:26:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:26:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:26:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:26:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:26:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:26:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:26:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-07-31 08:26:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:26:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:26:16 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:26:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:26:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: snejate, پست: کارشناس مالی تنخواه گردان شعبات, HQ: True
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:26:17 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:26:17 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:26:17 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:26:17 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:26:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:26:24 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:26:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:26:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:26:24 view_FactorItemApprove post [POST_V2] Received POST for factor 32 by user 'snejate'
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:26:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:26:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-07-31 08:26:24 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] Checking overall status for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 in stage 2
WARNING 2025-07-31 08:26:24 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] No required approvers found for stage 2. Assuming 1.
INFO 2025-07-31 08:26:24 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-07-31 08:26:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:26:24 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-07-31 08:26:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-07-31 08:26:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: snejate, پست: کارشناس مالی تنخواه گردان شعبات, HQ: True
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:26:24 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:26:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:26:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-07-31 08:26:25 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:26:25 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:26:25 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:26:25 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:26:25 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:29:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:30 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-07-31 08:29:30 middleware __call__ کاربر  خارج شد
INFO 2025-07-31 08:29:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:30 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:29:30 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:29:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:37 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:29:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:29:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:38 middleware __call__ درخواست به: /, کاربر: beygh
INFO 2025-07-31 08:29:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:29:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-07-31 08:29:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-07-31 08:29:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-07-31 08:29:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 5
INFO 2025-07-31 08:29:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-07-31 08:29:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-07-31 08:29:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
ERROR 2025-07-31 08:29:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:29:39 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:29:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:29:39 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:29:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:29:39 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:29:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-07-31 08:29:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-07-31 08:29:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-07-31 08:29:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-07-31 08:29:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-07-31 08:29:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:29:48 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-07-31 08:29:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-07-31 08:29:48 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: beygh, پست: مدیران کل هر شعبه, HQ: True
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:29:48 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:29:48 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:29:48 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:29:48 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:30:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:30:01 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-07-31 08:30:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-07-31 08:30:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:30:02 view_FactorItemApprove post [POST_V2] Received POST for factor 32 by user 'beygh'
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-07-31 08:30:02 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] Checking overall status for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 in stage 2
WARNING 2025-07-31 08:30:02 view_FactorItemApprove check_and_update_factor_status [STATUS_CHECK] No required approvers found for stage 2. Assuming 1.
INFO 2025-07-31 08:30:02 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-07-31 08:30:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:30:02 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-07-31 08:30:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-07-31 08:30:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 32 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001 بارگذاری شد
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 32
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: beygh, پست: مدیران کل هر شعبه, HQ: True
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 1
INFO 2025-07-31 08:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage '2' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-07-31 08:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 13
INFO 2025-07-31 08:30:02 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 1
INFO 2025-07-31 08:30:02 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-07-31 08:41:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:41:25 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-31 08:41:25 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 08:41:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:41:25 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:41:25 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 08:41:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:41:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 08:41:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 08:41:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:41:27 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 08:41:27 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 08:41:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:41:31 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:41:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:41:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:41:31 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:42:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:42:07 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:42:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:42:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:42:07 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:44:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:44:41 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:44:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:44:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:44:41 forms_accessrule save User 'admin' is saving access rules.
ERROR 2025-07-31 08:44:41 views_accessrule form_valid Error while saving PostAccessRuleForm: cannot unpack non-iterable int object
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 907, in save
    deactivated_count, _ = AccessRule.objects.filter(post_id__in=post_ids).update(is_active=False)
    ^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable int object
INFO 2025-07-31 08:44:41 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:45:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:45:11 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:45:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:45:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:45:11 forms_accessrule save User 'admin' is saving access rules.
ERROR 2025-07-31 08:45:11 views_accessrule form_valid Error while saving PostAccessRuleForm: cannot unpack non-iterable int object
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 907, in save
    deactivated_count, _ = AccessRule.objects.filter(post_id__in=post_ids).update(is_active=False)
    ^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable int object
INFO 2025-07-31 08:45:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:46:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:46:32 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:46:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:46:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:46:32 forms_accessrule save User 'admin' is saving access rules.
ERROR 2025-07-31 08:46:32 views_accessrule form_valid Error while saving PostAccessRuleForm: cannot unpack non-iterable int object
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 907, in save
    deactivated_count, _ = AccessRule.objects.filter(post_id__in=post_ids).update(is_active=False)
    ^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable int object
INFO 2025-07-31 08:46:33 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:46:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:46:37 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:46:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:46:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:46:38 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:47:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:47:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:47:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:47:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:47:17 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 08:47:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:47:18 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 08:47:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 08:47:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:47:20 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:47:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:47:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:47:20 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 08:47:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:47:20 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 08:47:20 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 08:47:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:47:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:47:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:47:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:47:29 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:50:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:50:11 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:50:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:50:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:50:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:53:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:53:45 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:53:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:53:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:53:45 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:56:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:56:32 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:56:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:56:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:56:32 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:56:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:56:33 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:56:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:56:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:56:34 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:57:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:04 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:57:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:57:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:57:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 08:57:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:04 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 08:57:04 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 08:57:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:15 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:57:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:57:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:57:16 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:57:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:46 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:57:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:57:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:57:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:57:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:48 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:57:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:57:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:57:49 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 08:57:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 08:57:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 08:57:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 08:57:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 08:57:57 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:02:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:02:47 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:02:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:02:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:02:47 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:05:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:05:10 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:05:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:05:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:05:10 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 09:05:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:05:10 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 09:05:10 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 09:05:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:05:20 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:05:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:05:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:05:21 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:09:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:09:55 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:09:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:09:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:09:55 forms_accessrule save User 'admin' is saving access rules.
INFO 2025-07-31 09:09:55 forms_accessrule save Deactivated 230 existing rules for 17 posts.
ERROR 2025-07-31 09:09:55 views_accessrule form_valid Error while saving PostAccessRuleForm: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 951, in save
    AccessRule.objects.bulk_create(rules_to_create, ignore_conflicts=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 09:09:56 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:14:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:14:16 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:14:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:14:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:14:16 forms_accessrule save User 'admin' is saving access rules.
INFO 2025-07-31 09:14:16 forms_accessrule save Deactivated 230 existing rules for 17 posts.
ERROR 2025-07-31 09:14:16 views_accessrule form_valid Error while saving PostAccessRuleForm: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 951, in save
    AccessRule.objects.bulk_create(rules_to_create, ignore_conflicts=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 09:14:16 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 09:14:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:14:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 09:14:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 09:14:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:14:25 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:14:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:14:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:14:25 forms_accessrule save User 'admin' is saving access rules.
INFO 2025-07-31 09:14:25 forms_accessrule save Deactivated 230 existing rules for 17 posts.
ERROR 2025-07-31 09:14:25 views_accessrule form_valid Error while saving PostAccessRuleForm: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 951, in save
    AccessRule.objects.bulk_create(rules_to_create, ignore_conflicts=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 09:14:25 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:14:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:14:38 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:14:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:14:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:14:38 forms_accessrule save User 'admin' is saving access rules.
INFO 2025-07-31 09:14:38 forms_accessrule save Deactivated 230 existing rules for 17 posts.
ERROR 2025-07-31 09:14:38 views_accessrule form_valid Error while saving PostAccessRuleForm: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 263, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 951, in save
    AccessRule.objects.bulk_create(rules_to_create, ignore_conflicts=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 09:14:39 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:14:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:14:57 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:14:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:14:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:14:58 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:18:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:18:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:18:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:18:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:18:56 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:18:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:18:58 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:18:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:18:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:18:58 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:19:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:19:04 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:19:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:19:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:19:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:19:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:19:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:19:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:19:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:19:29 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:19:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:19:33 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:19:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:19:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:19:34 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:48:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:48:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-31 09:48:59 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 09:48:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:48:59 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 09:48:59 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 09:49:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:49:01 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 09:49:02 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 09:49:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:49:02 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 09:49:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 09:49:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:49:02 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:49:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:49:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:49:03 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 09:49:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 09:49:06 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 09:49:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 09:49:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 09:49:06 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:01:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:01:55 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:01:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:01:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:01:55 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:01:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:01:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:01:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:01:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:01:56 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:05:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:05:52 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:05:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:05:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 10:05:52 views_accessrule form_valid Error while saving Hybrid Access Rule Form: ترتیب مرحله 1 برای سازمان دفتر مرکزی شرکت توسعه گردشگری ایران و موجودیت FACTOR قبلاً استفاده شده است.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1039, in save
    AccessRule.objects.update_or_create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        post=post,
        ^^^^^^^^^^
    ...<10 lines>...
        }
        ^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1011, in update_or_create
    obj.save(using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\models.py", line 559, in save
    raise ValueError(_immediate("ترتیب مرحله {stage_order} برای سازمان {org} و موجودیت {entity} قبلاً استفاده شده است.").format(
    ...<3 lines>...
    ))
ValueError: ترتیب مرحله 1 برای سازمان دفتر مرکزی شرکت توسعه گردشگری ایران و موجودیت FACTOR قبلاً استفاده شده است.
INFO 2025-07-31 10:05:52 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:08:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:08:30 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:08:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:08:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:08:31 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:12:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:12:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:12:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:12:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:12:29 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:14:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:14:30 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:14:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:14:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:14:30 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:14:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:14:31 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:14:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:14:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:14:31 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:17:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:17:45 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:17:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:17:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:17:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:22:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:22:36 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:22:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:22:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:22:36 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:24:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:24:22 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:24:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:24:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:24:23 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:28:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:28:11 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:28:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:28:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:28:11 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:28:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:28:12 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:28:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:28:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:28:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:32:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:32:42 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:32:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:32:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:32:42 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:35:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:35:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:35:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:35:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:35:56 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:37:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:37:06 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:37:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:37:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:37:06 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 10:41:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:41:14 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:41:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:41:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:41:14 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 10:41:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:41:14 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 10:41:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 10:45:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:45:14 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:45:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:45:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:45:14 forms_accessrule save Deleted 230 old rules for 17 posts.
INFO 2025-07-31 10:45:14 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-07-31 10:45:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:45:14 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-07-31 10:45:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-07-31 10:45:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:45:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 10:45:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 10:45:14 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-07-31 10:45:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 10:45:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 10:45:14 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-07-31 10:45:15 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-07-31 10:45:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 10:45:21 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 10:45:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 10:45:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 10:45:21 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:02:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:02:04 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:02:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:02:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:02:04 forms_accessrule save Deleted 0 old rules for 17 posts.
ERROR 2025-07-31 11:02:04 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1066, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:02:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:02:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:02:14 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:02:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:02:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:02:14 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:02:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:02:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:02:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:02:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:02:17 forms_accessrule save Deleted 0 old rules for 17 posts.
ERROR 2025-07-31 11:02:17 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1066, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:02:17 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:05:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:05:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:05:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:05:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:05:35 forms_accessrule save Deleted 0 old rules for 17 posts.
ERROR 2025-07-31 11:05:35 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1066, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:05:36 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:05:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:05:40 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:05:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:05:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:05:40 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:11:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:11:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:11:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:11:29 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:12:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:12:14 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:12:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:12:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:12:15 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:12:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:12:34 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:12:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:12:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:12:34 forms_accessrule save Deleted 0 old rules for 17 posts before recreating.
ERROR 2025-07-31 11:12:34 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1060, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:12:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:13:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:13:57 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:13:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:13:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:13:58 forms_accessrule save Deleted 0 old rules for 17 posts before recreating.
ERROR 2025-07-31 11:13:58 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1060, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:13:58 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:17:44 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-07-31 11:17:44 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:44 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:44 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:45 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:45 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.517
INFO 2025-07-31 11:17:45 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:45 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:45 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:45 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.472
INFO 2025-07-31 11:17:45 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:45 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:45 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:46 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1032
INFO 2025-07-31 11:17:46 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:46 update_versions handle Versions updated: {'core': '3.0.0.517', 'version_tracker': '1.1.0.472', 'accounts': '1.3.0.1032'}
INFO 2025-07-31 11:17:46 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:46 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-07-31 11:17:46 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:46 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:46 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:46 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:46 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.518
INFO 2025-07-31 11:17:46 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:46 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:47 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.473
INFO 2025-07-31 11:17:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:47 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:49 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1033
INFO 2025-07-31 11:17:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:49 update_versions handle Versions updated: {'core': '3.0.0.518', 'version_tracker': '1.1.0.473', 'accounts': '1.3.0.1033'}
INFO 2025-07-31 11:17:49 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:49 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-07-31 11:17:49 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:49 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:49 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:50 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:50 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.519
INFO 2025-07-31 11:17:50 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:50 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:51 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:51 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.474
INFO 2025-07-31 11:17:51 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:51 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:52 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:52 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1034
INFO 2025-07-31 11:17:52 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:52 update_versions handle Versions updated: {'core': '3.0.0.519', 'version_tracker': '1.1.0.474', 'accounts': '1.3.0.1034'}
INFO 2025-07-31 11:17:53 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:53 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-07-31 11:17:53 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:53 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:53 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:53 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:54 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.520
INFO 2025-07-31 11:17:54 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:54 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:54 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:54 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.475
INFO 2025-07-31 11:17:54 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:54 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:56 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:56 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1035
INFO 2025-07-31 11:17:56 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:56 update_versions handle Versions updated: {'core': '3.0.0.520', 'version_tracker': '1.1.0.475', 'accounts': '1.3.0.1035'}
INFO 2025-07-31 11:17:56 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:56 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-07-31 11:17:56 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:56 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:56 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:56 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:57 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.521
INFO 2025-07-31 11:17:57 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:57 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:57 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:57 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.476
INFO 2025-07-31 11:17:57 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:57 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:58 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1036
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:58 update_versions handle Versions updated: {'core': '3.0.0.521', 'version_tracker': '1.1.0.476', 'accounts': '1.3.0.1036'}
INFO 2025-07-31 11:17:58 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:58 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-07-31 11:17:58 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:58 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:58 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:58 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.522
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:58 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:58 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.477
INFO 2025-07-31 11:17:58 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:17:58 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:17:59 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:59 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1037
INFO 2025-07-31 11:17:59 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:17:59 update_versions handle Versions updated: {'core': '3.0.0.522', 'version_tracker': '1.1.0.477', 'accounts': '1.3.0.1037'}
INFO 2025-07-31 11:17:59 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:17:59 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-07-31 11:17:59 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:17:59 update_versions handle Starting version update process...
INFO 2025-07-31 11:17:59 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:17:59 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:59 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.523
INFO 2025-07-31 11:17:59 models update_version_file Updated version.py for core
INFO 2025-07-31 11:17:59 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:00 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:00 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.478
INFO 2025-07-31 11:18:00 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:00 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:00 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:00 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1038
INFO 2025-07-31 11:18:00 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:00 update_versions handle Versions updated: {'core': '3.0.0.523', 'version_tracker': '1.1.0.478', 'accounts': '1.3.0.1038'}
INFO 2025-07-31 11:18:00 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:00 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-07-31 11:18:00 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:00 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:00 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:01 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:01 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.524
INFO 2025-07-31 11:18:01 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:01 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:01 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:01 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.479
INFO 2025-07-31 11:18:01 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:01 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:03 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:03 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1039
INFO 2025-07-31 11:18:03 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:03 update_versions handle Versions updated: {'core': '3.0.0.524', 'version_tracker': '1.1.0.479', 'accounts': '1.3.0.1039'}
INFO 2025-07-31 11:18:03 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:03 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 11:18:03 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 11:18:03 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-07-31 11:18:03 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:03 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:03 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:04 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:04 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.525
INFO 2025-07-31 11:18:04 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:04 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:05 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.480
INFO 2025-07-31 11:18:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:05 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:07 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1040
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:07 update_versions handle Versions updated: {'core': '3.0.0.525', 'version_tracker': '1.1.0.480', 'accounts': '1.3.0.1040'}
INFO 2025-07-31 11:18:07 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:07 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-07-31 11:18:07 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:07 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:07 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:07 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.526
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:07 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.481
INFO 2025-07-31 11:18:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:08 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1041
INFO 2025-07-31 11:18:08 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:08 update_versions handle Versions updated: {'core': '3.0.0.526', 'version_tracker': '1.1.0.481', 'accounts': '1.3.0.1041'}
INFO 2025-07-31 11:18:08 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:08 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-07-31 11:18:08 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:08 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:08 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:08 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:08 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.527
INFO 2025-07-31 11:18:08 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:08 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:09 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.482
INFO 2025-07-31 11:18:09 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:09 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1042
INFO 2025-07-31 11:18:09 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:09 update_versions handle Versions updated: {'core': '3.0.0.527', 'version_tracker': '1.1.0.482', 'accounts': '1.3.0.1042'}
INFO 2025-07-31 11:18:09 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:09 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-07-31 11:18:09 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:09 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:09 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:10 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:10 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.528
INFO 2025-07-31 11:18:10 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:10 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.483
INFO 2025-07-31 11:18:10 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:11 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1043
INFO 2025-07-31 11:18:11 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:11 update_versions handle Versions updated: {'core': '3.0.0.528', 'version_tracker': '1.1.0.483', 'accounts': '1.3.0.1043'}
INFO 2025-07-31 11:18:11 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:11 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-07-31 11:18:11 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:11 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:11 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:11 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:11 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.529
INFO 2025-07-31 11:18:11 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:11 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.484
INFO 2025-07-31 11:18:12 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:12 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:12 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1044
INFO 2025-07-31 11:18:12 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:12 update_versions handle Versions updated: {'core': '3.0.0.529', 'version_tracker': '1.1.0.484', 'accounts': '1.3.0.1044'}
INFO 2025-07-31 11:18:12 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:18:13 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-07-31 11:18:13 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:18:13 update_versions handle Starting version update process...
INFO 2025-07-31 11:18:13 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:18:13 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:13 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.530
INFO 2025-07-31 11:18:13 models update_version_file Updated version.py for core
INFO 2025-07-31 11:18:13 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:18:13 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:13 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.485
INFO 2025-07-31 11:18:13 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:18:13 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:18:14 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1045
INFO 2025-07-31 11:18:14 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:18:14 update_versions handle Versions updated: {'core': '3.0.0.530', 'version_tracker': '1.1.0.485', 'accounts': '1.3.0.1045'}
INFO 2025-07-31 11:18:14 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:19:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:19:05 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:19:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:19:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:19:05 forms_accessrule save Deleted 0 old rules for 17 posts before recreating.
ERROR 2025-07-31 11:19:05 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1060, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:19:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:19:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:19:17 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 11:19:17 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 11:20:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:20:12 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:20:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:20:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:20:12 forms_accessrule save Deleted 0 old rules for 17 posts before recreating.
ERROR 2025-07-31 11:20:12 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1060, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:20:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:24:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:24:41 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:24:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:24:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 11:24:41 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1046, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:24:41 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:25:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:25:04 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:25:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:25:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 11:25:04 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1046, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:25:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:27:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:27:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:27:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:27:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 11:27:08 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1046, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:27:08 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:30:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:30:10 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:30:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:30:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 11:30:10 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1047, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:30:11 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:32:34 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-07-31 11:32:34 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:34 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:34 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:35 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:35 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.531
INFO 2025-07-31 11:32:35 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:35 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:36 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:36 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.486
INFO 2025-07-31 11:32:36 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:36 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:38 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:38 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1046
INFO 2025-07-31 11:32:38 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:38 update_versions handle Versions updated: {'core': '3.0.0.531', 'version_tracker': '1.1.0.486', 'accounts': '1.3.0.1046'}
INFO 2025-07-31 11:32:38 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:38 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-07-31 11:32:38 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:38 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:38 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:39 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:39 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.532
INFO 2025-07-31 11:32:39 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:39 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:39 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.487
INFO 2025-07-31 11:32:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:39 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:41 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:41 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1047
INFO 2025-07-31 11:32:41 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:41 update_versions handle Versions updated: {'core': '3.0.0.532', 'version_tracker': '1.1.0.487', 'accounts': '1.3.0.1047'}
INFO 2025-07-31 11:32:41 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:41 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-07-31 11:32:41 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:41 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:41 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:42 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:42 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.533
INFO 2025-07-31 11:32:42 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:42 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:43 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:43 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.488
INFO 2025-07-31 11:32:43 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:43 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:46 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:46 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1048
INFO 2025-07-31 11:32:46 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:46 update_versions handle Versions updated: {'core': '3.0.0.533', 'version_tracker': '1.1.0.488', 'accounts': '1.3.0.1048'}
INFO 2025-07-31 11:32:46 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:46 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-07-31 11:32:46 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:46 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:46 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:47 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:47 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.534
INFO 2025-07-31 11:32:47 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:47 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:48 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:48 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.489
INFO 2025-07-31 11:32:48 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:48 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:49 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1049
INFO 2025-07-31 11:32:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:49 update_versions handle Versions updated: {'core': '3.0.0.534', 'version_tracker': '1.1.0.489', 'accounts': '1.3.0.1049'}
INFO 2025-07-31 11:32:50 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:50 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-07-31 11:32:50 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:50 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:50 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:51 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:51 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.535
INFO 2025-07-31 11:32:51 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:51 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:52 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:52 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.490
INFO 2025-07-31 11:32:52 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:52 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:54 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:54 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1050
INFO 2025-07-31 11:32:54 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:54 update_versions handle Versions updated: {'core': '3.0.0.535', 'version_tracker': '1.1.0.490', 'accounts': '1.3.0.1050'}
INFO 2025-07-31 11:32:54 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:54 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-07-31 11:32:54 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:54 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:54 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:55 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:55 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.536
INFO 2025-07-31 11:32:55 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:55 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:32:56 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:56 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.491
INFO 2025-07-31 11:32:56 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:32:56 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:32:58 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:58 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1051
INFO 2025-07-31 11:32:58 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:32:58 update_versions handle Versions updated: {'core': '3.0.0.536', 'version_tracker': '1.1.0.491', 'accounts': '1.3.0.1051'}
INFO 2025-07-31 11:32:58 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:32:58 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-07-31 11:32:58 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:32:58 update_versions handle Starting version update process...
INFO 2025-07-31 11:32:58 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:32:59 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:59 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.537
INFO 2025-07-31 11:32:59 models update_version_file Updated version.py for core
INFO 2025-07-31 11:32:59 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:00 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:00 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.492
INFO 2025-07-31 11:33:00 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:00 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:02 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:02 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1052
INFO 2025-07-31 11:33:02 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:02 update_versions handle Versions updated: {'core': '3.0.0.537', 'version_tracker': '1.1.0.492', 'accounts': '1.3.0.1052'}
INFO 2025-07-31 11:33:02 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:02 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-07-31 11:33:02 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:02 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:02 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:03 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:03 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.538
INFO 2025-07-31 11:33:03 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:03 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:03 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.493
INFO 2025-07-31 11:33:03 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:03 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:05 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:05 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1053
INFO 2025-07-31 11:33:05 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:05 update_versions handle Versions updated: {'core': '3.0.0.538', 'version_tracker': '1.1.0.493', 'accounts': '1.3.0.1053'}
INFO 2025-07-31 11:33:05 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:05 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 11:33:05 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 11:33:05 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-07-31 11:33:05 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:05 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:05 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:06 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:06 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.539
INFO 2025-07-31 11:33:06 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.494
INFO 2025-07-31 11:33:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:09 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1054
INFO 2025-07-31 11:33:09 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:09 update_versions handle Versions updated: {'core': '3.0.0.539', 'version_tracker': '1.1.0.494', 'accounts': '1.3.0.1054'}
INFO 2025-07-31 11:33:09 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:09 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-07-31 11:33:09 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:09 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:09 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:10 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:10 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.540
INFO 2025-07-31 11:33:10 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:11 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:11 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.495
INFO 2025-07-31 11:33:11 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:11 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:13 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:13 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1055
INFO 2025-07-31 11:33:13 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:13 update_versions handle Versions updated: {'core': '3.0.0.540', 'version_tracker': '1.1.0.495', 'accounts': '1.3.0.1055'}
INFO 2025-07-31 11:33:13 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:13 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-07-31 11:33:13 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:13 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:13 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:14 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:14 models create_code_changes 9 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.541
INFO 2025-07-31 11:33:14 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:14 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:15 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:15 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.496
INFO 2025-07-31 11:33:15 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:15 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:17 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:17 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1056
INFO 2025-07-31 11:33:17 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:17 update_versions handle Versions updated: {'core': '3.0.0.541', 'version_tracker': '1.1.0.496', 'accounts': '1.3.0.1056'}
INFO 2025-07-31 11:33:17 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:17 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-07-31 11:33:17 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:17 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:17 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:17 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:17 models create_code_changes 1 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.542
INFO 2025-07-31 11:33:17 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:17 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:17 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:18 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.497
INFO 2025-07-31 11:33:18 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:18 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:19 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:19 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1057
INFO 2025-07-31 11:33:19 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:19 update_versions handle Versions updated: {'core': '3.0.0.542', 'version_tracker': '1.1.0.497', 'accounts': '1.3.0.1057'}
INFO 2025-07-31 11:33:19 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:19 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-07-31 11:33:19 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:19 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:19 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:19 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:19 models create_code_changes 1 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.543
INFO 2025-07-31 11:33:19 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:19 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:20 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:20 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.498
INFO 2025-07-31 11:33:20 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:20 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:22 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:22 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1058
INFO 2025-07-31 11:33:22 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:22 update_versions handle Versions updated: {'core': '3.0.0.543', 'version_tracker': '1.1.0.498', 'accounts': '1.3.0.1058'}
INFO 2025-07-31 11:33:22 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:33:22 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-07-31 11:33:22 signals update_versions Calling update_versions command...
INFO 2025-07-31 11:33:22 update_versions handle Starting version update process...
INFO 2025-07-31 11:33:22 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 11:33:22 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:22 models create_code_changes 1 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.0.0.544
INFO 2025-07-31 11:33:22 models update_version_file Updated version.py for core
INFO 2025-07-31 11:33:22 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 11:33:23 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:23 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.499
INFO 2025-07-31 11:33:23 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 11:33:23 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 11:33:25 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:25 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1059
INFO 2025-07-31 11:33:25 models update_version_file Updated version.py for accounts
INFO 2025-07-31 11:33:25 update_versions handle Versions updated: {'core': '3.0.0.544', 'version_tracker': '1.1.0.499', 'accounts': '1.3.0.1059'}
INFO 2025-07-31 11:33:25 update_versions handle Final version updated successfully!
INFO 2025-07-31 11:35:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:35:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:35:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:35:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 11:35:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 11:37:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 11:37:02 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 11:37:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 11:37:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 11:37:02 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1045, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 11:37:03 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 16:02:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:02:10 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-31 16:02:10 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 16:02:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:02:10 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 16:02:10 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 16:02:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:02:13 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 16:02:13 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 16:02:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:02:13 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 16:02:13 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 16:02:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:02:15 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 16:02:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 16:02:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 16:02:15 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 16:19:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:19:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 16:19:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 16:19:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 16:19:30 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 16:29:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 16:29:52 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 16:29:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 16:29:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 16:29:52 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:48:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:21 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:21 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 22:48:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:21 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 22:48:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:24 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:26 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 22:48:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:26 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-07-31 22:48:26 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 22:48:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:26 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:26 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 22:48:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:32 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:32 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 22:48:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:32 middleware __call__ درخواست به: /access-rules/assign/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:32 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-07-31 22:48:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:32 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:32 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-07-31 22:48:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:51 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-07-31 22:48:52 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-07-31 22:48:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:48:52 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-07-31 22:48:53 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-07-31 22:49:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:49:02 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:49:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:49:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:49:03 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:49:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:49:19 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:49:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:49:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:49:19 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-07-31 22:49:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:49:19 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-07-31 22:49:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-07-31 22:49:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:49:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:49:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:49:19 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-07-31 22:49:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:49:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:49:19 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-07-31 22:49:19 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-07-31 22:49:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:49:35 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-07-31 22:49:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-07-31 22:49:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:49:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:49:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:49:35 views_accessrule get_queryset AccessRule queryset count: 1
INFO 2025-07-31 22:49:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:49:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:49:35 views_accessrule get_queryset AccessRule queryset count: 1
INFO 2025-07-31 22:49:35 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-07-31 22:50:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:50:21 middleware __call__ درخواست به: /accounts/set_theme/, کاربر: admin
INFO 2025-07-31 22:50:21 middleware __call__ پاسخ برای /accounts/set_theme/ - کد وضعیت: 302
INFO 2025-07-31 22:50:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:50:21 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-07-31 22:50:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-07-31 22:50:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:50:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:50:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:50:21 views_accessrule get_queryset AccessRule queryset count: 1
INFO 2025-07-31 22:50:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-07-31 22:50:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-07-31 22:50:21 views_accessrule get_queryset AccessRule queryset count: 1
INFO 2025-07-31 22:50:21 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-07-31 22:51:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:51:47 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:51:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:51:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:51:47 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:55:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:05 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:55:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:55:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:55:06 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 22:55:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 22:55:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 22:55:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:23 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:55:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:55:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:55:23 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 22:55:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:24 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 22:55:24 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 22:55:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:24 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:55:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:55:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:55:24 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-07-31 22:55:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:24 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-07-31 22:55:24 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-07-31 22:55:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:55:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:55:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:55:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:55:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:55:50 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:55:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:55:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:55:51 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:58:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:58:01 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:58:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:58:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:58:01 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:59:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:59:12 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:59:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:59:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-07-31 22:59:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 22:59:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 22:59:40 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 22:59:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 22:59:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 22:59:41 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1045, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 22:59:42 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 23:05:05 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-07-31 23:05:05 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:05 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:05 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:05 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:05 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.0
INFO 2025-07-31 23:05:05 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:05 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:05 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.500
INFO 2025-07-31 23:05:05 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:05 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:06 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:06 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1060
INFO 2025-07-31 23:05:06 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:06 update_versions handle Versions updated: {'core': '4.0.0.0', 'version_tracker': '1.1.0.500', 'accounts': '1.3.0.1060'}
INFO 2025-07-31 23:05:06 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:06 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-07-31 23:05:06 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:06 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:06 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:07 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:07 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.1
INFO 2025-07-31 23:05:07 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:07 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.501
INFO 2025-07-31 23:05:07 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:08 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1061
INFO 2025-07-31 23:05:08 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:08 update_versions handle Versions updated: {'core': '4.0.0.1', 'version_tracker': '1.1.0.501', 'accounts': '1.3.0.1061'}
INFO 2025-07-31 23:05:08 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:08 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-07-31 23:05:08 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:08 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:08 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:08 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:08 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.2
INFO 2025-07-31 23:05:08 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:08 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:09 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.502
INFO 2025-07-31 23:05:09 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:11 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1062
INFO 2025-07-31 23:05:11 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:11 update_versions handle Versions updated: {'core': '4.0.0.2', 'version_tracker': '1.1.0.502', 'accounts': '1.3.0.1062'}
INFO 2025-07-31 23:05:11 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:11 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-07-31 23:05:11 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:11 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:11 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:11 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:11 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.3
INFO 2025-07-31 23:05:11 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:12 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.503
INFO 2025-07-31 23:05:12 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:14 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1063
INFO 2025-07-31 23:05:14 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:14 update_versions handle Versions updated: {'core': '4.0.0.3', 'version_tracker': '1.1.0.503', 'accounts': '1.3.0.1063'}
INFO 2025-07-31 23:05:14 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:14 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-07-31 23:05:14 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:14 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:14 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:14 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:14 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.4
INFO 2025-07-31 23:05:14 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:14 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:16 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:16 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.504
INFO 2025-07-31 23:05:16 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:16 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:18 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1064
INFO 2025-07-31 23:05:18 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:19 update_versions handle Versions updated: {'core': '4.0.0.4', 'version_tracker': '1.1.0.504', 'accounts': '1.3.0.1064'}
INFO 2025-07-31 23:05:19 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:19 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-07-31 23:05:19 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:19 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:19 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:19 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:19 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.5
INFO 2025-07-31 23:05:19 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:19 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:20 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:20 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.505
INFO 2025-07-31 23:05:20 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:20 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:23 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:23 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1065
INFO 2025-07-31 23:05:23 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:23 update_versions handle Versions updated: {'core': '4.0.0.5', 'version_tracker': '1.1.0.505', 'accounts': '1.3.0.1065'}
INFO 2025-07-31 23:05:23 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:23 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-07-31 23:05:23 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:23 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:23 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:23 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:23 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.6
INFO 2025-07-31 23:05:23 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:23 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:25 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:25 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.506
INFO 2025-07-31 23:05:25 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:25 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:28 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:28 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1066
INFO 2025-07-31 23:05:28 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:28 update_versions handle Versions updated: {'core': '4.0.0.6', 'version_tracker': '1.1.0.506', 'accounts': '1.3.0.1066'}
INFO 2025-07-31 23:05:28 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:28 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-07-31 23:05:28 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:28 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:28 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:29 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:29 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.7
INFO 2025-07-31 23:05:29 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:29 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:30 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:30 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.507
INFO 2025-07-31 23:05:30 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:30 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:33 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1067
INFO 2025-07-31 23:05:33 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:33 update_versions handle Versions updated: {'core': '4.0.0.7', 'version_tracker': '1.1.0.507', 'accounts': '1.3.0.1067'}
INFO 2025-07-31 23:05:33 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:33 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 23:05:33 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-07-31 23:05:33 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-07-31 23:05:33 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:33 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:33 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:33 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:34 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.8
INFO 2025-07-31 23:05:34 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:34 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:35 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.508
INFO 2025-07-31 23:05:35 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:38 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:38 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1068
INFO 2025-07-31 23:05:38 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:38 update_versions handle Versions updated: {'core': '4.0.0.8', 'version_tracker': '1.1.0.508', 'accounts': '1.3.0.1068'}
INFO 2025-07-31 23:05:38 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:38 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-07-31 23:05:38 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:38 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:38 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:38 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:38 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.9
INFO 2025-07-31 23:05:38 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:38 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:39 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.509
INFO 2025-07-31 23:05:39 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:39 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:42 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:42 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1069
INFO 2025-07-31 23:05:42 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:42 update_versions handle Versions updated: {'core': '4.0.0.9', 'version_tracker': '1.1.0.509', 'accounts': '1.3.0.1069'}
INFO 2025-07-31 23:05:42 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:42 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-07-31 23:05:42 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:42 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:42 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:42 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:42 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.10
INFO 2025-07-31 23:05:42 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:44 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:44 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.510
INFO 2025-07-31 23:05:44 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:44 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:46 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:46 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1070
INFO 2025-07-31 23:05:46 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:46 update_versions handle Versions updated: {'core': '4.0.0.10', 'version_tracker': '1.1.0.510', 'accounts': '1.3.0.1070'}
INFO 2025-07-31 23:05:46 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:46 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-07-31 23:05:46 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:46 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:46 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:46 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:46 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.11
INFO 2025-07-31 23:05:46 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:46 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:47 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.511
INFO 2025-07-31 23:05:47 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:47 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:48 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1071
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:48 update_versions handle Versions updated: {'core': '4.0.0.11', 'version_tracker': '1.1.0.511', 'accounts': '1.3.0.1071'}
INFO 2025-07-31 23:05:48 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:48 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-07-31 23:05:48 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:48 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:48 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:48 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.12
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:48 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:48 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.512
INFO 2025-07-31 23:05:48 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:48 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:49 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1072
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:49 update_versions handle Versions updated: {'core': '4.0.0.12', 'version_tracker': '1.1.0.512', 'accounts': '1.3.0.1072'}
INFO 2025-07-31 23:05:49 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:05:49 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-07-31 23:05:49 signals update_versions Calling update_versions command...
INFO 2025-07-31 23:05:49 update_versions handle Starting version update process...
INFO 2025-07-31 23:05:49 update_versions update_app_versions Checking core for changes...
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:49 models create_code_changes 2 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.13
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for core
INFO 2025-07-31 23:05:49 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:49 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.513
INFO 2025-07-31 23:05:49 models update_version_file Updated version.py for version_tracker
INFO 2025-07-31 23:05:49 update_versions update_app_versions Checking accounts for changes...
INFO 2025-07-31 23:05:50 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:50 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1073
INFO 2025-07-31 23:05:50 models update_version_file Updated version.py for accounts
INFO 2025-07-31 23:05:50 update_versions handle Versions updated: {'core': '4.0.0.13', 'version_tracker': '1.1.0.513', 'accounts': '1.3.0.1073'}
INFO 2025-07-31 23:05:50 update_versions handle Final version updated successfully!
INFO 2025-07-31 23:06:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 23:06:29 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 23:06:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 23:06:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 23:06:29 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1045, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 23:06:30 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-07-31 23:09:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-07-31 23:09:36 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-07-31 23:09:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-07-31 23:09:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-07-31 23:09:36 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1045, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-07-31 23:09:37 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 09:34:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:02 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-02 09:34:02 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-02 09:34:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:02 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-02 09:34:02 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-02 09:34:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-02 09:34:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-02 09:34:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:04 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-02 09:34:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-02 09:34:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:09 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:34:09 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 403
INFO 2025-08-02 09:34:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:09 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:34:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:34:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:34:12 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:34:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:34:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:34:12 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 09:36:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:36:23 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:36:23 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:43:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:43:07 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:43:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:43:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:43:07 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 09:43:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:43:07 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:43:07 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:46:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:46:33 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:46:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:46:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:46:33 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:46:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:46:33 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:46:33 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:46:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:46:33 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:46:33 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:47:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:15 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:47:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:47:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:47:15 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:47:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:15 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:47:15 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:47:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:15 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:47:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:47:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:47:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:47:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:47:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:47:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:35 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:47:35 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:47:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:36 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:47:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:47:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:37 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:47:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:47:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:47:37 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:47:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:37 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:47:37 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:47:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:47:37 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:47:37 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:48:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:04 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:48:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:48:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:48:04 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:48:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:04 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:48:04 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:05 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:48:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:05 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:48:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:48:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:48:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 09:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:05 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:48:05 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 09:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:05 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 09:48:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 09:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:27 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 09:48:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 09:48:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 09:48:27 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 09:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 09:48:27 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 09:48:27 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:18 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:04:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:04:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:04:18 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:04:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:18 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:04:19 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:34 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:04:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:04:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:04:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:04:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:35 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:04:35 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:45 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:04:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:04:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:04:45 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 10:04:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:45 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:04:45 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:45 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 10:04:45 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 10:04:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:54 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:04:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:04:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:04:54 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 10:04:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:54 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:04:54 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:54 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 10:04:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 10:04:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:59 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:04:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:04:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:04:59 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-02 10:04:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:59 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:04:59 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:04:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:04:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-02 10:04:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-02 10:05:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:05:02 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:05:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:05:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:05:02 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:05:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:05:02 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:05:02 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:05:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:05:20 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-02 10:05:20 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-02 10:05:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:05:21 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:05:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:05:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:05:22 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:05:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:05:22 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:05:22 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:30:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:51 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-02 10:30:51 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-02 10:30:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:51 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-02 10:30:51 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-02 10:30:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:54 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-02 10:30:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-02 10:30:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:55 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-02 10:30:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-02 10:30:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:30:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:30:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:30:56 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:30:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:30:56 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-02 10:30:56 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-02 10:31:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:31:41 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:31:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:31:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 10:31:41 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1044, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-08-02 10:31:42 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:45:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:45:00 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:45:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:45:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:45:00 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:56:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:56:54 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:56:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:56:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 10:56:54 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1056, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-08-02 10:56:54 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 10:58:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 10:58:47 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 10:58:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 10:58:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 10:58:47 forms_accessrule save rules_to_create: [<AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - PENDING (ترتیب: 1) - PENDING>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - APPROVE (ترتیب: 1) - APPROVE>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - REJECT (ترتیب: 1) - REJECT>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - STAGE_CHANGE (ترتیب: 1) - STAGE_CHANGE>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - DELETE (ترتیب: 1) - DELETE>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - CREATE (ترتیب: 1) - CREATE>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - EDIT (ترتیب: 1) - EDIT>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - VIEW (ترتیب: 1) - VIEW>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - PAID (ترتیب: 1) - PAID>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - PARTIAL (ترتیب: 1) - PARTIAL>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - PENDING_APPROVAL (ترتیب: 1) - PENDING_APPROVAL>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - APPROVED_INTERMEDIATE (ترتیب: 1) - APPROVED_INTERMEDIATE>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - APPROVED_FINAL (ترتیب: 1) - APPROVED_FINAL>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - SIGN_PAYMENT (ترتیب: 1) - SIGN_PAYMENT>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - SENT_TO_HQ (ترتیب: 1) - SENT_TO_HQ>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - HQ_OPS_PENDING (ترتیب: 1) - HQ_OPS_PENDING>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - HQ_OPS_APPROVED (ترتیب: 1) - HQ_OPS_APPROVED>, <AccessRule: HSarein - هتل لاله سرعین (هتل) - کارشناس مالی تنخواه گردان شعبات (HSarein) - حوزه دفتر مدیر عامل - HQ_FIN_PENDING (ترتیب: 1) - HQ_FIN_PENDING>]
ERROR 2025-08-02 10:58:47 views_accessrule form_valid Error while saving Hybrid Access Rule Form: (1364, "Field 'branch' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'branch' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1057, in save
    AccessRule.objects.bulk_create(rules_to_create)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1886, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<4 lines>...
        unique_fields=unique_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'branch' doesn't have a default value")
INFO 2025-08-02 10:58:48 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:03:06 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-02 11:03:06 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:06 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:06 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:06 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:06 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.14
INFO 2025-08-02 11:03:06 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.514
INFO 2025-08-02 11:03:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1074
INFO 2025-08-02 11:03:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:08 update_versions handle Versions updated: {'core': '4.0.0.14', 'version_tracker': '1.1.0.514', 'accounts': '1.3.0.1074'}
INFO 2025-08-02 11:03:08 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:08 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-02 11:03:08 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:08 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:08 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:08 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:08 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.15
INFO 2025-08-02 11:03:08 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:08 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.515
INFO 2025-08-02 11:03:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:10 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:10 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1075
INFO 2025-08-02 11:03:10 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:10 update_versions handle Versions updated: {'core': '4.0.0.15', 'version_tracker': '1.1.0.515', 'accounts': '1.3.0.1075'}
INFO 2025-08-02 11:03:10 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:10 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-02 11:03:10 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:10 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:10 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:10 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:10 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.16
INFO 2025-08-02 11:03:10 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:11 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:11 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.516
INFO 2025-08-02 11:03:11 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:11 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:12 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:12 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1076
INFO 2025-08-02 11:03:12 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:12 update_versions handle Versions updated: {'core': '4.0.0.16', 'version_tracker': '1.1.0.516', 'accounts': '1.3.0.1076'}
INFO 2025-08-02 11:03:12 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:12 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-02 11:03:12 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:12 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:12 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:12 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:12 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.17
INFO 2025-08-02 11:03:12 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:12 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:13 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.517
INFO 2025-08-02 11:03:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:13 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:14 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1077
INFO 2025-08-02 11:03:14 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:14 update_versions handle Versions updated: {'core': '4.0.0.17', 'version_tracker': '1.1.0.517', 'accounts': '1.3.0.1077'}
INFO 2025-08-02 11:03:14 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:14 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-08-02 11:03:14 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:14 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:14 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:14 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:14 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.18
INFO 2025-08-02 11:03:14 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:14 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:15 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.518
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:15 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:15 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1078
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:15 update_versions handle Versions updated: {'core': '4.0.0.18', 'version_tracker': '1.1.0.518', 'accounts': '1.3.0.1078'}
INFO 2025-08-02 11:03:15 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:15 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-02 11:03:15 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:15 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:15 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:15 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.19
INFO 2025-08-02 11:03:15 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:15 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:16 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.519
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:16 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:16 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1079
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:16 update_versions handle Versions updated: {'core': '4.0.0.19', 'version_tracker': '1.1.0.519', 'accounts': '1.3.0.1079'}
INFO 2025-08-02 11:03:16 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:16 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-02 11:03:16 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:16 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:16 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:16 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.20
INFO 2025-08-02 11:03:16 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:16 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:17 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.520
INFO 2025-08-02 11:03:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:17 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1080
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:18 update_versions handle Versions updated: {'core': '4.0.0.20', 'version_tracker': '1.1.0.520', 'accounts': '1.3.0.1080'}
INFO 2025-08-02 11:03:18 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:18 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-02 11:03:18 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:18 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:18 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:18 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.21
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:18 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:18 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.521
INFO 2025-08-02 11:03:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:18 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:19 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1081
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:19 update_versions handle Versions updated: {'core': '4.0.0.21', 'version_tracker': '1.1.0.521', 'accounts': '1.3.0.1081'}
INFO 2025-08-02 11:03:19 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:19 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-02 11:03:19 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-02 11:03:19 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-02 11:03:19 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:19 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:19 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:19 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.22
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:19 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:19 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.522
INFO 2025-08-02 11:03:19 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:19 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:20 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:20 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1082
INFO 2025-08-02 11:03:20 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:20 update_versions handle Versions updated: {'core': '4.0.0.22', 'version_tracker': '1.1.0.522', 'accounts': '1.3.0.1082'}
INFO 2025-08-02 11:03:20 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:20 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-02 11:03:20 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:20 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:20 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:20 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:20 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.23
INFO 2025-08-02 11:03:20 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:20 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:21 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:21 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.523
INFO 2025-08-02 11:03:21 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:21 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:23 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:23 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1083
INFO 2025-08-02 11:03:23 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:23 update_versions handle Versions updated: {'core': '4.0.0.23', 'version_tracker': '1.1.0.523', 'accounts': '1.3.0.1083'}
INFO 2025-08-02 11:03:23 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:23 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-02 11:03:23 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:23 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:23 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:23 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:23 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.24
INFO 2025-08-02 11:03:23 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:23 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:24 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.524
INFO 2025-08-02 11:03:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:24 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:25 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:25 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1084
INFO 2025-08-02 11:03:25 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:25 update_versions handle Versions updated: {'core': '4.0.0.24', 'version_tracker': '1.1.0.524', 'accounts': '1.3.0.1084'}
INFO 2025-08-02 11:03:25 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:25 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-02 11:03:25 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:25 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:25 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:25 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:25 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.25
INFO 2025-08-02 11:03:25 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:25 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:26 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.525
INFO 2025-08-02 11:03:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:26 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:27 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1085
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:27 update_versions handle Versions updated: {'core': '4.0.0.25', 'version_tracker': '1.1.0.525', 'accounts': '1.3.0.1085'}
INFO 2025-08-02 11:03:27 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:27 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-02 11:03:27 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:27 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:27 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:27 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.26
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:27 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:27 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.526
INFO 2025-08-02 11:03:27 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:27 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:28 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1086
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:28 update_versions handle Versions updated: {'core': '4.0.0.26', 'version_tracker': '1.1.0.526', 'accounts': '1.3.0.1086'}
INFO 2025-08-02 11:03:28 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:03:28 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-02 11:03:28 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:03:28 update_versions handle Starting version update process...
INFO 2025-08-02 11:03:28 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:28 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.27
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for core
INFO 2025-08-02 11:03:28 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:28 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.527
INFO 2025-08-02 11:03:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:03:28 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:03:29 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:29 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1087
INFO 2025-08-02 11:03:29 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:03:29 update_versions handle Versions updated: {'core': '4.0.0.27', 'version_tracker': '1.1.0.527', 'accounts': '1.3.0.1087'}
INFO 2025-08-02 11:03:29 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:06:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:06:05 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:06:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:06:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 11:06:05 forms_accessrule save Failed to create access rules: (1364, "Field 'branch' doesn't have a default value")
ERROR 2025-08-02 11:06:05 views_accessrule form_valid Error while saving Hybrid Access Rule Form: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1060, in save
    rule.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 99, in _execute
    self.db.validate_no_broken_transaction()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 521, in validate_no_broken_transaction
    raise TransactionManagementError(
    ...<2 lines>...
    ) from self.rollback_exc
django.db.transaction.TransactionManagementError: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 1062, in save
    logger.error(f"Failed to save rule {rule}: {e}")
                                       ^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\models.py", line 569, in __str__
    return f"{self.organization} - {self.post} - {self.stage} (ترتیب: {self.stage_order}) - {self.action_type}"
             ^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\models.py", line 68, in __str__
    org_type_str = self.org_type.fname if self.org_type else _("نامشخص")
                                          ^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 257, in __get__
    rel_obj = self.get_object(instance)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 220, in get_object
    return qs.get(self.field.get_reverse_related_filter(instance))
           ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 99, in _execute
    self.db.validate_no_broken_transaction()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 521, in validate_no_broken_transaction
    raise TransactionManagementError(
    ...<2 lines>...
    ) from self.rollback_exc
django.db.transaction.TransactionManagementError: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
INFO 2025-08-02 11:06:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:12:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:12:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:12:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:12:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: (1364, "Field 'branch' doesn't have a default value")
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:12:35 forms_accessrule save Failed to save rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
INFO 2025-08-02 11:12:35 forms_accessrule save Successfully created access rules by user 'admin'
INFO 2025-08-02 11:12:35 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:12:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:12:35 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:12:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:12:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:12:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:12:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:12:35 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:12:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:12:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:12:35 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:12:35 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:14:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:14:56 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:14:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:14:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:14:57 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:15:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:15:09 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:15:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:15:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: (1364, "Field 'branch' doesn't have a default value")
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:09 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
INFO 2025-08-02 11:15:09 forms_accessrule save Successfully created 0 access rules by user 'admin'
INFO 2025-08-02 11:15:09 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:15:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:15:09 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:15:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:15:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:15:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:15:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:15:09 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:15:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:15:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:15:09 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:15:09 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:15:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:15:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:15:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:15:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:15:18 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:15:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:15:24 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:15:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:15:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: (1364, "Field 'branch' doesn't have a default value")
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
ERROR 2025-08-02 11:15:24 forms_accessrule save Failed to create rule for post 6: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.
INFO 2025-08-02 11:15:24 forms_accessrule save Successfully created 0 access rules by user 'admin'
INFO 2025-08-02 11:15:24 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:15:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:15:24 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:15:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:15:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:15:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:15:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:15:24 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:15:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:15:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:15:24 views_accessrule get_queryset AccessRule queryset count: 27
INFO 2025-08-02 11:15:24 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:20:05 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-02 11:20:05 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:05 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:05 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:05 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:05 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.28
INFO 2025-08-02 11:20:05 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:05 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:05 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:05 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.528
INFO 2025-08-02 11:20:05 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:05 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:06 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1088
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:06 update_versions handle Versions updated: {'core': '4.0.0.28', 'version_tracker': '1.1.0.528', 'accounts': '1.3.0.1088'}
INFO 2025-08-02 11:20:06 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:06 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-02 11:20:06 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:06 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:06 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:06 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.29
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:06 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.529
INFO 2025-08-02 11:20:06 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:06 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:07 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1089
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:07 update_versions handle Versions updated: {'core': '4.0.0.29', 'version_tracker': '1.1.0.529', 'accounts': '1.3.0.1089'}
INFO 2025-08-02 11:20:07 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:07 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-02 11:20:07 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:07 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:07 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:07 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.30
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:07 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.530
INFO 2025-08-02 11:20:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1090
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:08 update_versions handle Versions updated: {'core': '4.0.0.30', 'version_tracker': '1.1.0.530', 'accounts': '1.3.0.1090'}
INFO 2025-08-02 11:20:08 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:08 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-02 11:20:08 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:08 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:08 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:08 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.31
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:08 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:08 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.531
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:08 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1091
INFO 2025-08-02 11:20:08 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:08 update_versions handle Versions updated: {'core': '4.0.0.31', 'version_tracker': '1.1.0.531', 'accounts': '1.3.0.1091'}
INFO 2025-08-02 11:20:08 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:09 signals update_versions 🚀 post_migrate triggered for notifications 🚀
INFO 2025-08-02 11:20:09 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:09 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:09 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:09 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.32
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:09 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.532
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1092
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:09 update_versions handle Versions updated: {'core': '4.0.0.32', 'version_tracker': '1.1.0.532', 'accounts': '1.3.0.1092'}
INFO 2025-08-02 11:20:09 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:09 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-02 11:20:09 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:09 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:09 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:09 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.33
INFO 2025-08-02 11:20:09 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:09 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.533
INFO 2025-08-02 11:20:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:11 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1093
INFO 2025-08-02 11:20:11 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:11 update_versions handle Versions updated: {'core': '4.0.0.33', 'version_tracker': '1.1.0.533', 'accounts': '1.3.0.1093'}
INFO 2025-08-02 11:20:11 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:11 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-02 11:20:11 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:11 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:11 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:11 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:11 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.34
INFO 2025-08-02 11:20:11 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.534
INFO 2025-08-02 11:20:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:13 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1094
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:13 update_versions handle Versions updated: {'core': '4.0.0.34', 'version_tracker': '1.1.0.534', 'accounts': '1.3.0.1094'}
INFO 2025-08-02 11:20:13 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:13 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-02 11:20:13 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:13 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:13 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:13 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.35
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:13 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:13 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.535
INFO 2025-08-02 11:20:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:13 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:14 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1095
INFO 2025-08-02 11:20:14 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:14 update_versions handle Versions updated: {'core': '4.0.0.35', 'version_tracker': '1.1.0.535', 'accounts': '1.3.0.1095'}
INFO 2025-08-02 11:20:14 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:14 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-02 11:20:14 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-02 11:20:14 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-02 11:20:14 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:14 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:14 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:15 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:15 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.36
INFO 2025-08-02 11:20:15 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:15 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:15 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.536
INFO 2025-08-02 11:20:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:15 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:16 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:16 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1096
INFO 2025-08-02 11:20:16 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:16 update_versions handle Versions updated: {'core': '4.0.0.36', 'version_tracker': '1.1.0.536', 'accounts': '1.3.0.1096'}
INFO 2025-08-02 11:20:16 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:16 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-02 11:20:16 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:16 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:16 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:16 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:16 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.37
INFO 2025-08-02 11:20:16 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:16 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:17 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.537
INFO 2025-08-02 11:20:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:17 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1097
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:18 update_versions handle Versions updated: {'core': '4.0.0.37', 'version_tracker': '1.1.0.537', 'accounts': '1.3.0.1097'}
INFO 2025-08-02 11:20:18 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:18 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-02 11:20:18 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:18 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:18 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:18 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.38
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:18 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:18 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.538
INFO 2025-08-02 11:20:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:18 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:19 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:19 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1098
INFO 2025-08-02 11:20:19 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:19 update_versions handle Versions updated: {'core': '4.0.0.38', 'version_tracker': '1.1.0.538', 'accounts': '1.3.0.1098'}
INFO 2025-08-02 11:20:19 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:19 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-02 11:20:19 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:19 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:19 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:19 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:19 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.39
INFO 2025-08-02 11:20:19 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:19 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:20 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.539
INFO 2025-08-02 11:20:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:20 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:21 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:21 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1099
INFO 2025-08-02 11:20:21 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:21 update_versions handle Versions updated: {'core': '4.0.0.39', 'version_tracker': '1.1.0.539', 'accounts': '1.3.0.1099'}
INFO 2025-08-02 11:20:21 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:21 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-02 11:20:21 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:21 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:21 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:21 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:21 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.40
INFO 2025-08-02 11:20:21 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:21 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:22 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:22 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.540
INFO 2025-08-02 11:20:22 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:22 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:23 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1100
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:23 update_versions handle Versions updated: {'core': '4.0.0.40', 'version_tracker': '1.1.0.540', 'accounts': '1.3.0.1100'}
INFO 2025-08-02 11:20:23 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:20:23 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-02 11:20:23 signals update_versions Calling update_versions command...
INFO 2025-08-02 11:20:23 update_versions handle Starting version update process...
INFO 2025-08-02 11:20:23 update_versions update_app_versions Checking core for changes...
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:23 models create_code_changes 3 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.41
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for core
INFO 2025-08-02 11:20:23 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:23 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.541
INFO 2025-08-02 11:20:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-02 11:20:23 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-02 11:20:24 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:24 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1101
INFO 2025-08-02 11:20:24 models update_version_file Updated version.py for accounts
INFO 2025-08-02 11:20:24 update_versions handle Versions updated: {'core': '4.0.0.41', 'version_tracker': '1.1.0.541', 'accounts': '1.3.0.1101'}
INFO 2025-08-02 11:20:24 update_versions handle Final version updated successfully!
INFO 2025-08-02 11:22:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:22:27 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:22:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:22:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:22:28 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:22:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:22:38 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:22:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:22:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-02 11:22:38 views_accessrule form_valid Error while saving Hybrid Access Rule Form: 'PostAccessRuleHybridForm' object has no attribute 'save'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 260, in form_valid
    form.save(user=self.request.user)
    ^^^^^^^^^
AttributeError: 'PostAccessRuleHybridForm' object has no attribute 'save'
INFO 2025-08-02 11:22:39 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:29:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:29:06 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:29:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:29:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:29:07 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:29:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:29:07 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:29:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:29:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:29:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:29:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:29:07 views_accessrule get_queryset AccessRule queryset count: 46
INFO 2025-08-02 11:29:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:29:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:29:07 views_accessrule get_queryset AccessRule queryset count: 46
INFO 2025-08-02 11:29:07 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:29:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:29:19 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:29:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:29:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:29:19 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:30:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:19 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:30:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:30:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:19 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:30:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:19 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:30:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:30:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:30:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:30:19 views_accessrule get_queryset AccessRule queryset count: 51
INFO 2025-08-02 11:30:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:30:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:30:19 views_accessrule get_queryset AccessRule queryset count: 51
INFO 2025-08-02 11:30:19 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:30:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:21 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:30:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:30:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:22 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:30:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:43 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:30:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:30:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:43 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:30:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:43 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:30:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:30:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:30:43 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:30:43 views_accessrule get_queryset AccessRule queryset count: 165
INFO 2025-08-02 11:30:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:30:43 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:30:43 views_accessrule get_queryset AccessRule queryset count: 165
INFO 2025-08-02 11:30:43 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:30:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:30:46 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:30:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:30:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:30:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:32:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:32:05 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:32:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:32:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:32:05 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:32:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:32:05 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:32:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:32:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:32:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:32:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:32:05 views_accessrule get_queryset AccessRule queryset count: 203
INFO 2025-08-02 11:32:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:32:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:32:05 views_accessrule get_queryset AccessRule queryset count: 203
INFO 2025-08-02 11:32:06 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-02 11:32:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:32:13 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:32:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:32:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:32:14 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-02 11:45:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:45:08 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-02 11:45:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-02 11:45:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:45:09 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-02 11:45:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-02 11:45:09 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-02 11:45:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-02 11:45:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-02 11:45:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:45:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:45:09 views_accessrule get_queryset AccessRule queryset count: 593
INFO 2025-08-02 11:45:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-02 11:45:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-02 11:45:09 views_accessrule get_queryset AccessRule queryset count: 593
INFO 2025-08-02 11:45:09 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-03 07:22:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:12 middleware __call__ درخواست به: /access-rules/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:12 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 07:22:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:12 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-08-03 07:22:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:13 middleware __call__ درخواست به: /favicon.ico, کاربر: AnonymousUser
INFO 2025-08-03 07:22:13 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 07:22:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:13 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:13 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-08-03 07:22:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:15 middleware __call__ درخواست به: /access-rules/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:15 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 07:22:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:15 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:15 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-08-03 07:22:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:15 middleware __call__ درخواست به: /favicon.ico, کاربر: AnonymousUser
INFO 2025-08-03 07:22:15 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 07:22:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:15 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:15 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 500
INFO 2025-08-03 07:22:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:40 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:40 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 07:22:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:41 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:41 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 07:22:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 07:22:44 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 07:22:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:44 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-03 07:22:44 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:22:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:22:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:22:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:27:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:25 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:27:25 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1016, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:27:25 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: name 'Notification' is not defined
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1074, in get_context_data
    recent_warnings = Notification.objects.filter(
                      ^^^^^^^^^^^^
NameError: name 'Notification' is not defined. Did you mean: 'NotificationRule'?
INFO 2025-08-03 07:27:25 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:27:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:27:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:27:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:27 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:27:27 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1016, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:27:27 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: name 'Notification' is not defined
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1074, in get_context_data
    recent_warnings = Notification.objects.filter(
                      ^^^^^^^^^^^^
NameError: name 'Notification' is not defined. Did you mean: 'NotificationRule'?
INFO 2025-08-03 07:27:27 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:27:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:27:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:27:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:46 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-03 07:27:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:48 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:27:48 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1016, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:27:48 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: Cannot resolve keyword 'target_content_type' into field. Choices are: action, channel, entity_type, id, is_active, priority, recipients
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1074, in get_context_data
    recent_warnings = NotificationRule.objects.filter(
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        Q(target_content_type=budget_period_ct) | Q(target_content_type=budget_allocation_ct),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        priority__in=['warning', 'error', 'locked']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).select_related('recipient', 'actor').prefetch_related('target').order_by('-timestamp')[:5]
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1468, in build_filter
    return self._add_q(
           ~~~~~~~~~~~^
        filter_expr,
        ^^^^^^^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'target_content_type' into field. Choices are: action, channel, entity_type, id, is_active, priority, recipients
INFO 2025-08-03 07:27:48 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:27:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:27:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:27:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:28:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:28:48 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:28:48 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1016, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:28:48 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1080, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:28:48 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:28:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:28:49 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:28:49 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:31:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:31:59 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:31:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1016, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:31:59 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1080, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:31:59 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:32:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:32:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:32:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:33:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:44 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:33:44 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:33:44 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1064, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:33:44 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:33:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:33:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:33:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:45 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:33:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:33:45 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1064, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:33:45 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:33:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:45 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:33:45 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:33:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:33:48 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:33:48 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1064, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:33:48 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:33:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:33:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:33:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:36:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:36:16 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:36:16 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 485, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
ERROR 2025-08-03 07:36:16 view_Dashboard get_context_data خطا در محاسبه هشدارهای بودجه: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 549, in get_context_data
    for notif in recent_warnings:
                 ^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem.notificationapp_notification' doesn't exist")
INFO 2025-08-03 07:36:16 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:36:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:36:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:36:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:40:06 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-03 07:40:06 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:06 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:06 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:06 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:06 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.42
INFO 2025-08-03 07:40:06 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.542
INFO 2025-08-03 07:40:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:08 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1102
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:08 update_versions handle Versions updated: {'core': '4.0.0.42', 'version_tracker': '1.1.0.542', 'accounts': '1.3.0.1102'}
INFO 2025-08-03 07:40:08 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:08 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-03 07:40:08 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:08 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:08 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:08 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.43
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:08 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:08 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.543
INFO 2025-08-03 07:40:08 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:08 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1103
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:09 update_versions handle Versions updated: {'core': '4.0.0.43', 'version_tracker': '1.1.0.543', 'accounts': '1.3.0.1103'}
INFO 2025-08-03 07:40:09 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:09 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-03 07:40:09 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:09 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:09 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:09 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.44
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:09 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.544
INFO 2025-08-03 07:40:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:10 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1104
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:10 update_versions handle Versions updated: {'core': '4.0.0.44', 'version_tracker': '1.1.0.544', 'accounts': '1.3.0.1104'}
INFO 2025-08-03 07:40:10 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:10 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-03 07:40:10 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:10 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:10 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:10 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.45
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.545
INFO 2025-08-03 07:40:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1105
INFO 2025-08-03 07:40:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:11 update_versions handle Versions updated: {'core': '4.0.0.45', 'version_tracker': '1.1.0.545', 'accounts': '1.3.0.1105'}
INFO 2025-08-03 07:40:11 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:11 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-03 07:40:11 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:11 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:11 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:11 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:11 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.46
INFO 2025-08-03 07:40:11 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.546
INFO 2025-08-03 07:40:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1106
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:14 update_versions handle Versions updated: {'core': '4.0.0.46', 'version_tracker': '1.1.0.546', 'accounts': '1.3.0.1106'}
INFO 2025-08-03 07:40:14 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:14 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-03 07:40:14 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:14 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:14 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:14 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.47
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:14 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:14 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.547
INFO 2025-08-03 07:40:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:14 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:16 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:16 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1107
INFO 2025-08-03 07:40:16 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:16 update_versions handle Versions updated: {'core': '4.0.0.47', 'version_tracker': '1.1.0.547', 'accounts': '1.3.0.1107'}
INFO 2025-08-03 07:40:16 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:16 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-03 07:40:16 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:16 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:16 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:16 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:16 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.48
INFO 2025-08-03 07:40:16 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:16 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:17 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.548
INFO 2025-08-03 07:40:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:17 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:17 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1108
INFO 2025-08-03 07:40:18 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:18 update_versions handle Versions updated: {'core': '4.0.0.48', 'version_tracker': '1.1.0.548', 'accounts': '1.3.0.1108'}
INFO 2025-08-03 07:40:18 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:18 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 07:40:18 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 07:40:18 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-03 07:40:18 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:18 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:18 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:18 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:18 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.49
INFO 2025-08-03 07:40:18 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:18 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:18 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.549
INFO 2025-08-03 07:40:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:18 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:19 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:19 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1109
INFO 2025-08-03 07:40:19 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:19 update_versions handle Versions updated: {'core': '4.0.0.49', 'version_tracker': '1.1.0.549', 'accounts': '1.3.0.1109'}
INFO 2025-08-03 07:40:19 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:19 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-03 07:40:19 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:19 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:19 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:20 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:20 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.50
INFO 2025-08-03 07:40:20 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:20 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:20 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.550
INFO 2025-08-03 07:40:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:20 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:22 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:22 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1110
INFO 2025-08-03 07:40:22 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:22 update_versions handle Versions updated: {'core': '4.0.0.50', 'version_tracker': '1.1.0.550', 'accounts': '1.3.0.1110'}
INFO 2025-08-03 07:40:22 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:22 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-03 07:40:22 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:22 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:22 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:22 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:22 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.51
INFO 2025-08-03 07:40:22 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:22 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:23 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.551
INFO 2025-08-03 07:40:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:23 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:24 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:24 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1111
INFO 2025-08-03 07:40:24 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:24 update_versions handle Versions updated: {'core': '4.0.0.51', 'version_tracker': '1.1.0.551', 'accounts': '1.3.0.1111'}
INFO 2025-08-03 07:40:24 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:24 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-03 07:40:24 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:24 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:24 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:24 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:24 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.52
INFO 2025-08-03 07:40:24 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:24 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:25 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:25 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.552
INFO 2025-08-03 07:40:25 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:25 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:26 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:26 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1112
INFO 2025-08-03 07:40:26 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:26 update_versions handle Versions updated: {'core': '4.0.0.52', 'version_tracker': '1.1.0.552', 'accounts': '1.3.0.1112'}
INFO 2025-08-03 07:40:26 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:26 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-03 07:40:26 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:26 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:26 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:27 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:27 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.53
INFO 2025-08-03 07:40:27 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:27 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:28 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.553
INFO 2025-08-03 07:40:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:28 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:30 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:31 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1113
INFO 2025-08-03 07:40:31 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:31 update_versions handle Versions updated: {'core': '4.0.0.53', 'version_tracker': '1.1.0.553', 'accounts': '1.3.0.1113'}
INFO 2025-08-03 07:40:31 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:40:31 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-03 07:40:31 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:40:31 update_versions handle Starting version update process...
INFO 2025-08-03 07:40:31 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:40:31 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:31 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.54
INFO 2025-08-03 07:40:31 models update_version_file Updated version.py for core
INFO 2025-08-03 07:40:31 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:40:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:32 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.554
INFO 2025-08-03 07:40:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:40:32 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:40:33 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1114
INFO 2025-08-03 07:40:33 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:40:33 update_versions handle Versions updated: {'core': '4.0.0.54', 'version_tracker': '1.1.0.554', 'accounts': '1.3.0.1114'}
INFO 2025-08-03 07:40:33 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:10 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-03 07:41:10 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:10 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:10 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:10 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:10 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.55
INFO 2025-08-03 07:41:10 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.555
INFO 2025-08-03 07:41:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1115
INFO 2025-08-03 07:41:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:11 update_versions handle Versions updated: {'core': '4.0.0.55', 'version_tracker': '1.1.0.555', 'accounts': '1.3.0.1115'}
INFO 2025-08-03 07:41:11 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:12 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-03 07:41:12 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:12 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:12 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:12 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:12 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.56
INFO 2025-08-03 07:41:12 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:12 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:13 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.556
INFO 2025-08-03 07:41:13 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:13 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:14 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:14 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1116
INFO 2025-08-03 07:41:14 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:14 update_versions handle Versions updated: {'core': '4.0.0.56', 'version_tracker': '1.1.0.556', 'accounts': '1.3.0.1116'}
INFO 2025-08-03 07:41:14 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:14 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-03 07:41:14 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:14 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:14 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:14 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:14 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.57
INFO 2025-08-03 07:41:14 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:14 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:15 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.557
INFO 2025-08-03 07:41:15 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:15 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:17 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:17 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1117
INFO 2025-08-03 07:41:17 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:17 update_versions handle Versions updated: {'core': '4.0.0.57', 'version_tracker': '1.1.0.557', 'accounts': '1.3.0.1117'}
INFO 2025-08-03 07:41:17 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:17 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-03 07:41:17 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:17 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:17 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:17 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:17 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.58
INFO 2025-08-03 07:41:17 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:17 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:18 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.558
INFO 2025-08-03 07:41:18 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:18 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:19 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:19 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1118
INFO 2025-08-03 07:41:19 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:19 update_versions handle Versions updated: {'core': '4.0.0.58', 'version_tracker': '1.1.0.558', 'accounts': '1.3.0.1118'}
INFO 2025-08-03 07:41:19 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:19 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-03 07:41:19 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:19 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:19 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:19 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:19 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.59
INFO 2025-08-03 07:41:19 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:19 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:20 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.559
INFO 2025-08-03 07:41:20 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:20 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:21 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:21 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1119
INFO 2025-08-03 07:41:21 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:21 update_versions handle Versions updated: {'core': '4.0.0.59', 'version_tracker': '1.1.0.559', 'accounts': '1.3.0.1119'}
INFO 2025-08-03 07:41:21 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:21 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-03 07:41:21 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:21 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:21 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:21 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:21 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.60
INFO 2025-08-03 07:41:21 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:21 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:22 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:22 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.560
INFO 2025-08-03 07:41:22 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:22 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:23 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:23 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1120
INFO 2025-08-03 07:41:23 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:23 update_versions handle Versions updated: {'core': '4.0.0.60', 'version_tracker': '1.1.0.560', 'accounts': '1.3.0.1120'}
INFO 2025-08-03 07:41:23 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:23 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-03 07:41:23 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:23 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:23 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:23 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:23 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.61
INFO 2025-08-03 07:41:23 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:23 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:24 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.561
INFO 2025-08-03 07:41:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:24 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:25 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:25 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1121
INFO 2025-08-03 07:41:25 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:25 update_versions handle Versions updated: {'core': '4.0.0.61', 'version_tracker': '1.1.0.561', 'accounts': '1.3.0.1121'}
INFO 2025-08-03 07:41:25 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:25 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 07:41:25 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 07:41:25 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-03 07:41:25 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:25 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:25 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:25 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:25 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.62
INFO 2025-08-03 07:41:25 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:25 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:26 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.562
INFO 2025-08-03 07:41:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:26 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:27 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:28 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1122
INFO 2025-08-03 07:41:28 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:28 update_versions handle Versions updated: {'core': '4.0.0.62', 'version_tracker': '1.1.0.562', 'accounts': '1.3.0.1122'}
INFO 2025-08-03 07:41:28 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:28 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-03 07:41:28 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:28 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:28 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:28 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:28 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.63
INFO 2025-08-03 07:41:28 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:28 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:29 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.563
INFO 2025-08-03 07:41:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:29 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:30 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:31 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1123
INFO 2025-08-03 07:41:31 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:31 update_versions handle Versions updated: {'core': '4.0.0.63', 'version_tracker': '1.1.0.563', 'accounts': '1.3.0.1123'}
INFO 2025-08-03 07:41:31 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:31 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-03 07:41:31 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:31 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:31 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:31 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:31 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.64
INFO 2025-08-03 07:41:31 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:31 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:32 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.564
INFO 2025-08-03 07:41:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:32 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:33 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1124
INFO 2025-08-03 07:41:33 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:33 update_versions handle Versions updated: {'core': '4.0.0.64', 'version_tracker': '1.1.0.564', 'accounts': '1.3.0.1124'}
INFO 2025-08-03 07:41:33 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:33 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-03 07:41:33 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:33 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:33 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:33 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:33 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.65
INFO 2025-08-03 07:41:33 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:33 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:34 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:34 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.565
INFO 2025-08-03 07:41:34 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:34 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:35 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1125
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:35 update_versions handle Versions updated: {'core': '4.0.0.65', 'version_tracker': '1.1.0.565', 'accounts': '1.3.0.1125'}
INFO 2025-08-03 07:41:35 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:35 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-03 07:41:35 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:35 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:35 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:35 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.66
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:35 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.566
INFO 2025-08-03 07:41:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:36 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:36 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1126
INFO 2025-08-03 07:41:36 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:36 update_versions handle Versions updated: {'core': '4.0.0.66', 'version_tracker': '1.1.0.566', 'accounts': '1.3.0.1126'}
INFO 2025-08-03 07:41:36 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:36 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-03 07:41:36 signals update_versions Calling update_versions command...
INFO 2025-08-03 07:41:36 update_versions handle Starting version update process...
INFO 2025-08-03 07:41:36 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 07:41:37 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:37 models create_code_changes 4 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.67
INFO 2025-08-03 07:41:37 models update_version_file Updated version.py for core
INFO 2025-08-03 07:41:37 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 07:41:37 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:37 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.567
INFO 2025-08-03 07:41:37 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 07:41:37 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 07:41:38 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:38 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1127
INFO 2025-08-03 07:41:38 models update_version_file Updated version.py for accounts
INFO 2025-08-03 07:41:38 update_versions handle Versions updated: {'core': '4.0.0.67', 'version_tracker': '1.1.0.567', 'accounts': '1.3.0.1127'}
INFO 2025-08-03 07:41:38 update_versions handle Final version updated successfully!
INFO 2025-08-03 07:41:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:41:44 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:41:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:41:45 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:41:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:41:45 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:41:45 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:42:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:42:41 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:42:41 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:42:42 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:42:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:42:42 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:42:42 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:43:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:43:00 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:43:00 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:43:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:43:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:43:00 middleware __call__ درخواست به: /fonts/Parastoo.ttf, کاربر: admin
INFO 2025-08-03 07:43:00 middleware __call__ پاسخ برای /fonts/Parastoo.ttf - کد وضعیت: 404
INFO 2025-08-03 07:43:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:43:39 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:43:40 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:43:40 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:43:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:43:43 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:43:43 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:43:43 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:43:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:43:45 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:43:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:43:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:44:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:44:28 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:44:28 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:44:28 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:44:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:44:31 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:44:32 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:44:32 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:44:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:44:42 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:44:42 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:44:42 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:44:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:44:44 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:44:44 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:44:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:45:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:45:02 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:45:02 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:45:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:45:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:45:04 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:45:04 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:45:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:45:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:45:05 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:45:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:45:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:45:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:45:10 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:45:10 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:45:10 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:45:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:45:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:45:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:46:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:45 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:46:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:46:46 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:46:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:49 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:46:49 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:46:49 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:46:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:51 middleware __call__ درخواست به: /all_links/, کاربر: admin
INFO 2025-08-03 07:46:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AllLinksView برای کاربر: admin
INFO 2025-08-03 07:46:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 07:46:51 middleware __call__ پاسخ برای /all_links/ - کد وضعیت: 500
INFO 2025-08-03 07:46:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:51 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:46:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:46:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:59 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-08-03 07:46:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:46:59 middleware __call__ درخواست به: /projects/, کاربر: admin
INFO 2025-08-03 07:46:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در ProjectListView برای کاربر: admin
INFO 2025-08-03 07:46:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 07:46:59 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای ProjectListView
INFO 2025-08-03 07:46:59 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 07:47:00 middleware __call__ پاسخ برای /projects/ - کد وضعیت: 200
INFO 2025-08-03 07:47:04 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 07:47:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:47:15 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:47:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:47:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:47:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:47:23 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:47:23 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:47:23 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:48:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:04 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:48:04 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:48:04 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:48:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:04 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:48:04 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:48:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:10 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:48:10 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:48:10 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:48:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:48:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:48:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:29 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:48:29 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:48:29 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:48:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:48:30 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:48:30 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:49:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:00 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:49:00 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:49:00 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:49:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:49:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:49:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:11 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:49:11 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:49:11 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:49:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:49:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:49:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:57 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:49:57 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:49:58 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:49:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:58 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:49:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:49:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:58 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:49:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:49:59 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:49:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:49:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:49:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:50:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:50:55 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:50:56 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:50:56 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:50:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:50:56 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:50:56 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:51:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:51:26 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:51:26 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:51:26 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:51:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:51:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:51:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:52:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:05 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:52:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:52:06 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:52:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:52:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:52:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:24 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:52:24 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:52:24 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:52:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:24 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:52:24 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:52:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:49 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:52:49 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:52:49 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:52:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:52:49 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:52:49 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:53:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:53:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:53:09 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:53:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:09 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:53:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:53:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:26 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:53:27 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:53:27 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 07:53:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 07:53:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 07:53:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:53:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:53:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:53:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:53:49 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:53:49 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:53:49 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:54:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:54:07 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:54:07 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:54:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:54:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:54:24 middleware __call__ درخواست به: /guide/soft_Help/, کاربر: admin
INFO 2025-08-03 07:54:24 middleware __call__ پاسخ برای /guide/soft_Help/ - کد وضعیت: 200
INFO 2025-08-03 07:54:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:54:38 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:54:38 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:54:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 07:56:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 07:56:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 07:56:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 07:56:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:00:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:00:22 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:00:22 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:00:23 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:01:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:01:16 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:01:16 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:01:17 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:02:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:02:43 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:02:44 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:02:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:02:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:02:57 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:02:57 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:02:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:03:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:03:20 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:03:20 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:03:20 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:03:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:03:43 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:03:43 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:03:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:04:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:04:24 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:04:24 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:04:24 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:04:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:04:55 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:04:55 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:04:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:05:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:05:13 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:05:13 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:05:14 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:05:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:05:32 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:05:32 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:05:32 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:05:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:05:40 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:05:40 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:05:40 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:06:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:00 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:06:01 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:06:01 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:06:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:06:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:06:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:06 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:06:06 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:06:06 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:06:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:06:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:06:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:35 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:06:35 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:06:35 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:06:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:35 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:06:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:06:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:06:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:06:47 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:06:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:06:47 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:06:47 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:05 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:05 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:05 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:06 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:06 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:06 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:07 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:07 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:07 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:21 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:21 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:21 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:21 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:38 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:38 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:39 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:39 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:39 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:39 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:39 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:40 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:07:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:40 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:07:40 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:07:40 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:07:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:07:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:07:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:08:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:08:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:08:08 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:08:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:08 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:08:08 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:08:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:36 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:08:36 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:08:37 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:08:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:37 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:08:37 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:08:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:37 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:08:37 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:08:37 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:08:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:08:38 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:08:38 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:09:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:09:03 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:09:03 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:09:03 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:10:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:10:31 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:10:31 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:10:31 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:11:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:11:26 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:11:26 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:11:26 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:11:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:11:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:11:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:12:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:03 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:12:03 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:12:03 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:12:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:03 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:12:03 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:12:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:10 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:12:10 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:12:10 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:12:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:32 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:12:32 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:12:32 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:12:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:32 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:12:32 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:12:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:12:58 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:12:58 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:12:58 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:00 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:00 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:00 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:15 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:15 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:28 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:28 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:28 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:28 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:28 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:29 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:29 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:29 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:29 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:29 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:30 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:30 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:30 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:30 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:30 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:13:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:59 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:13:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:13:59 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:13:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:13:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:13:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:14:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:21 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:14:21 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:14:21 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:14:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:21 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:14:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:14:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:22 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:14:22 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:14:22 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:14:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:22 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:14:22 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:14:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:23 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:14:23 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:14:23 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:14:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:14:23 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:14:23 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:17:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:17:45 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:17:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:17:46 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:17:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:17:46 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:17:46 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:17:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:17:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:17:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:17:47 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:17:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:17:47 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:17:47 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:17:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:17:58 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:17:58 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:17:58 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:18:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:18:01 middleware __call__ درخواست به: /inbox/notifications/unread/, کاربر: admin
INFO 2025-08-03 08:18:01 middleware __call__ پاسخ برای /inbox/notifications/unread/ - کد وضعیت: 200
INFO 2025-08-03 08:18:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:18:04 middleware __call__ درخواست به: /inbox/notifications/unread/, کاربر: admin
INFO 2025-08-03 08:18:04 middleware __call__ پاسخ برای /inbox/notifications/unread/ - کد وضعیت: 200
INFO 2025-08-03 08:18:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:18:07 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:18:07 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 500
INFO 2025-08-03 08:18:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:18:08 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:18:08 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:19:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:19:11 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:19:11 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 500
INFO 2025-08-03 08:19:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:19:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:19:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:19:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:19:11 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:19:12 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 500
INFO 2025-08-03 08:19:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:19:12 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:19:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:45:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:16 middleware __call__ درخواست به: /inbox/notifications/, کاربر: AnonymousUser
INFO 2025-08-03 08:45:16 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 08:45:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:16 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 08:45:16 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 08:45:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 08:45:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 08:45:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:19 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:45:19 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:45:19 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:45:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:22 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:45:22 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 08:45:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:25 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:45:25 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 08:45:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:45:25 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:45:25 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 08:46:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:46:45 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 08:46:45 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 08:47:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:47:01 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 08:47:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 08:47:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:47:01 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 08:47:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 08:47:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 08:47:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-08-03 08:47:01 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 08:47:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-08-03 08:47:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 08:47:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
INFO 2025-08-03 08:47:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 08:47:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 08:47:01 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 08:47:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 08:47:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 08:47:01 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 08:47:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 08:47:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 08:47:01 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 08:47:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 08:47:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 08:47:01 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 08:47:01 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 08:47:01 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 08:47:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-08-03 08:47:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 08:47:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:47:14 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:47:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:47:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:47:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:47:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:47:14 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:47:14 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:47:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:47:59 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:47:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:47:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:47:59 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:47:59 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:47:59 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:47:59 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:48:00 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:48:00 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:48:00 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:48:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:48:01 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:48:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:48:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:48:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:48:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:48:02 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:48:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 08:48:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:48:02 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:48:02 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:49:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:05 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:05 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:05 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 08:49:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:49:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:49:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:07 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:07 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:07 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:07 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:07 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 08:49:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:49:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:49:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:30 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:30 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:30 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:30 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:30 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:49:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:33 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:33 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:33 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:33 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:33 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:49:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:39 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:39 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:39 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 08:49:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:39 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:49:39 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:49:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:56 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:49:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:49:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:49:56 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:49:56 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:49:56 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:49:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 08:49:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:49:57 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:49:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:50:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:50:02 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:50:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:50:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:50:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:50:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:50:02 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:50:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:50:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:50:29 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:50:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:50:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:50:29 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:50:29 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:50:29 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:50:29 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:51:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:51:49 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:51:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:51:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:51:49 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:51:49 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:51:49 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:51:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:51:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:51:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:51:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:51:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:51:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:50 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:50 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:51:50 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:51:50 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:51:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:51:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:51:51 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:51:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:51:51 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:51:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:51:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:51:51 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:51:52 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:51:52 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:51:52 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:51:52 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:51:52 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:51:52 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:51:52 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:51:52 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:20 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:20 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:20 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:20 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:20 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:21 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:21 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:21 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:22 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:22 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:22 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:22 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:22 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:23 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:23 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:23 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:23 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:23 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:24 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:24 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:24 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:25 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:25 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:25 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:27 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 08:52:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 08:52:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 08:52:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 08:52:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 08:52:27 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 08:52:27 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 08:52:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:29 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:52:30 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:52:30 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:52:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:52:30 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:52:30 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:53:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:53:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:53:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:53:08 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:53:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:53:18 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:53:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:54:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:54:29 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:54:29 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:54:30 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:54:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:54:31 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:54:31 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:54:31 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:55:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:21 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:55:21 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:55:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:55:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:25 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:55:25 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:55:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:41 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:55:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:55:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:47 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:55:47 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:55:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:47 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:55:47 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:55:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:50 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:55:51 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:55:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:55:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:51 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:55:51 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:55:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:55:55 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:55:55 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:56:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:56:28 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:56:28 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:56:28 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:56:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:56:31 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:56:31 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:57:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:03 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:57:03 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:57:03 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:57:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:03 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:57:03 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:57:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:34 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:57:34 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:57:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:57:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:34 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:57:34 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:57:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:36 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:57:36 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:57:36 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:57:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:36 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:57:36 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:57:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:37 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:57:37 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:57:37 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:57:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:37 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:57:37 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:57:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:39 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:57:39 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:57:39 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:57:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:57:39 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: admin
INFO 2025-08-03 08:57:39 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 08:58:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:58:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:58:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:58:08 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:58:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:58:57 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:58:57 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:58:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:59:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:24 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:59:24 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:59:24 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:59:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:31 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:59:31 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:59:31 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 08:59:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:58 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:59:58 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:59:58 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:59:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:58 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:59:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:59 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:59:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:59:59 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 08:59:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 08:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 08:59:59 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 08:59:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 08:59:59 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 08:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:00:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:00:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:18 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:00:18 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:00:18 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:00:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:18 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:00:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:00:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:19 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:00:19 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:00:19 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:00:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:19 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:00:19 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:00:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:39 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:00:39 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:00:40 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:00:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:00:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:00:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:01:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:15 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:01:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:01:15 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:01:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:15 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:01:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:01:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:25 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:01:25 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:01:25 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:01:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:25 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:01:25 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:01:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:26 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:01:26 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:01:26 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 09:01:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:01:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:01:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:01:34 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:01:35 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:01:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:02:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:02:02 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:02:02 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:02:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:02:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:02:04 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:02:04 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:02:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:02:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:02:25 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:02:25 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:02:25 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:02:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:02:37 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:02:37 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:02:37 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:03:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:03:47 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 09:03:47 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 09:03:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:03:48 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 09:03:48 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 09:03:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:03:58 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 09:03:58 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 09:06:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:06:37 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:06:38 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:06:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:06:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:06:40 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:06:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:06:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:06:40 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:06:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:06:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:06:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-08-03 09:06:40 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:06:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-08-03 09:06:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:06:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:06:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:06:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:06:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:06:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:06:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:06:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:06:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:06:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:06:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:06:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:06:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:06:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:06:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:06:40 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:06:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-08-03 09:06:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:06:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:06:41 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-08-03 09:06:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-08-03 09:06:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:06:41 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:06:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:06:43 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-08-03 09:06:43 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:06:43 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040100.00', 'project_returned': '0', 'project_remaining': '23998959900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:06:43 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:07:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:07:02 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-08-03 09:07:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-08-03 09:07:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:07:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:07:02 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:07:02 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:07:02 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:07:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:07:03 view_Nfactor form_valid Factor saved: PK=33, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001
INFO 2025-08-03 09:07:03 models save Calculated amount for FactorItem pk=None: 1000000
INFO 2025-08-03 09:07:03 models save FactorItem saved successfully (pk=33). Amount=1000000, Status=PENDING
INFO 2025-08-03 09:07:03 models save [ApprovalLog] Attempting to save new ApprovalLog for user admin, action CREATED
ERROR 2025-08-03 09:07:03 models save [ApprovalLog] No active UserPost found for user admin
ERROR 2025-08-03 09:07:03 view_Nfactor form_valid Error during atomic transaction for Factor creation: کاربر admin هیچ پست فعالی ندارد
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 382, in form_valid
    ApprovalLog.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tankhah=self.object.tankhah,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        comment=f"فاکتور {self.object.number} توسط {self.request.user.username} ایجاد شد."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1244, in save
    raise ValueError(f"کاربر {self.user.username} هیچ پست فعالی ندارد")
ValueError: کاربر admin هیچ پست فعالی ندارد
INFO 2025-08-03 09:07:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:07:03 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:07:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:07:03 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-08-03 09:07:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:07:03 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040100.00', 'project_returned': '0', 'project_remaining': '23998959900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:07:03 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:20:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:20:12 middleware __call__ درخواست به: /inbox/notifications/, کاربر: admin
INFO 2025-08-03 09:20:12 middleware __call__ پاسخ برای /inbox/notifications/ - کد وضعیت: 200
INFO 2025-08-03 09:20:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:20:19 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-03 09:20:19 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 09:20:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:20:19 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 09:20:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 09:20:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:20:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 09:20:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 09:20:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:20:29 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-03 09:20:29 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:20:29 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:21:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:21:44 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 09:21:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 09:21:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:21:45 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 09:21:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:21:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:21:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-08-03 09:21:45 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 09:21:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-08-03 09:21:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 09:21:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:21:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 09:21:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:21:45 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:21:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 09:21:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:21:45 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:21:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 09:21:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:21:45 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:21:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 09:21:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:21:45 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:21:45 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 09:21:45 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:21:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-08-03 09:21:45 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:21:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:21:47 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: hfath
INFO 2025-08-03 09:21:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: hfath
INFO 2025-08-03 09:21:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:21:47 utils restrict_to_user_organization User hfath restricted to organizations: [7]
INFO 2025-08-03 09:21:47 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:22:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:22:03 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-08-03 09:22:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-08-03 09:22:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:22:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:22:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:22:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:22:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:22:03 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:22:03 view_Nfactor form_valid Factor saved: PK=34, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001
INFO 2025-08-03 09:22:03 models save Calculated amount for FactorItem pk=None: 1000000
INFO 2025-08-03 09:22:03 models save FactorItem saved successfully (pk=34). Amount=1000000, Status=PENDING
INFO 2025-08-03 09:22:03 models save [ApprovalLog] Attempting to save new ApprovalLog for user admin, action CREATED
ERROR 2025-08-03 09:22:03 models save [ApprovalLog] No active UserPost found for user admin
ERROR 2025-08-03 09:22:03 view_Nfactor form_valid Error during atomic transaction for Factor creation: کاربر admin هیچ پست فعالی ندارد
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 236, in form_valid
    ApprovalLog.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tankhah=self.object.tankhah,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        comment=f"فاکتور {self.object.number} توسط {self.request.user.username} ایجاد شد."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1244, in save
    raise ValueError(f"کاربر {self.user.username} هیچ پست فعالی ندارد")
ValueError: کاربر admin هیچ پست فعالی ندارد
INFO 2025-08-03 09:22:03 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:22:03 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:22:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:22:04 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-08-03 09:22:04 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:22:04 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040100.00', 'project_returned': '0', 'project_remaining': '23998959900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:22:04 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:27 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-08-03 09:24:27 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 09:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 09:24:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 09:24:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:38 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 09:24:39 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 09:24:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:49 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 09:24:50 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 09:24:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:50 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 09:24:50 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:24:50 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:24:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:52 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:24:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:24:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:24:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 5
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 5
INFO 2025-08-03 09:24:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 5
INFO 2025-08-03 09:24:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:24:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 5 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:24:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:24:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:24:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:24:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:24:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:24:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:24:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:24:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:24:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:24:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 5 فاکتور، مبلغ کل: 840100.00
INFO 2025-08-03 09:24:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:24:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:54 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-03 09:24:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-03 09:24:54 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:24:54 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 09:24:54 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:24:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:24:57 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-03 09:24:57 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:24:57 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1040100.00', 'project_returned': '0', 'project_remaining': '23998959900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:24:57 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:25:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:25:09 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-03 09:25:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-03 09:25:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:25:10 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 09:25:10 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:25:10 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:25:10 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 09:25:10 view_Nfactor form_valid user_level: 6, current_stage: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED, min_level: 1
INFO 2025-08-03 09:25:10 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:25:10 view_Nfactor form_valid Factor saved: PK=35, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001
INFO 2025-08-03 09:25:10 models save Calculated amount for FactorItem pk=None: 100000
INFO 2025-08-03 09:25:10 models save FactorItem saved successfully (pk=35). Amount=100000, Status=PENDING
INFO 2025-08-03 09:25:10 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action CREATED
INFO 2025-08-03 09:25:10 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 09:25:10 models save [ApprovalLog] User snejate has full access, saving directly
WARNING 2025-08-03 09:25:10 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-03 09:25:11 models save Tankhah saved 👍with ID: 5
INFO 2025-08-03 09:25:11 models create_budget_transaction BudgetTransaction created: ID=77, TxID=TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001-1754200510, amount=100000, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-03 09:25:11 models create_budget_transaction BudgetHistory recorded for TxID: TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001-1754200510
WARNING 2025-08-03 09:25:11 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-03 09:25:11 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:25:11 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-03 09:25:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:25:11 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:25:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:25:11 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:25:11 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:25:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:25:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:25:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:25:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:25:11 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:25:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:25:11 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:25:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:25:11 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:25:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:25:11 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:25:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:25:11 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:25:12 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:25:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:25:12 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:26:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:26:01 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 09:26:01 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:26:01 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:26:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:26:04 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:26:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:26:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:26:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:26:04 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:26:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:26:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:26:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:26:04 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:26:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:26:04 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:26:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:26:04 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:26:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:26:04 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:26:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:26:04 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:26:05 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:26:05 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:26:05 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:26:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:26:06 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-03 09:26:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-03 09:26:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:26:06 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 09:26:06 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:26:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:26:09 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-03 09:26:09 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:26:09 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1140100.00', 'project_returned': '0', 'project_remaining': '23998859900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:26:09 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:28:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:28:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:28:09 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:28:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:28:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:28:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:28:10 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:28:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:28:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:28:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:28:10 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:28:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:28:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:28:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:28:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:28:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:28:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:28:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:11 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-08-03 09:28:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-08-03 09:28:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:28:11 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:28:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:16 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-08-03 09:28:16 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:28:16 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1140100.00', 'project_returned': '0', 'project_remaining': '23998859900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:28:16 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:28:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:40 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: admin
INFO 2025-08-03 09:28:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: admin
INFO 2025-08-03 09:28:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:28:40 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 09:28:40 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:28:40 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
ERROR 2025-08-03 09:28:40 view_Nfactor form_valid FATAL: User 'admin' without an active post tried to submit a factor.
INFO 2025-08-03 09:28:40 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 09:28:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:28:40 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: admin
INFO 2025-08-03 09:28:40 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 09:28:40 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1140100.00', 'project_returned': '0', 'project_remaining': '23998859900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '600000.00', 'tankhah_remaining': '3999400000.00'}
INFO 2025-08-03 09:28:40 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 09:30:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:30:05 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 09:30:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:30:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:30:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:30:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:30:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:30:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:30:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:30:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:30:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:30:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:30:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:30:09 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:30:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:30:09 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:30:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:30:09 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:30:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:30:09 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:30:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:30:09 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:30:10 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:30:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:30:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:31:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:31:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:31:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:31:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:31:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:31:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:31:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:31:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:31:52 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:31:52 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:31:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:31:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:31:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:31:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:31:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:31:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:31:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:31:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:31:52 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:31:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:31:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:35:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:35:30 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:35:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:35:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:35:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:35:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:35:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:35:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:35:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:31 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:35:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:35:31 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:35:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:35:33 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 09:35:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 09:35:33 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:35:33 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 09:35:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:35:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 09:35:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 09:35:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:35:33 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
ERROR 2025-08-03 09:35:34 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:35:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:35:34 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:44:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:44:13 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 09:44:13 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 09:44:13 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 09:44:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:44:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:44:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:44:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:44:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:44:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:44:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:44:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:44:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:44:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:44:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:44:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:44:16 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:44:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:44:16 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:44:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:44:24 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 09:44:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 09:44:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 12 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 بارگذاری شد
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 12 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 بارگذاری شد
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 12
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 0
INFO 2025-08-03 09:44:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001'
INFO 2025-08-03 09:44:24 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 09:44:24 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 0
INFO 2025-08-03 09:44:24 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 09:44:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:44:52 middleware __call__ درخواست به: /tankhah/factors/35/edit/, کاربر: admin
INFO 2025-08-03 09:44:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorUpdateView برای کاربر: admin
INFO 2025-08-03 09:44:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-03 09:44:53 view_FactorUpdate get_object تلاش برای ویرایش فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001 با وضعیت غیرمجاز: PENDING_APPROVAL
INFO 2025-08-03 09:44:53 middleware __call__ پاسخ برای /tankhah/factors/35/edit/ - کد وضعیت: 500
INFO 2025-08-03 09:44:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:44:53 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 09:44:53 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 09:45:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:45:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:45:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:45:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:45:54 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:45:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:45:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:45:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:45:54 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:45:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:45:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:45:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:45:54 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:45:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:45:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:46:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:46:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:46:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:46:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:46:07 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:46:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:46:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:46:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:46:07 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:46:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:46:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:46:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:07 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:46:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:46:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:46:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:46:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:46:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:46:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:46:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 09:46:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 09:46:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:46:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 2 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:46:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:51 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:51 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:46:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:46:51 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:46:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 2 فاکتور، مبلغ کل: 90000.00
INFO 2025-08-03 09:46:51 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:47:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:47:08 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:47:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:47:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:47:08 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:47:08 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 09:47:08 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 09:47:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:47:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 2 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:47:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:08 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:08 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 2 فاکتور، مبلغ کل: 90000.00
INFO 2025-08-03 09:47:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 09:47:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 09:47:17 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 09:47:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 09:47:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 09:47:17 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 09:47:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 09:47:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 09:47:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 09:47:17 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 09:47:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 09:47:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 09:47:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 09:47:17 View_Factor_list _convert_dates_to_jalali [FACTOR_DATES] خطا در تبدیل تاریخ‌های فاکتور FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 09:47:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 09:47:17 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:00:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:00:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:00:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:00:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:00:38 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:00:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:00:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:00:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:00:38 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:00:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:00:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:00:38 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:00:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:00:38 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:00:38 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:00:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:00:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:00:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:00:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:00:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:00:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:00:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:00:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:00:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:00:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:00:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:00:39 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:00:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:00:39 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:00:39 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:03:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:03:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:03:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:03:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:03:54 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:03:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:03:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:03:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:03:54 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:03:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:03:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:03:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:03:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:03:54 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:03:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:06:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:06:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:06:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:06:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:06:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:06:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:06:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:06:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:06:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:06:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:06:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:06:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:06:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:06:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:50 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:06:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:06:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:06:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:06:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 10:06:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 10:06:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:06:50 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:06:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:50 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:06:50 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:06:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:06:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:06:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:06:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:06:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 10:06:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 10:06:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:06:51 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:06:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:06:51 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:06:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:08:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:08:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:08:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 10:08:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:08:09 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:08:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:08:09 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:08:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:08:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:08:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:08:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:08:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 10:08:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 10:08:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:08:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:08:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:08:10 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:08:10 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:10:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:10:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:10:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:10:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:10:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:10:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] فیلتر وضعیت اعمال شد: APPROVE
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 2
INFO 2025-08-03 10:10:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 2
INFO 2025-08-03 10:10:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:10:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 2 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:10:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:10:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:10:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:10:53 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:10:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:10:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:10:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 2 فاکتور، مبلغ کل: 90000.00
INFO 2025-08-03 10:10:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:10:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:10:58 middleware __call__ درخواست به: /tankhah/factor/30/approval-path/, کاربر: admin
INFO 2025-08-03 10:10:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: admin
INFO 2025-08-03 10:10:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:10:58 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 30
INFO 2025-08-03 10:10:58 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: admin
INFO 2025-08-03 10:10:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-08-03 10:10:58 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-08-03 10:10:58 middleware __call__ پاسخ برای /tankhah/factor/30/approval-path/ - کد وضعیت: 500
INFO 2025-08-03 10:10:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:10:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:10:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:11:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:02 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 10:11:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 10:11:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 30 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003 بارگذاری شد
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 30
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 1
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 3
INFO 2025-08-03 10:11:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0003'
INFO 2025-08-03 10:11:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 10:11:02 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 3
INFO 2025-08-03 10:11:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 10:11:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:10 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:10 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 35: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 32: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 29: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 12: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:11:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:12 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:12 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:12 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 35: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 32: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 29: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 12: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:11:12 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:17 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] فیلتر جستجو اعمال شد: سر
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 10:11:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 35: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 32: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 29: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 12: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:11:17 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] فیلتر جستجو اعمال شد: تجهی
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 0
INFO 2025-08-03 10:11:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 0
INFO 2025-08-03 10:11:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 0 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 0 سازمان، 0 فاکتور، مبلغ کل: 0
INFO 2025-08-03 10:11:25 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] فیلتر جستجو اعمال شد: تجهیزات
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 0
INFO 2025-08-03 10:11:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 0
INFO 2025-08-03 10:11:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 0 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 0 سازمان، 0 فاکتور، مبلغ کل: 0
INFO 2025-08-03 10:11:29 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:32 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:32 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:32 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:32 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:32 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 35: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 32: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 29: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 12: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:11:32 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:11:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:42 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 10:11:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 10:11:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 12 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 بارگذاری شد
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_object [GET_OBJECT] فاکتور 12 با شماره FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 بارگذاری شد
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_START] شروع get_context_data برای فاکتور 12
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_USER] کاربر: admin, پست: ندارد, HQ: False
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_FORMSET] تعداد فرم‌ها: 1
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_LOGS] لاگ‌های آیتم‌ها: 0
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_HISTORY] تعداد لاگ‌های تاریخچه: 0
INFO 2025-08-03 10:11:42 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001'
INFO 2025-08-03 10:11:42 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_ACCESS] ویرایش: True, مرحله نهایی: False, تأیید نهایی: False
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_ITEMS] تعداد آیتم‌ها: 1, همه پردازش شده: False
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_STAGES] مراحل مجاز: 23
INFO 2025-08-03 10:11:42 view_FactorItemApprove get_context_data [CONTEXT_END] تعداد جفت‌های فرم: 1, تعداد لاگ‌ها: 0
INFO 2025-08-03 10:11:42 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 10:11:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:46 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-08-03 10:11:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:47 middleware __call__ درخواست به: /dashboard/flows/, کاربر: admin
INFO 2025-08-03 10:11:48 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 10:11:49 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 10:11:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:11:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:11:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:11:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:11:54 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:11:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:11:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:11:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:11:54 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:11:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 35: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 32: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 30: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 29: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 28: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] خطا در پردازش فاکتور 12: type object 'datetime.date' has no attribute 'fromgregorian'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 271, in get_context_data
    self._convert_dates_to_jalali(factor)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\View_Factor_list.py", line 442, in _convert_dates_to_jalali
    factor.jalali_date = jdatetime.date.fromgregorian(date=factor.date).strftime('%Y/%m/%d')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:11:54 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:13:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:13:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:13:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:13:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:13:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:13:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:13:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:13:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:13:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:13:39 View_Factor_list get_queryset [FACTOR_LIST] فیلتر تاریخ اعمال شد: 1404/05/02 -> 1404:05:02 00:00:00
INFO 2025-08-03 10:13:39 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:13:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:13:40 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:13:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:16:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:16:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:16:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:16:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:16:57 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:16:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:16:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:16:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:16:57 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:16:57 View_Factor_list get_queryset [FACTOR_LIST] فیلتر تاریخ اعمال شد: 1404/05/02 -> 1404:05:02 00:00:00
INFO 2025-08-03 10:16:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:16:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:16:57 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:16:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:17:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:17:04 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:17:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:17:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:17:04 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:17:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:17:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:17:04 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:17:04 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:17:04 View_Factor_list get_queryset [FACTOR_LIST] فیلتر تاریخ اعمال شد: 1404/05/02 -> 1404:05:02 00:00:00
INFO 2025-08-03 10:17:04 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:17:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:17:04 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:17:04 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:21:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:21:48 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:21:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:21:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:21:48 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:21:48 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:21:48 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:21:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:21:48 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:21:48 View_Factor_list get_queryset [FACTOR_LIST] فیلتر تاریخ اعمال شد: 1404/05/02 -> 1404:05:02 00:00:00
INFO 2025-08-03 10:21:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:21:50 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:21:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:21:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:21:50 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:21:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:21:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:21:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:21:50 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:21:50 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-03 10:21:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:21:51 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 10:21:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 10:24:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:24:15 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:24:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:24:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:24:15 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:24:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:24:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:24:15 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:24:15 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
WARNING 2025-08-03 10:24:15 View_Factor_list get_queryset [FACTOR_LIST] Invalid date format provided '1404/05/02': 'datetime.date' object has no attribute 'togregorian'
INFO 2025-08-03 10:24:15 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:24:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:24:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:15 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:24:15 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:24:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:24:23 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:24:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:24:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:24:23 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:24:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:24:23 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:24:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:24:23 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
WARNING 2025-08-03 10:24:23 View_Factor_list get_queryset [FACTOR_LIST] Invalid date format provided '1404/05/02': 'datetime.date' object has no attribute 'togregorian'
INFO 2025-08-03 10:24:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:24:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:24:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:23 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:24:23 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:24:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:24:34 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:24:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:24:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:24:34 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:24:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:24:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:24:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:24:34 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:24:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:24:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:24:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:24:34 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:24:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:24:34 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:28:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:28:18 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:28:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:28:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:28:18 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:28:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:28:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:28:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:28:18 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:28:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:28:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:28:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:18 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:28:18 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:28:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:28:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:28:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:28:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:28:22 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:28:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:28:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:28:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:28:22 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:28:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:28:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:28:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:28:22 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:28:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:28:22 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:29:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:29:11 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:29:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:29:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:29:11 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:29:11 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:29:11 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:29:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:29:11 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:29:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:29:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:29:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:11 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:29:11 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:29:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:29:31 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:29:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:29:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:29:31 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:29:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:29:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:29:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:29:31 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:29:31 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:29:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:29:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:29:31 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:29:31 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:29:31 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:30:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:30:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:30:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:30:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:30:38 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:30:38 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:30:38 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:30:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:30:38 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:30:38 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:30:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:30:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:38 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:30:38 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:30:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:30:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:30:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:30:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:30:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:30:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:30:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:30:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:30:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:30:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:30:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:30:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 35: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 32: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 30: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 29: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 28: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:30:47 View_Factor_list _convert_dates_to_jalali [DATE_CONVERSION_ERROR] for factor 12: type object 'datetime.date' has no attribute 'fromgregorian'
INFO 2025-08-03 10:30:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:30:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:36:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:36:28 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:36:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:36:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:36:28 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:36:28 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:36:28 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:36:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:36:28 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:36:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:36:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:36:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:36:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:36:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:36:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:36:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:36:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:36:28 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:36:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:36:28 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:36:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:36:43 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:36:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:36:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:36:43 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:36:43 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] Date filter applied: 1404/05/02 -> 2025-07-24
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 1
INFO 2025-08-03 10:36:43 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 1
INFO 2025-08-03 10:36:43 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:36:43 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 1 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:36:43 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:36:44 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 1 فاکتور، مبلغ کل: 600000.00
INFO 2025-08-03 10:36:44 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:38:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:38:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:38:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:38:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:38:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:38:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] Date filter applied: 1404/05/02 -> 2025-07-24
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 1
INFO 2025-08-03 10:38:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 1
INFO 2025-08-03 10:38:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:38:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 1 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:38:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:38:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 1 فاکتور، مبلغ کل: 600000.00
INFO 2025-08-03 10:38:16 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:38:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:38:26 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:38:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:38:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:38:26 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:38:26 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] Date filter applied: 1404/05/02 -> 2025-07-24
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 1
INFO 2025-08-03 10:38:26 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 1
INFO 2025-08-03 10:38:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:38:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 1 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:38:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:38:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 1 فاکتور، مبلغ کل: 600000.00
INFO 2025-08-03 10:38:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:38:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:38:36 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:38:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:38:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:38:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:38:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] Date filter applied: 1404/05/02 -> 2025-07-24
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 1
INFO 2025-08-03 10:38:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 1
INFO 2025-08-03 10:38:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:38:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 1 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:38:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:38:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 1 فاکتور، مبلغ کل: 600000.00
INFO 2025-08-03 10:38:36 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:39:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:39:13 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:39:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:39:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:39:13 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:39:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:39:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:39:13 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:39:13 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:39:13 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:39:13 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:39:13 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:13 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:39:13 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:39:13 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:39:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:39:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:39:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:39:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:39:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:39:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] Date filter applied: 1404/05/12 -> 2025-08-03
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 1
INFO 2025-08-03 10:39:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 1
INFO 2025-08-03 10:39:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:39:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 1 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:39:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 1 فاکتور، مبلغ کل: 100000.00
INFO 2025-08-03 10:39:22 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:39:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:39:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:39:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:39:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:39:25 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:39:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:39:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:39:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:39:25 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:39:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:39:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:39:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:39:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:39:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:39:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:39:25 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:12 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:12 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:12 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:12 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:12 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:17 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:17 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:17 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:17 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:17 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:46 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:46 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:46 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:51:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:51:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:51:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:51:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:51:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:51:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:51:47 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:51:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:51:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:52:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:52:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:52:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:52:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:52:10 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:52:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:52:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:52:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:52:10 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:52:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:52:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:52:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:52:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:52:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:52:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:52:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:52:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:52:10 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:52:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:52:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:56:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:56:48 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:56:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:56:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:56:48 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:56:48 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:56:48 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:56:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:56:48 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:56:48 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:56:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:56:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:48 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:56:48 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:56:48 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 10:56:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 10:56:52 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 10:56:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 10:56:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 10:56:52 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 10:56:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 10:56:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 10:56:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 10:56:52 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 10:56:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 10:56:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 10:56:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 10:56:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 10:56:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 10:56:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 10:56:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 11:01:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:01:25 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 11:01:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 11:01:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 11:01:25 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 11:01:25 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 11:01:25 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 11:01:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 11:01:25 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 11:01:25 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 11:01:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 11:01:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 11:01:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:01:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:01:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:01:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:01:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:01:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:01:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:01:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:01:25 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:01:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:01:26 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 11:01:26 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 11:01:26 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 11:02:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:02:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 11:02:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 11:02:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 11:02:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 11:02:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 11:02:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 11:02:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 11:02:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 11:02:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 11:02:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 11:02:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:02:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:02:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:02:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:02:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 11:02:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 11:02:16 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 11:02:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 11:02:16 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 11:28:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: AnonymousUser
INFO 2025-08-03 11:28:49 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 11:28:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 11:28:50 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 11:28:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:50 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: AnonymousUser
INFO 2025-08-03 11:28:50 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 11:28:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 11:28:50 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 11:28:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:57 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 11:28:58 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 11:28:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:28:58 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 11:28:58 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 11:28:59 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 11:29:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:29:06 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 11:29:06 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 11:29:06 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 11:29:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:29:52 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:29:52 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:30:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:30:51 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:30:51 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:31:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:31:51 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:31:51 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:32:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:32:51 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:32:51 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:33:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:33:51 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:33:51 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:34:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:34:51 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:34:51 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:36:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:36:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:36:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:37:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:37:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:37:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:38:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:38:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:39:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:39:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:39:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:40:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:40:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:40:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:41:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:41:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:41:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:42:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:42:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:42:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:43:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:43:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:43:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:44:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:44:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:44:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:45:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:45:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:45:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:46:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:46:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:46:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:47:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:47:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:47:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:48:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:48:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:49:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:49:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:49:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:50:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:50:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:50:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:51:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:51:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:51:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:52:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:52:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:53:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:53:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:53:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:54:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:54:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:54:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:55:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:55:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:55:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:56:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:56:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:56:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:57:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:57:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:57:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:58:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:58:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:58:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 11:59:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 11:59:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 11:59:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:00:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:00:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:00:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:01:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:01:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:01:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:02:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:02:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:02:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:03:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:03:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:03:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:04:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:04:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:04:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:05:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:05:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:05:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:06:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:06:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:06:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:07:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:07:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:07:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:08:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:08:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:08:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:09:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:09:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:09:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:10:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:10:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:10:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:11:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:11:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:11:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:12:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:12:28 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:12:28 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:15:53 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-03 12:15:53 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:15:53 update_versions handle Starting version update process...
INFO 2025-08-03 12:15:53 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:15:53 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:53 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.68
INFO 2025-08-03 12:15:53 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:53 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:15:54 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:54 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.568
INFO 2025-08-03 12:15:54 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:54 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:15:55 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:55 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1128
INFO 2025-08-03 12:15:55 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:55 update_versions handle Versions updated: {'core': '4.0.0.68', 'version_tracker': '1.1.0.568', 'accounts': '1.3.0.1128'}
INFO 2025-08-03 12:15:55 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:15:55 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-03 12:15:55 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:15:55 update_versions handle Starting version update process...
INFO 2025-08-03 12:15:55 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:15:56 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:56 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.69
INFO 2025-08-03 12:15:56 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:56 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:15:56 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:56 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.569
INFO 2025-08-03 12:15:56 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:56 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:58 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1129
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:58 update_versions handle Versions updated: {'core': '4.0.0.69', 'version_tracker': '1.1.0.569', 'accounts': '1.3.0.1129'}
INFO 2025-08-03 12:15:58 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:15:58 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-03 12:15:58 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:15:58 update_versions handle Starting version update process...
INFO 2025-08-03 12:15:58 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:58 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.70
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:58 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:58 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.570
INFO 2025-08-03 12:15:58 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:58 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:59 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1130
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:15:59 update_versions handle Versions updated: {'core': '4.0.0.70', 'version_tracker': '1.1.0.570', 'accounts': '1.3.0.1130'}
INFO 2025-08-03 12:15:59 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:15:59 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-03 12:15:59 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:15:59 update_versions handle Starting version update process...
INFO 2025-08-03 12:15:59 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:59 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.71
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for core
INFO 2025-08-03 12:15:59 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:59 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.571
INFO 2025-08-03 12:15:59 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:15:59 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:00 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1131
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:00 update_versions handle Versions updated: {'core': '4.0.0.71', 'version_tracker': '1.1.0.571', 'accounts': '1.3.0.1131'}
INFO 2025-08-03 12:16:00 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:00 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-03 12:16:00 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:00 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:00 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:00 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.72
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:00 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:00 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.572
INFO 2025-08-03 12:16:00 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:00 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:01 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1132
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:01 update_versions handle Versions updated: {'core': '4.0.0.72', 'version_tracker': '1.1.0.572', 'accounts': '1.3.0.1132'}
INFO 2025-08-03 12:16:01 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:01 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-03 12:16:01 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:01 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:01 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:01 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.73
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:01 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:01 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.573
INFO 2025-08-03 12:16:01 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:01 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:02 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:02 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1133
INFO 2025-08-03 12:16:02 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:02 update_versions handle Versions updated: {'core': '4.0.0.73', 'version_tracker': '1.1.0.573', 'accounts': '1.3.0.1133'}
INFO 2025-08-03 12:16:02 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:02 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-03 12:16:02 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:02 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:02 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:02 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:02 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.74
INFO 2025-08-03 12:16:02 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:02 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:02 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:03 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.574
INFO 2025-08-03 12:16:03 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:03 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:03 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:03 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1134
INFO 2025-08-03 12:16:03 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:03 update_versions handle Versions updated: {'core': '4.0.0.74', 'version_tracker': '1.1.0.574', 'accounts': '1.3.0.1134'}
INFO 2025-08-03 12:16:03 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:03 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 12:16:03 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-03 12:16:03 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-03 12:16:03 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:03 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:03 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:03 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:03 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.75
INFO 2025-08-03 12:16:03 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:03 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:04 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:04 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.575
INFO 2025-08-03 12:16:04 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:04 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:06 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:06 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1135
INFO 2025-08-03 12:16:06 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:06 update_versions handle Versions updated: {'core': '4.0.0.75', 'version_tracker': '1.1.0.575', 'accounts': '1.3.0.1135'}
INFO 2025-08-03 12:16:06 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:06 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-03 12:16:06 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:06 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:06 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:06 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:06 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.76
INFO 2025-08-03 12:16:06 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:06 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:07 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.576
INFO 2025-08-03 12:16:07 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:07 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1136
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:09 update_versions handle Versions updated: {'core': '4.0.0.76', 'version_tracker': '1.1.0.576', 'accounts': '1.3.0.1136'}
INFO 2025-08-03 12:16:09 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:09 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-03 12:16:09 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:09 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:09 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:09 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.77
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:09 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:09 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.577
INFO 2025-08-03 12:16:09 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:09 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1137
INFO 2025-08-03 12:16:11 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:11 update_versions handle Versions updated: {'core': '4.0.0.77', 'version_tracker': '1.1.0.577', 'accounts': '1.3.0.1137'}
INFO 2025-08-03 12:16:11 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:11 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-03 12:16:11 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:11 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:11 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:11 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:11 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.78
INFO 2025-08-03 12:16:11 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.578
INFO 2025-08-03 12:16:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:13 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:13 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1138
INFO 2025-08-03 12:16:13 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:13 update_versions handle Versions updated: {'core': '4.0.0.78', 'version_tracker': '1.1.0.578', 'accounts': '1.3.0.1138'}
INFO 2025-08-03 12:16:13 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:13 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-03 12:16:13 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:13 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:13 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:13 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:13 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.79
INFO 2025-08-03 12:16:13 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:13 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:14 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.579
INFO 2025-08-03 12:16:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:14 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:15 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:15 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1139
INFO 2025-08-03 12:16:15 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:15 update_versions handle Versions updated: {'core': '4.0.0.79', 'version_tracker': '1.1.0.579', 'accounts': '1.3.0.1139'}
INFO 2025-08-03 12:16:15 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:16:15 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-03 12:16:15 signals update_versions Calling update_versions command...
INFO 2025-08-03 12:16:15 update_versions handle Starting version update process...
INFO 2025-08-03 12:16:15 update_versions update_app_versions Checking core for changes...
INFO 2025-08-03 12:16:15 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:15 models create_code_changes 5 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v4.0.0.80
INFO 2025-08-03 12:16:15 models update_version_file Updated version.py for core
INFO 2025-08-03 12:16:15 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-03 12:16:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:16 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.580
INFO 2025-08-03 12:16:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-03 12:16:16 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-03 12:16:16 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:16 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1140
INFO 2025-08-03 12:16:16 models update_version_file Updated version.py for accounts
INFO 2025-08-03 12:16:16 update_versions handle Versions updated: {'core': '4.0.0.80', 'version_tracker': '1.1.0.580', 'accounts': '1.3.0.1140'}
INFO 2025-08-03 12:16:16 update_versions handle Final version updated successfully!
INFO 2025-08-03 12:17:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:17:17 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 12:17:17 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:17:17 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:17:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:17:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 12:17:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 12:17:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:17:22 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 12:17:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:17:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 12:17:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:17:22 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 12:17:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:17:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 12:17:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:17:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:17:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:17:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:17:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:17:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:17:22 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 12:17:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:17:22 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:17:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:17:26 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 12:17:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:17:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:17:26 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:17:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:17:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:17:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:17:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:17:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:17:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:18:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:18:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:18:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:19:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:19:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:19:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:20:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:20:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:20:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:21:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:13 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: admin
INFO 2025-08-03 12:21:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:21:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:21:13 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:21:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:14 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:21:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:21:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:21 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 12:21:21 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:21:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:21:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:23 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 12:21:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 12:21:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:21:23 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 12:21:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:21:23 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 12:21:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:21:23 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 12:21:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:21:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 12:21:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:21:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:21:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:21:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:21:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:21:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:21:23 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 12:21:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:21:23 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:21:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:27 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:21:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:21:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:21:27 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:21:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:21:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:21:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:21:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:21:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:22:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:22:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:22:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:23:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:23:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:23:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:23:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:23:28 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:23:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:23:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:23:28 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:23:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:23:28 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:23:28 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:24:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:24:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:25:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:25:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:25:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:26:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:26:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:27:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:27:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:27:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:28:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:28:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:29:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:01 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:29:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:29:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:29:01 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:29:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:29:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:29:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:24 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:29:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:29:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:29:24 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:29:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:26 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:29:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:29:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:29:26 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:29:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:29:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:29:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:29:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:29:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:29:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:29:27 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:30:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:30:32 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:30:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:30:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:30:32 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:30:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:30:32 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 12:30:32 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:32:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:32:05 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:32:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:32:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:32:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001'
INFO 2025-08-03 12:32:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 12:32:05 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:33:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:33:33 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-03 12:33:33 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 12:33:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:33:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 12:33:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 12:33:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:33:51 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 12:33:52 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 12:33:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:33:52 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 12:33:52 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:33:52 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:33:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:33:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 12:33:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 12:33:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:33:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 12:33:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:33:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 12:33:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 12:33:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:33:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:33:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:33:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:33:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:33:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:33:55 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:34:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:00 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 12:34:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 12:34:00 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:34:00 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001'
INFO 2025-08-03 12:34:00 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 12:34:00 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:34:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:06 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 12:34:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 12:34:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:34:06 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001'
INFO 2025-08-03 12:34:06 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 12:34:06 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:34:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:06 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 12:34:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 12:34:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:34:06 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0001'
INFO 2025-08-03 12:34:06 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 12:34:07 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:34:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:15 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 12:34:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 12:34:15 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 12:34:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:34:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 12:34:15 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:34:15 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 12:34:16 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 12:34:16 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 12:34:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:34:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 12:34:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 12:34:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:34:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:34:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:34:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:34:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:34:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:34:16 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:27 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 12:34:27 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 12:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 12:34:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 12:34:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:36 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: admin
INFO 2025-08-03 12:34:36 middleware __call__ پاسخ برای /accounts/heartbeat/ - کد وضعیت: 403
INFO 2025-08-03 12:34:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:38 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 12:34:39 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:34:39 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:34:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:41 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-03 12:34:41 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-03 12:34:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:45 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 12:34:45 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 12:34:45 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 12:34:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:48 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 12:34:48 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 12:34:48 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 12:34:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:34:48 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 12:34:48 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 12:34:48 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 12:35:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:00 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 12:35:01 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 12:35:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:01 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 12:35:01 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:35:01 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:35:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:06 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 12:35:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 12:35:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:35:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 12:35:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:35:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 12:35:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 12:35:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:35:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:35:06 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:35:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:13 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 12:35:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:35:13 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:35:13 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 12:35:13 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:35:13 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:35:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:25 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 12:35:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:35:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 12:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:35:25 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:35:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:25 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 12:35:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:35:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 12:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:35:25 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:35:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:36 middleware __call__ درخواست به: /dashboard/flows/, کاربر: beygh
INFO 2025-08-03 12:35:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:35:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 12:35:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 12:35:39 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 12:35:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:35:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 12:35:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:35:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 12:35:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 12:35:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:35:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:35:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:35:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:36:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:36:27 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:36:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:36:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:36:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:36:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:36:27 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:37:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:37:36 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 12:37:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 12:37:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:37:36 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 12:37:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:37:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 12:37:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:37:36 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 12:37:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:37:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 12:37:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:37:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:37:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:37:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:37:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 12:37:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:37:36 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 12:37:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:37:36 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:37:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:37:40 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: admin
INFO 2025-08-03 12:37:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 12:37:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:37:40 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'admin' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001'
INFO 2025-08-03 12:37:40 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-03 12:37:40 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:38:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:38:03 middleware __call__ درخواست به: /dashboard/flows/, کاربر: beygh
INFO 2025-08-03 12:38:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:38:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 12:38:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 12:38:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 12:38:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 12:38:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 12:38:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 12:38:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 12:38:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:38:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:38:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:38:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 12:38:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 12:38:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 12:38:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 12:38:10 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 12:38:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:38:12 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:38:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:38:12 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:38:12 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:38:12 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:38:12 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:38:27 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:38:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:38:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:38:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:38:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:38:27 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:38:27 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:38:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:38:28 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:38:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:38:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:38:28 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:46:38 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:46:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:46:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:46:38 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:46:38 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:46:38 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:46:38 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:46:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:46:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:46:38 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:46:38 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:46:38 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:46:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:46:51 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:46:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:46:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:46:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:46:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:46:51 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:46:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:46:51 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:46:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:46:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:46:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:46:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:46:52 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:47:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:47:02 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 12:47:02 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 12:47:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 12:53:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:53:49 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:53:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:53:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:53:50 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 500
INFO 2025-08-03 12:53:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:53:50 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 12:53:50 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 12:54:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:54:16 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:54:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:54:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:54:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:54:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:54:16 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:54:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:54:16 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:54:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:54:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:54:16 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 12:54:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:54:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:54:16 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:55:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:55:58 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:55:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:55:58 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:55:58 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 12:55:58 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:55:58 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
WARNING 2025-08-03 12:55:58 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] No ApprovalLog created for factor 32 by user beygh
INFO 2025-08-03 12:55:58 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 12:55:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:55:58 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:55:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:55:58 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:55:58 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 12:55:58 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:55:58 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:55:58 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:59:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:59:30 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:59:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:59:30 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:59:30 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 12:59:30 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:59:30 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:59:30 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 12:59:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 12:59:42 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 12:59:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 12:59:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 12:59:43 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 12:59:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:59:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
WARNING 2025-08-03 12:59:43 view_FactorItemApprove post [FactorItemApproveView] Formset invalid for factor 32: [{'status': ['This field is required.']}]
INFO 2025-08-03 12:59:43 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 12:59:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 12:59:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 12:59:43 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:06:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:06:53 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:06:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:06:53 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:06:53 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 13:06:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:06:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:06:53 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: یبسیبسیب
WARNING 2025-08-03 13:06:53 view_FactorItemApprove post [FactorItemApproveView] Formset invalid for factor 32: [{'status': ['This field is required.']}]
INFO 2025-08-03 13:06:53 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:06:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:06:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:06:53 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:07:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:07:05 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:07:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:07:05 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:07:05 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:07:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:07:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:07:05 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:07:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:07:09 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:07:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:07:09 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:07:09 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 13:07:09 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:07:09 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:07:09 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: یبسیبسیب
WARNING 2025-08-03 13:07:09 view_FactorItemApprove post [FactorItemApproveView] Formset invalid for factor 32: [{'status': ['This field is required.']}]
INFO 2025-08-03 13:07:09 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:07:09 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:07:09 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:07:09 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:07:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:07:26 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:07:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:07:26 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:07:26 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 13:07:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:07:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
WARNING 2025-08-03 13:07:26 view_FactorItemApprove post [FactorItemApproveView] Formset invalid for factor 32: [{'description': ['This field is required.'], 'id': ['This field is required.']}]
INFO 2025-08-03 13:07:26 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:07:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:07:26 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:07:26 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:10:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:50 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:10:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:10:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:10:50 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 500
INFO 2025-08-03 13:10:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:50 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:50 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:53 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:10:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:10:53 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:10:53 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 500
INFO 2025-08-03 13:10:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:53 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:53 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:57 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:58 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:58 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:58 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:59 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:10:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:10:59 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:10:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:11:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:11:00 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:11:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:11:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:11:12 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:11:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:11:12 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:11:12 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 500
INFO 2025-08-03 13:11:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:11:12 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 13:11:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:11:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:11:34 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:11:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:11:34 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:11:34 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:11:34 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:11:34 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:11:34 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:11:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:11:49 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:11:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:11:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:11:50 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 29, user beygh, stage DRAFT
INFO 2025-08-03 13:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:11:50 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: sdfdadasd
WARNING 2025-08-03 13:11:50 view_FactorItemApprove post [FactorItemApproveView] Formset invalid for factor 29: [{'status': ['This field is required.']}]
INFO 2025-08-03 13:11:50 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:11:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:11:50 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:21:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:05 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:21:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:21:05 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:21:05 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:21:05 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:21:06 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:21:06 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:21:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:14 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:21:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:21:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:21:14 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 29, user beygh, stage DRAFT
INFO 2025-08-03 13:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:21:14 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: dsf
INFO 2025-08-03 13:21:14 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 27, status=APPROVE, comment=dsf, is_temporary=False
INFO 2025-08-03 13:21:14 models save [ApprovalLog] Attempting to save new ApprovalLog for user beygh, action APPROVE
INFO 2025-08-03 13:21:14 models save [ApprovalLog] User beygh is_hq_user: True
INFO 2025-08-03 13:21:14 models save [ApprovalLog] User beygh has full access, saving directly
INFO 2025-08-03 13:21:14 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 27 status to APPROVE
INFO 2025-08-03 13:21:14 models save Calculated amount for FactorItem pk=27: 150000.000
INFO 2025-08-03 13:21:14 models save FactorItem saved successfully (pk=27). Amount=150000.000, Status=APPROVE
INFO 2025-08-03 13:21:14 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 29
INFO 2025-08-03 13:21:14 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:21:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:14 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: beygh
INFO 2025-08-03 13:21:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:21:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:21:14 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:21:14 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:21:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:34 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-03 13:21:34 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:21:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:34 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:21:34 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:21:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:44 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:21:44 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:21:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:44 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-03 13:21:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:21:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:21:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:47 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 13:21:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 13:21:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:21:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 13:21:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:21:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:21:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:21:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 13:21:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:21:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 13:21:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:21:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:21:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:21:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:21:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:21:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:21:47 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-08-03 13:21:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:21:47 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:21:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:21:54 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: hfath
INFO 2025-08-03 13:21:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:21:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:21:54 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:21:54 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'hfath' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:21:54 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:21:54 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:22:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:22:31 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: hfath
INFO 2025-08-03 13:22:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:22:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:22:31 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 29, user hfath, stage DRAFT
INFO 2025-08-03 13:22:31 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'hfath' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:22:32 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:22:32 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: تایید دفتر مرکزی
INFO 2025-08-03 13:22:32 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 27, status=APPROVE, comment=تایید دفتر مرکزی, is_temporary=False
INFO 2025-08-03 13:22:32 models save [ApprovalLog] Attempting to save new ApprovalLog for user hfath, action APPROVE
INFO 2025-08-03 13:22:32 models save [ApprovalLog] User hfath is_hq_user: True
INFO 2025-08-03 13:22:32 models save [ApprovalLog] User hfath has full access, saving directly
INFO 2025-08-03 13:22:32 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 27 status to APPROVE
INFO 2025-08-03 13:22:32 models save Calculated amount for FactorItem pk=27: 150000.000
INFO 2025-08-03 13:22:32 models save FactorItem saved successfully (pk=27). Amount=150000.000, Status=APPROVE
INFO 2025-08-03 13:22:32 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 29
INFO 2025-08-03 13:22:32 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:22:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:22:32 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: hfath
INFO 2025-08-03 13:22:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:22:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:22:32 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:22:32 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'hfath' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:22:32 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:22:32 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:22:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:22:57 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-08-03 13:22:57 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:22:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:22:57 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:22:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:23:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:23:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:23:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:23:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:23:04 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-03 13:23:04 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:23:04 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:23:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:23:06 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 13:23:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 13:23:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:23:06 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 13:23:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:23:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:23:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:23:06 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 13:23:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:23:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 13:23:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:23:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:23:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:23:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:23:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:23:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:23:07 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 13:23:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:23:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:29:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:29:34 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: foad
INFO 2025-08-03 13:29:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 13:29:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:29:34 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:29:34 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'foad' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:29:34 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:29:34 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:29:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:29:50 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: foad
INFO 2025-08-03 13:29:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 13:29:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:29:50 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 29, user foad, stage DRAFT
INFO 2025-08-03 13:29:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'foad' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:29:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:29:50 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: تایید فواد 1
INFO 2025-08-03 13:29:50 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 27, status=APPROVE, comment=تایید فواد 1, is_temporary=False
INFO 2025-08-03 13:29:50 models save [ApprovalLog] Attempting to save new ApprovalLog for user foad, action APPROVE
INFO 2025-08-03 13:29:50 models save [ApprovalLog] User foad is_hq_user: True
INFO 2025-08-03 13:29:50 models save [ApprovalLog] User foad has full access, saving directly
INFO 2025-08-03 13:29:50 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 27 status to APPROVE
INFO 2025-08-03 13:29:50 models save Calculated amount for FactorItem pk=27: 150000.000
INFO 2025-08-03 13:29:50 models save FactorItem saved successfully (pk=27). Amount=150000.000, Status=APPROVE
INFO 2025-08-03 13:29:50 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 29
INFO 2025-08-03 13:29:50 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:29:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:29:50 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: foad
INFO 2025-08-03 13:29:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 13:29:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:29:50 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:29:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'foad' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:29:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:29:50 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:30:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:00 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-08-03 13:30:00 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:30:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:00 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:00 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:30:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:19 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:30:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:26 middleware __call__ درخواست به: /accounts/users/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:26 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 13:30:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:26 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:26 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:30:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:28 middleware __call__ درخواست به: /accounts/users/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:28 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 13:30:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:28 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:30:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:30 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:30:30 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:30:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:30 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 13:30:30 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:30:30 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:30:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:34 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-03 13:30:34 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-03 13:30:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:35 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:35 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:35 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:38 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:38 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:38 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:38 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:38 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:38 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:52 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:52 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:52 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:52 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:52 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:52 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:59 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:59 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:59 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:30:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:30:59 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:30:59 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:30:59 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:11 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:31:12 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:31:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:12 middleware __call__ درخواست به: /, کاربر: p.bighash
ERROR 2025-08-03 13:31:12 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:31:12 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:31:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:13 middleware __call__ درخواست به: /tankhah/factors/, کاربر: p.bighash
INFO 2025-08-03 13:31:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: p.bighash
INFO 2025-08-03 13:31:13 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: p.bighash
INFO 2025-08-03 13:31:13 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:31:13 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:31:13 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:31:13 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 2
INFO 2025-08-03 13:31:14 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:31:14 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 0
INFO 2025-08-03 13:31:14 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 0
INFO 2025-08-03 13:31:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: p.bighash
INFO 2025-08-03 13:31:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 0 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:31:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 0 سازمان، 0 فاکتور، مبلغ کل: 0
INFO 2025-08-03 13:31:14 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:31:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:23 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:31:23 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:31:23 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:23 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:31:23 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:31:23 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:28 middleware __call__ درخواست به: /accounts/logout/, کاربر: p.bighash
INFO 2025-08-03 13:31:28 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:31:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:28 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:31:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:31:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:32 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:31:33 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:31:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:37 middleware __call__ درخواست به: /accounts/reset_password_to_default/12/, کاربر: admin
INFO 2025-08-03 13:31:37 middleware __call__ پاسخ برای /accounts/reset_password_to_default/12/ - کد وضعیت: 302
INFO 2025-08-03 13:31:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:37 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:31:37 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:31:37 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:42 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:31:42 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:31:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:47 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:31:47 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:31:47 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:47 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-03 13:31:47 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-03 13:31:47 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-03 13:31:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:31:56 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:31:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:56 middleware __call__ درخواست به: /, کاربر: rheyran
ERROR 2025-08-03 13:31:56 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:31:56 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:31:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:31:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: rheyran
INFO 2025-08-03 13:31:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: rheyran
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: rheyran
INFO 2025-08-03 13:31:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:31:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 2
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 0
INFO 2025-08-03 13:31:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 0
INFO 2025-08-03 13:31:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: rheyran
INFO 2025-08-03 13:31:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 0 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:31:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 0 سازمان، 0 فاکتور، مبلغ کل: 0
INFO 2025-08-03 13:31:58 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:32:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:32:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 13:32:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 13:32:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:32:07 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 13:32:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:32:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:32:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:32:07 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 13:32:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:32:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 13:32:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 13:32:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 13:32:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 13:32:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 13:32:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 13:32:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:32:07 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 13:32:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:32:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:32:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:32:14 middleware __call__ درخواست به: /tankhah/factor/29/approval-path/, کاربر: admin
INFO 2025-08-03 13:32:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: admin
INFO 2025-08-03 13:32:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:32:14 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 29
INFO 2025-08-03 13:32:14 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: admin
INFO 2025-08-03 13:32:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-08-03 13:32:14 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-08-03 13:32:14 middleware __call__ پاسخ برای /tankhah/factor/29/approval-path/ - کد وضعیت: 500
INFO 2025-08-03 13:32:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:32:14 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-03 13:32:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:34:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:08 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-03 13:34:08 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 13:34:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:34:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:34:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:34:12 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:34:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:34:21 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:34:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:21 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 13:34:21 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:34:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:34:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:23 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 13:34:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 13:34:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:34:23 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:34:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:34:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 13:34:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:34:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:34:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:34:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:34:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:34:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:34:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:34:23 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:27 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: snejate
INFO 2025-08-03 13:34:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:34:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:34:27 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:34:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:34:27 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:34:27 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:34:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:44 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: snejate
INFO 2025-08-03 13:34:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:34:44 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:34:44 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 29, user snejate, stage DRAFT
INFO 2025-08-03 13:34:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:34:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:34:44 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: نجاتی
INFO 2025-08-03 13:34:44 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 27, status=APPROVE, comment=نجاتی, is_temporary=False
INFO 2025-08-03 13:34:44 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-03 13:34:44 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 13:34:44 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-03 13:34:44 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 27 status to APPROVE
INFO 2025-08-03 13:34:44 models save Calculated amount for FactorItem pk=27: 150000.000
INFO 2025-08-03 13:34:44 models save FactorItem saved successfully (pk=27). Amount=150000.000, Status=APPROVE
INFO 2025-08-03 13:34:44 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 29 to next stage
INFO 2025-08-03 13:34:44 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 13:34:44 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 29 finalized
INFO 2025-08-03 13:34:44 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 29
ERROR 2025-08-03 13:34:44 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 13:34:44 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:34:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:34:44 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: snejate
INFO 2025-08-03 13:34:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:34:44 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:34:44 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:34:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040504-HSarein-0002'
INFO 2025-08-03 13:34:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:34:44 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:35:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:12 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 13:35:12 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:35:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:35:12 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:35:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:19 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:35:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:35:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:19 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 13:35:19 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:35:19 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:35:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:21 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:35:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:35:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:35:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:35:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:35:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:35:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:35:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:35:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:35:21 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:35:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:25 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:35:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:35:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:35:25 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:35:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:35:25 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:35:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:41 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:35:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:35:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:35:41 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user beygh, stage DRAFT
INFO 2025-08-03 13:35:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:35:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:35:41 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: بیگی - نهایی
INFO 2025-08-03 13:35:41 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 32, status=APPROVE, comment=بیگی - نهایی, is_temporary=False
INFO 2025-08-03 13:35:41 models save [ApprovalLog] Attempting to save new ApprovalLog for user beygh, action APPROVE
INFO 2025-08-03 13:35:41 models save [ApprovalLog] User beygh is_hq_user: True
INFO 2025-08-03 13:35:41 models save [ApprovalLog] User beygh has full access, saving directly
INFO 2025-08-03 13:35:41 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 32 status to APPROVE
INFO 2025-08-03 13:35:41 models save Calculated amount for FactorItem pk=32: 100.000
INFO 2025-08-03 13:35:41 models save FactorItem saved successfully (pk=32). Amount=100.000, Status=APPROVE
INFO 2025-08-03 13:35:41 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 32
INFO 2025-08-03 13:35:41 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:35:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:41 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: beygh
INFO 2025-08-03 13:35:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:35:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:35:41 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:35:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'beygh' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:35:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 13:35:41 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:35:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:48 middleware __call__ درخواست به: /dashboard/flows/, کاربر: beygh
INFO 2025-08-03 13:35:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:50 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-03 13:35:50 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:35:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:35:50 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:35:51 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 13:35:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:35:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:35:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:55 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 13:35:55 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:35:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:35:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:35:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 13:35:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 13:35:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:35:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:35:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:35:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 13:35:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:35:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:35:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:35:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:35:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:36:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:36:02 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-08-03 13:36:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:36:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:36:02 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:36:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:36:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:36:02 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:36:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:36:25 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-08-03 13:36:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:36:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:36:25 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 32, user snejate, stage DRAFT
INFO 2025-08-03 13:36:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:36:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:36:25 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: بیگی - نهایی sssss
INFO 2025-08-03 13:36:25 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 32, status=APPROVE, comment=بیگی - نهایی sssss, is_temporary=False
INFO 2025-08-03 13:36:25 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-03 13:36:25 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 13:36:25 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-03 13:36:25 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 32 status to APPROVE
INFO 2025-08-03 13:36:25 models save Calculated amount for FactorItem pk=32: 100.000
INFO 2025-08-03 13:36:25 models save FactorItem saved successfully (pk=32). Amount=100.000, Status=APPROVE
INFO 2025-08-03 13:36:25 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 32 to next stage
INFO 2025-08-03 13:36:25 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 13:36:25 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 32 finalized
INFO 2025-08-03 13:36:25 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 32
ERROR 2025-08-03 13:36:25 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 13:36:25 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:36:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:36:25 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-08-03 13:36:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:36:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:36:25 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:36:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] Checking access for user 'snejate' in stage 'DRAFT' for factor 'FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040509-HSarein-0001'
INFO 2025-08-03 13:36:25 fun_can_edit_approval can_edit_approval [can_edit_approval_v3] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 13:36:25 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:45:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:45:51 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-08-03 13:45:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:45:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:45:51 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:45:51 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:45:52 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:46:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:03 middleware __call__ درخواست به: /dashboard/flows/, کاربر: snejate
INFO 2025-08-03 13:46:12 middleware __call__ پاسخ برای /dashboard/flows/ - کد وضعیت: 200
INFO 2025-08-03 13:46:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:21 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 13:46:21 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:46:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:46:21 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:46:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:30 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:46:31 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:46:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:31 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 13:46:32 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:46:32 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:46:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:34 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:46:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:46:34 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:46:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:46:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:46:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:46:34 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:46:35 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:46:35 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:46:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:46:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:46:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:46:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:46:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:46:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:46:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:46:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:46:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:46:36 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:46:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:43 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: beygh
INFO 2025-08-03 13:46:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:46:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:46:43 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:46:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 13:46:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'beygh'.
INFO 2025-08-03 13:46:43 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:46:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:53 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: beygh
INFO 2025-08-03 13:46:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:46:53 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:46:53 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 35, user beygh, stage DRAFT
INFO 2025-08-03 13:46:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 13:46:53 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'beygh'.
INFO 2025-08-03 13:46:53 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: بیگی 1
INFO 2025-08-03 13:46:53 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 35, status=APPROVE, comment=بیگی 1, is_temporary=False
INFO 2025-08-03 13:46:53 models save [ApprovalLog] Attempting to save new ApprovalLog for user beygh, action APPROVE
INFO 2025-08-03 13:46:54 models save [ApprovalLog] User beygh is_hq_user: True
INFO 2025-08-03 13:46:54 models save [ApprovalLog] User beygh has full access, saving directly
INFO 2025-08-03 13:46:54 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 35 status to APPROVE
INFO 2025-08-03 13:46:54 models save Calculated amount for FactorItem pk=35: 100000.000
INFO 2025-08-03 13:46:54 models save FactorItem saved successfully (pk=35). Amount=100000.000, Status=APPROVE
INFO 2025-08-03 13:46:54 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 35
INFO 2025-08-03 13:46:54 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:46:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:46:54 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: beygh
INFO 2025-08-03 13:46:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:46:54 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:46:54 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:46:54 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
WARNING 2025-08-03 13:46:54 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access DENIED for 'beygh' because they have already submitted their own final action.
INFO 2025-08-03 13:46:54 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:47:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:03 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:47:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:47:03 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:47:03 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:47:03 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:47:03 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:47:03 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:47:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:03 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:47:04 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:47:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:16 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-03 13:47:16 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:47:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:16 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:47:16 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:47:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:47:22 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:47:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:22 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-03 13:47:22 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:47:22 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:47:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:24 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 13:47:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 13:47:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:47:24 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 13:47:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:47:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:47:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:47:24 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 13:47:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:47:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 13:47:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:24 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-08-03 13:47:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:47:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:47:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:28 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: hfath
INFO 2025-08-03 13:47:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:47:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:47:28 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:47:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 13:47:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:47:28 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:47:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:38 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: hfath
INFO 2025-08-03 13:47:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:47:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:47:38 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 35, user hfath, stage DRAFT
INFO 2025-08-03 13:47:38 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 13:47:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:47:39 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: fathi 1
INFO 2025-08-03 13:47:39 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 35, status=APPROVE, comment=fathi 1, is_temporary=False
INFO 2025-08-03 13:47:39 models save [ApprovalLog] Attempting to save new ApprovalLog for user hfath, action APPROVE
INFO 2025-08-03 13:47:39 models save [ApprovalLog] User hfath is_hq_user: True
INFO 2025-08-03 13:47:39 models save [ApprovalLog] User hfath has full access, saving directly
INFO 2025-08-03 13:47:39 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 35 status to APPROVE
INFO 2025-08-03 13:47:39 models save Calculated amount for FactorItem pk=35: 100000.000
INFO 2025-08-03 13:47:39 models save FactorItem saved successfully (pk=35). Amount=100000.000, Status=APPROVE
INFO 2025-08-03 13:47:39 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 35
INFO 2025-08-03 13:47:39 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:47:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:39 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: hfath
INFO 2025-08-03 13:47:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 13:47:39 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:47:39 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:47:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 13:47:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:47:39 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:47:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:45 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 13:47:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 13:47:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:47:45 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 13:47:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:47:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:47:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:47:46 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 13:47:46 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:47:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 13:47:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 13:47:46 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:46 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-08-03 13:47:46 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:47:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:47:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:50 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-08-03 13:47:50 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:47:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:50 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:47:50 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:47:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:47:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:47:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:55 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 13:47:55 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:47:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:47:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:47:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 13:47:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 13:47:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:47:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:47:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:47:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 13:47:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:47:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:47:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:47:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:47:58 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:48:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:48:01 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:48:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:48:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:48:02 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:48:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:48:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'snejate'.
INFO 2025-08-03 13:48:02 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:48:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:48:16 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:48:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:48:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:48:16 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 35, user snejate, stage DRAFT
INFO 2025-08-03 13:48:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:48:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'snejate'.
INFO 2025-08-03 13:48:16 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: nejati
INFO 2025-08-03 13:48:16 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 35, status=APPROVE, comment=nejati, is_temporary=False
INFO 2025-08-03 13:48:16 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-03 13:48:16 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 13:48:16 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-03 13:48:16 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 35 status to APPROVE
INFO 2025-08-03 13:48:16 models save Calculated amount for FactorItem pk=35: 100000.000
INFO 2025-08-03 13:48:16 models save FactorItem saved successfully (pk=35). Amount=100000.000, Status=APPROVE
INFO 2025-08-03 13:48:16 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 35 to next stage
INFO 2025-08-03 13:48:16 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 13:48:16 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 35 finalized
INFO 2025-08-03 13:48:16 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 35
ERROR 2025-08-03 13:48:16 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 13:48:16 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 302
INFO 2025-08-03 13:48:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:48:16 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:48:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:48:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:48:16 view_FactorItemApprove get_context_data [FactorItemApproveView] Current stage: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:48:16 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:48:17 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:50:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:50:43 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:50:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:50:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:50:43 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:50:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:50:43 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 500
INFO 2025-08-03 13:50:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:50:43 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 13:50:43 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:50:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:50:55 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:50:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:50:56 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:50:56 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:50:56 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:50:56 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 500
INFO 2025-08-03 13:50:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:50:56 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 13:50:56 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 13:50:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:50:58 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 13:50:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 13:50:58 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:50:58 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:50:58 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 13:50:58 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=True
INFO 2025-08-03 13:50:58 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:51:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:13 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 13:51:13 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:51:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:13 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:51:13 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:51:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:37 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:51:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:51:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:38 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 13:51:38 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:51:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:51:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:42 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:51:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:51:42 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:51:42 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:51:42 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:51:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:51:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:51:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:51:43 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:51:43 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:51:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:50 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: beygh
INFO 2025-08-03 13:51:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:51:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:51:50 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:51:50 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 13:51:50 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=True
INFO 2025-08-03 13:51:50 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:51:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:55 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:51:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:51:55 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:51:55 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:51:55 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:51:55 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:51:55 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:55 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:51:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:51:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:51:56 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:51:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:51:59 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: beygh
INFO 2025-08-03 13:51:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 13:51:59 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:51:59 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:51:59 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 13:51:59 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 13:51:59 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:52:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 13:52:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 13:52:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:52:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 13:52:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:52:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 13:52:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 13:52:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:52:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:52:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:52:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 13:52:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:52:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:52:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:10 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-03 13:52:10 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:52:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:10 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:52:10 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:14 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:52:15 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:52:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:15 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-03 13:52:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:52:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:52:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:17 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 13:52:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 13:52:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:52:17 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 13:52:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:52:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:52:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:52:18 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 13:52:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:52:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 13:52:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:52:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:52:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:52:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:52:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:52:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:52:18 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 13:52:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:52:18 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:52:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:52:21 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 13:52:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 13:52:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:52:21 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:52:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 13:52:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:52:21 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 13:52:21 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 13:53:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:00 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-03 13:53:00 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:53:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:53:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:03 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-08-03 13:53:03 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 13:53:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:53:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 13:53:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:10 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 13:53:11 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 13:53:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:11 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-03 13:53:11 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 13:53:11 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 13:53:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:15 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 13:53:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 13:53:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:53:15 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 13:53:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 13:53:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 13:53:15 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 13:53:15 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 13:53:15 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 13:53:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 13:53:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:53:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:53:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:53:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:53:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 13:53:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 13:53:15 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 13:53:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 13:53:15 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 13:53:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 13:53:18 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: foad
INFO 2025-08-03 13:53:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 13:53:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 13:53:18 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 13:53:18 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 13:53:18 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 13:53:18 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 13:53:18 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:00:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:00:22 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: foad
INFO 2025-08-03 14:00:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:00:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:00:22 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:00:22 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:00:22 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:00:22 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 14:00:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:00:22 middleware __call__ درخواست به: /favicon.ico, کاربر: foad
INFO 2025-08-03 14:00:22 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 14:00:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:00:31 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: foad
INFO 2025-08-03 14:00:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:00:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:00:31 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:00:31 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:00:31 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:00:31 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 500
INFO 2025-08-03 14:00:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:00:31 middleware __call__ درخواست به: /favicon.ico, کاربر: foad
INFO 2025-08-03 14:00:31 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 14:00:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:00:33 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: foad
INFO 2025-08-03 14:00:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:00:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:00:33 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:00:33 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:00:33 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:00:33 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:00:33 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:01:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:01:27 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: foad
INFO 2025-08-03 14:01:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:01:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:01:28 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:01:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:01:28 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:01:28 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:01:28 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:01:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:01:37 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:01:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:01:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:01:37 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:01:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:01:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:01:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:01:37 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:01:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:01:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:01:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:01:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:01:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:01:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:01:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:01:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:01:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:01:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:01:37 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:01:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:01:41 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:01:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:01:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:01:41 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:01:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:01:41 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:01:41 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:01:41 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:01:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:01:52 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-08-03 14:01:52 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:01:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:01:52 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:01:52 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:02:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:00 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:02:00 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:02:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:00 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 14:02:00 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:02:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:02:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:02 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 14:02:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:02:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:02 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:02:02 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:02:02 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:02:02 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:02:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:07 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:02:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:02:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:02:07 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:02:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:02:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:02:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:02:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:02:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:02:08 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:08 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:08 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:02:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:10 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 14:02:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:02:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:10 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:02:10 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:02:10 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:02:10 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:02:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:14 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 14:02:14 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:02:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:14 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:02:15 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:02:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:02:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:02:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:19 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-03 14:02:19 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:02:19 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:02:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:20 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:02:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:02:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:20 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:02:20 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:02:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:21 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:02:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:02:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:21 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:02:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:21 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:02:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:02:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:02:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:02:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:02:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:49 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:02:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:49 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:02:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:49 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:02:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:02:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:02:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:02:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:02:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:02:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:02:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:51 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:02:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:02:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:53 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:02:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:02:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:53 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:02:53 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:53 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:02:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:53 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:02:53 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:02:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:53 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:02:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:02:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:02:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:02:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:02:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:02:56 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:02:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:02:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:02:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:02:56 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:02:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:02:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:02:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:02:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:02:56 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:02:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:02:56 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:03:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:03:02 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:03:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:03:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:03:02 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:03:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:03:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:03:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:03:02 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:03:02 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:03:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:03:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:03:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:03:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:03:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:03:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:03:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:03:02 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:03:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:03:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:04:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:04:33 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:04:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:04:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:04:33 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:04:33 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:04:33 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:04:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:04:33 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:04:33 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:04:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:04:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:33 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:33 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:04:33 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:04:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:04:37 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:04:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:04:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:04:37 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:04:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:04:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:04:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:04:37 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:04:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:04:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:04:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:37 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:04:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:04:37 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:04:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:04:40 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:04:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:04:40 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:04:40 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:04:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:04:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:04:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:04:40 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:04:40 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:04:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:04:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:04:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:04:40 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:04:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:04:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:05:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:05:10 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:05:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:05:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:05:10 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:05:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:05:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:05:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:05:10 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:05:10 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:05:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:05:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:11 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:05:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:05:11 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:05:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:05:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-03 14:05:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-03 14:05:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:05:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-03 14:05:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:05:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:05:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:05:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-03 14:05:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:05:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-03 14:05:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-03 14:05:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:05:35 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-03 14:05:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:05:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:05:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:05:43 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:05:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:05:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:05:43 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:05:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:05:43 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:05:43 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:05:43 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:05:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:05:57 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:05:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:05:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:05:57 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 30, user foad, stage DRAFT
INFO 2025-08-03 14:05:57 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:05:57 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:05:57 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: فواد تمام
INFO 2025-08-03 14:05:57 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 28, status=APPROVE, comment=فواد تمام, is_temporary=False
INFO 2025-08-03 14:05:57 models save [ApprovalLog] Attempting to save new ApprovalLog for user foad, action APPROVE
INFO 2025-08-03 14:05:57 models save [ApprovalLog] User foad is_hq_user: True
INFO 2025-08-03 14:05:57 models save [ApprovalLog] User foad has full access, saving directly
INFO 2025-08-03 14:05:57 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 28 status to APPROVE
INFO 2025-08-03 14:05:57 models save Calculated amount for FactorItem pk=28: 40000.000
INFO 2025-08-03 14:05:57 models save FactorItem saved successfully (pk=28). Amount=40000.000, Status=APPROVE
INFO 2025-08-03 14:05:57 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 30
INFO 2025-08-03 14:05:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:05:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:05:57 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:05:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:05:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:05:57 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:05:57 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:05:57 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:05:57 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:05:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:06:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:08 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:06:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:06:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:08 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 30, user foad, stage DRAFT
INFO 2025-08-03 14:06:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:06:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:06:08 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: فواد تمام
INFO 2025-08-03 14:06:08 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 28, status=APPROVE, comment=فواد تمام, is_temporary=False
INFO 2025-08-03 14:06:08 models save [ApprovalLog] Attempting to save new ApprovalLog for user foad, action APPROVE
INFO 2025-08-03 14:06:08 models save [ApprovalLog] User foad is_hq_user: True
INFO 2025-08-03 14:06:08 models save [ApprovalLog] User foad has full access, saving directly
INFO 2025-08-03 14:06:08 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 28 status to APPROVE
INFO 2025-08-03 14:06:08 models save Calculated amount for FactorItem pk=28: 40000.000
INFO 2025-08-03 14:06:08 models save FactorItem saved successfully (pk=28). Amount=40000.000, Status=APPROVE
INFO 2025-08-03 14:06:08 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 30
INFO 2025-08-03 14:06:08 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:06:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:08 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: foad
INFO 2025-08-03 14:06:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-03 14:06:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:08 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:06:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'foad' in stage 'DRAFT'
INFO 2025-08-03 14:06:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:06:08 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:06:08 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:06:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:24 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-08-03 14:06:24 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:06:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:24 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:06:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:06:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:06:30 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:06:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:30 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-03 14:06:30 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:06:30 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:06:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:32 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 14:06:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 14:06:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:32 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 14:06:32 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:06:32 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:06:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:06:32 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 14:06:32 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:06:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 14:06:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:06:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:06:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:06:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:06:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:06:32 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:06:32 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-08-03 14:06:32 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:06:32 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:06:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:37 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-08-03 14:06:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:06:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:37 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:06:37 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:06:37 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:06:37 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:06:37 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:06:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:44 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-08-03 14:06:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:06:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:44 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 30, user hfath, stage DRAFT
INFO 2025-08-03 14:06:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:06:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:06:44 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: فواد تمام
INFO 2025-08-03 14:06:44 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 28, status=APPROVE, comment=فواد تمام, is_temporary=False
INFO 2025-08-03 14:06:44 models save [ApprovalLog] Attempting to save new ApprovalLog for user hfath, action APPROVE
INFO 2025-08-03 14:06:44 models save [ApprovalLog] User hfath is_hq_user: True
INFO 2025-08-03 14:06:44 models save [ApprovalLog] User hfath has full access, saving directly
INFO 2025-08-03 14:06:44 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 28 status to APPROVE
INFO 2025-08-03 14:06:44 models save Calculated amount for FactorItem pk=28: 40000.000
INFO 2025-08-03 14:06:44 models save FactorItem saved successfully (pk=28). Amount=40000.000, Status=APPROVE
INFO 2025-08-03 14:06:44 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 30
INFO 2025-08-03 14:06:44 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:06:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:06:44 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: hfath
INFO 2025-08-03 14:06:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:06:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:06:44 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:06:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:06:44 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-03 14:06:44 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:06:44 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: AnonymousUser
INFO 2025-08-03 14:11:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:11:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:11:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:37 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-08-03 14:11:37 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:11:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:37 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:11:37 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:11:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:45 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:11:45 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:11:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:51 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:11:52 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:11:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:52 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 14:11:52 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:11:52 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:11:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:11:54 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:11:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:11:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:11:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:11:54 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:11:54 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:11:54 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:11:55 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:12:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:12:01 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 14:12:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:12:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:12:01 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:12:01 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:12:01 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:12:01 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:12:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:12:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:12:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:12:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:12:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:12:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:12:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:12:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:12:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:12:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:12:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:12:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:12:10 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:12:10 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:12:10 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:12:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:12:14 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 14:12:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:12:15 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:12:15 view_FactorItemApprove get_context_data current stage Get Context data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:12:15 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:12:15 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:12:15 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:12:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:12:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:12:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:12:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:12:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:12:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:13:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:13:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:13:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:13:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:13:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:13:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:14:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:14:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:14:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:14:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:14:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:14:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:15:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:15:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:15:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:15:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:15:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:15:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:16:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:16:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:16:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:16:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:16:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:36 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 14:16:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:16:36 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:16:36 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:16:36 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:16:36 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:16:36 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:16:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:44 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:16:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:16:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:16:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:16:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:16:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:16:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:16:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:16:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:16:45 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:16:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:48 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 14:16:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:16:48 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:16:48 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:16:48 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:16:48 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:16:48 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:16:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:16:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:16:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:16:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:16:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:16:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:16:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:16:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:16:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:16:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:16:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:16:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:16:55 middleware __call__ درخواست به: /tankhah/factor-item/28/approve/, کاربر: snejate
INFO 2025-08-03 14:16:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:16:56 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:16:56 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:16:56 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:16:56 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:16:56 middleware __call__ پاسخ برای /tankhah/factor-item/28/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:17:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:04 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:17:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:17:04 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:17:04 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:17:04 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:17:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:17:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:17:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:04 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:17:04 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:17:04 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:17:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:07 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:17:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:17:08 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:17:08 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:17:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:17:08 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'snejate'.
INFO 2025-08-03 14:17:08 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:17:08 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:17:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:21 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:17:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:17:21 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:17:21 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 12, user snejate, stage DRAFT
INFO 2025-08-03 14:17:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:17:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access GRANTED for user 'snejate'.
INFO 2025-08-03 14:17:21 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: تایید 1 گام 1
INFO 2025-08-03 14:17:21 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 16, status=APPROVE, comment=تایید 1 گام 1, is_temporary=False
INFO 2025-08-03 14:17:21 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-03 14:17:21 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 14:17:21 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-03 14:17:21 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 16 status to APPROVE
INFO 2025-08-03 14:17:21 models save Calculated amount for FactorItem pk=16: 600000.000
INFO 2025-08-03 14:17:21 models save FactorItem saved successfully (pk=16). Amount=600000.000, Status=APPROVE
INFO 2025-08-03 14:17:21 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Waiting for other approvers for factor 12
INFO 2025-08-03 14:17:21 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:17:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:21 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:17:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:17:21 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:17:21 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:17:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'snejate' in stage 'DRAFT'
WARNING 2025-08-03 14:17:21 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access DENIED for 'snejate' because they have already submitted their own final action.
INFO 2025-08-03 14:17:21 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:17:21 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:17:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:27 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 14:17:27 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:17:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:17:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:17:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:17:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:17:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:17:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:17:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:33 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:17:34 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:17:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:34 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 14:17:34 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:17:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:17:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 14:17:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 14:17:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:17:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:17:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:17:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 14:17:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:17:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:17:36 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:17:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:17:36 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:17:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:17:39 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:17:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:17:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:17:39 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:17:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Checking access for user 'beygh' in stage 'DRAFT'
WARNING 2025-08-03 14:17:39 fun_can_edit_approval can_edit_approval [can_edit_approval_v4] Access DENIED for 'beygh' because a higher-level user has already submitted a final action.
INFO 2025-08-03 14:17:39 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:17:39 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:19:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:19:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:19:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:19:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:19:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:19:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:21:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:21:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:21:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:21:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:21:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:21:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:22:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:22:00 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:22:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:22:00 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:22:00 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:22:00 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user 'beygh' in stage 'DRAFT'
WARNING 2025-08-03 14:22:00 fun_can_edit_approval can_edit_approval [can_edit_approval] Access DENIED for 'beygh' due to higher-level final action
INFO 2025-08-03 14:22:00 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:22:00 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:22:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:22:01 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:22:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:22:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:22:01 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:22:01 fun_can_edit_approval can_edit_approval [can_edit_approval] Checking access for user 'beygh' in stage 'DRAFT'
WARNING 2025-08-03 14:22:01 fun_can_edit_approval can_edit_approval [can_edit_approval] Access DENIED for 'beygh' due to higher-level final action
INFO 2025-08-03 14:22:01 view_FactorItemApprove get_context_data Final Approval Check: can_edit=False, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:22:01 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:22:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:22:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:22:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:22:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:22:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:22:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:24:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:24:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:24:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:24:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:26:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:26:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:26:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:26:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:28:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:28:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:28:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:28:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:30:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:30:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:30:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:30:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:30:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:30:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:32:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:32:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:32:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:32:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:32:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:32:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:34:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:34:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:34:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:34:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:35:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:35:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:35:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:35:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:35:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:35:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:35:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:35:32 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:35:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:35:33 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:35:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:33 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:35:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:33 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=False
INFO 2025-08-03 14:35:33 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:35:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:35:55 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:35:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:35:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:55 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 12, user beygh, stage DRAFT
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:55 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: بیگی 1
INFO 2025-08-03 14:35:55 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 16, status=APPROVE, comment=بیگی 1, is_temporary=False
INFO 2025-08-03 14:35:55 models save [ApprovalLog] Attempting to save new ApprovalLog for user beygh, action APPROVE
INFO 2025-08-03 14:35:55 models save [ApprovalLog] User beygh is_hq_user: True
INFO 2025-08-03 14:35:55 models save [ApprovalLog] User beygh has full access, saving directly
INFO 2025-08-03 14:35:55 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 16 status to APPROVE
INFO 2025-08-03 14:35:55 models save Calculated amount for FactorItem pk=16: 600000.000
INFO 2025-08-03 14:35:55 models save FactorItem saved successfully (pk=16). Amount=600000.000, Status=APPROVE
INFO 2025-08-03 14:35:55 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 12 to next stage
INFO 2025-08-03 14:35:55 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 3999400000.00
INFO 2025-08-03 14:35:55 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 12 finalized
INFO 2025-08-03 14:35:55 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 12
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
ERROR 2025-08-03 14:35:55 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 14:35:55 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:35:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:35:55 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: beygh
INFO 2025-08-03 14:35:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 14:35:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:55 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:35:55 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'beygh' in stage 'DRAFT'
INFO 2025-08-03 14:35:56 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-03 14:35:56 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:35:56 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:36:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:02 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-03 14:36:02 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:36:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:02 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:36:02 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:36:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:23 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:36:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:36:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:24 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-03 14:36:24 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:36:24 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:36:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:36:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:36:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:36:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:36:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: hfath
INFO 2025-08-03 14:36:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: hfath
INFO 2025-08-03 14:36:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:36:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: hfath
INFO 2025-08-03 14:36:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:36:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 14:36:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:36:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 4
INFO 2025-08-03 14:36:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:36:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: hfath
INFO 2025-08-03 14:36:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:36:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:36:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:36:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:36:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
ERROR 2025-08-03 14:36:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر hfath: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:36:35 check_user_access check_user_factor_access کاربر hfath دسترسی کامل دارد.
INFO 2025-08-03 14:36:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:36:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:36:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:42 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: hfath
INFO 2025-08-03 14:36:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:36:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:36:42 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:36:42 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:36:42 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:36:42 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:36:42 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:36:42 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:36:42 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:36:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:36:59 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: hfath
INFO 2025-08-03 14:36:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:36:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:36:59 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:36:59 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:36:59 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 12, user hfath, stage DRAFT
INFO 2025-08-03 14:36:59 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:37:00 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: هومن 1
INFO 2025-08-03 14:37:00 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 16, status=APPROVE, comment=هومن 1, is_temporary=False
INFO 2025-08-03 14:37:00 models save [ApprovalLog] Attempting to save new ApprovalLog for user hfath, action APPROVE
INFO 2025-08-03 14:37:00 models save [ApprovalLog] User hfath is_hq_user: True
INFO 2025-08-03 14:37:00 models save [ApprovalLog] User hfath has full access, saving directly
INFO 2025-08-03 14:37:00 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 16 status to APPROVE
INFO 2025-08-03 14:37:00 models save Calculated amount for FactorItem pk=16: 600000.000
INFO 2025-08-03 14:37:00 models save FactorItem saved successfully (pk=16). Amount=600000.000, Status=APPROVE
INFO 2025-08-03 14:37:00 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 12 to next stage
INFO 2025-08-03 14:37:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 14:37:00 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 12 finalized
INFO 2025-08-03 14:37:00 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 12
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
ERROR 2025-08-03 14:37:00 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 14:37:00 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:37:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:00 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: hfath
INFO 2025-08-03 14:37:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-03 14:37:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:37:00 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'hfath' in stage 'DRAFT'
INFO 2025-08-03 14:37:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'hfath'
INFO 2025-08-03 14:37:00 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:37:00 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:37:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:09 middleware __call__ درخواست به: /accounts/logout/, کاربر: hfath
INFO 2025-08-03 14:37:09 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 14:37:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:09 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:37:09 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:37:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:16 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:37:16 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 14:37:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:16 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 14:37:16 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 14:37:16 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 14:37:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:18 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 14:37:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 14:37:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 14:37:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 14:37:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 14:37:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 14:37:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 14:37:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:37:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:37:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:37:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 14:37:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 14:37:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 14:37:18 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 14:37:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:21 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:37:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:37:21 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:37:21 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:37:21 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:37:21 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:37:21 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:37:22 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:37:22 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:37:22 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:37:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:37:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:37:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:37:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:37:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:38:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:38:01 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:38:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:38:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:38:01 view_FactorItemApprove post [FactorItemApproveView] Processing POST for factor 12, user snejate, stage DRAFT
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:38:01 view_FactorItemApprove post [FactorItemApproveView] Processing bulk approval with status APPROVE, reason: نجاتی 2
INFO 2025-08-03 14:38:01 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Creating ApprovalLog for item 16, status=APPROVE, comment=نجاتی 2, is_temporary=False
INFO 2025-08-03 14:38:01 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-03 14:38:01 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 14:38:01 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-03 14:38:01 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Updating item 16 status to APPROVE
INFO 2025-08-03 14:38:01 models save Calculated amount for FactorItem pk=16: 600000.000
INFO 2025-08-03 14:38:01 models save FactorItem saved successfully (pk=16). Amount=600000.000, Status=APPROVE
INFO 2025-08-03 14:38:01 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] Advancing factor 12 to next stage
INFO 2025-08-03 14:38:01 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 14:38:01 view_FactorItemApprove _advance_factor_stage [FactorItemApproveView] Factor 12 finalized
INFO 2025-08-03 14:38:01 view_FactorItemApprove create_payment_order [FactorItemApproveView] شروع ایجاد دستور پرداخت برای فاکتور 12
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
ERROR 2025-08-03 14:38:01 view_FactorItemApprove create_payment_order [Stage] مرحله اولیه برای دستور پرداخت یافت نشد
INFO 2025-08-03 14:38:01 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 302
INFO 2025-08-03 14:38:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:38:01 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 14:38:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 14:38:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:38:01 view_FactorItemApprove get_context_data Current stage for get_context_data: HQ_ITDC - دفتر مرکزی شرکت توسعه گردشگری ایران (دفتر مرکزی) - مدیر عامل شرکت (HQ_ITDC) - حوزه دفتر مدیر عامل - DRAFT (ترتیب: 1) - DRAFT
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 14:38:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 14:38:01 view_FactorItemApprove get_context_data Final Approval Check: can_edit=True, is_final_stage=False, is_ready=True
INFO 2025-08-03 14:38:01 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 14:38:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:38:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:38:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:38:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:38:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:38:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:39:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:39:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:39:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:39:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:39:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:39:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:41:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:41:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:41:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:41:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:41:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:41:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:43:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:43:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:43:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:43:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:43:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:43:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:45:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:45:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:45:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:45:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:45:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:45:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:47:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:47:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:47:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:47:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:47:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:47:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:49:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:49:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:49:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:49:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:49:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:49:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:51:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:51:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:51:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:51:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:51:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:51:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:53:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:53:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:53:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:53:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:53:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:53:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:55:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:55:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:55:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:55:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:55:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:55:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 14:57:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:57:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 14:57:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 14:57:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 14:57:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 14:57:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:01:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:01:18 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:01:18 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:01:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:01:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:01:18 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:01:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:01:24 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:01:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:01:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:01:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:01:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:01:24 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:01:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:01:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:01:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:01:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:01:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:01:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:02:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:02:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:02:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:02:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:02:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:02:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:03:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:03:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:03:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:03:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:03:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:03:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:04:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:04:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:04:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:04:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:04:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:04:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:05:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:05:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:05:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:05:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:05:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:05:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:06:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:06:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:06:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:06:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:06:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:06:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:07:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:07:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:07:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:07:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:07:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:07:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:08:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:08:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:08:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:08:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:08:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:08:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:09:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:09:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:09:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:09:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:09:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:09:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:10:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:10:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:10:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:10:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:10:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:10:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:11:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:12 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:11:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:11:12 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:11:12 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:11:12 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:11:12 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:11:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:16 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:11:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:11:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:11:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:11:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:11:16 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:11:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:11:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:11:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:11:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:36 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:11:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:11:36 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:11:36 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:11:36 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:11:36 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:11:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:11:56 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:11:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:11:56 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:11:56 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:11:56 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:11:56 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:12:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:12:05 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:12:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:12:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:12:06 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:12:06 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:12:06 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:12:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:12:29 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:12:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:12:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:12:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:12:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:13:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:13:19 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:13:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:13:19 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:13:19 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:19 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:19 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:19 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:19 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:13:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:13:39 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:13:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:13:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:13:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:39 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:13:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:13:44 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:13:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:13:45 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:13:45 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:45 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:45 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:13:45 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:13:45 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:14:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:14:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:14:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:14:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:14:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:14:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:16:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:16:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:16:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:16:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:16:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:16:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:17:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:17:05 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:17:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:17:05 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:17:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:17:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:17:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:17:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:17:05 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:18:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:00 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:18:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:18:00 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:18:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:00 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:00 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:18:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:15 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:18:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:18:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:18:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:16 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:18:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:24 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:18:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:18:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:18:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:24 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:24 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:18:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:18:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:18:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:18:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:18:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:31 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:18:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:18:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:18:31 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:31 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:31 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:31 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:31 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:18:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:18:43 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:18:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:18:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:18:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:18:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:18:43 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:19:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:19:04 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:19:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:19:04 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:19:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:04 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:19:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:19:14 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:19:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:19:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:19:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:14 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:19:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:19:38 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:19:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:19:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:19:38 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:38 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:38 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:19:38 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:19:38 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:20:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:16 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:20:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:20:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:20:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:16 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:16 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:20:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:20:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:20:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:20:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:20:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:43 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:20:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:20:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:20:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:43 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:44 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:44 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:20:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:45 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:20:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:20:45 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:20:45 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:20:45 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:20:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:20:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:20:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:45 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:20:45 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:20:46 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:20:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:57 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:20:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:20:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:20:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:20:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:20:57 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:20:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:20:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:20:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:20:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:20:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:20:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:20:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:20:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:20:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:20:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:20:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:20:59 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:21:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:02 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-03 15:21:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:21:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:21:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:02 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:21:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:11 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:21:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:21:11 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:21:11 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:21:11 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:21:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:21:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:21:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:11 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:21:11 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:21:11 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:21:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:14 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: snejate
INFO 2025-08-03 15:21:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:21:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:14 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:21:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:20 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:21:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:21:20 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:21:20 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:21:20 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:21:20 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:21:20 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:21:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:21:20 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:21:20 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:21:20 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:21:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:25 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 15:21:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:21:25 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:21:25 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:25 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:25 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:21:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:50 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 15:21:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:21:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:21:50 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:50 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:50 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:50 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:50 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:21:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:21:57 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 15:21:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:21:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:21:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:21:57 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:21:57 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:22:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:22:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:22:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:22:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:22:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:22:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:24:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:24:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:24:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:24:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:24:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:26:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:01 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 15:26:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:26:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:26:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:01 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:01 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:26:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:03 middleware __call__ درخواست به: /tankhah/factor-item/30/approve/, کاربر: snejate
INFO 2025-08-03 15:26:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:26:04 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:26:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:04 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:04 middleware __call__ پاسخ برای /tankhah/factor-item/30/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:26:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:24 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:26:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:26:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:26:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:26:24 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:26:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:26:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:26:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:25 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:26:25 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:26:25 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:26:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:26:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:26:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:28 middleware __call__ درخواست به: /tankhah/factor-item/29/approve/, کاربر: snejate
INFO 2025-08-03 15:26:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:26:29 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:26:29 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:29 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:29 middleware __call__ پاسخ برای /tankhah/factor-item/29/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:26:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:34 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:26:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:26:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:26:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:26:34 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:26:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:26:34 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:26:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:34 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:26:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:26:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:26:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:26:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:26:38 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: snejate
INFO 2025-08-03 15:26:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:26:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:26:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:26:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:26:39 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:27:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:27:26 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 15:27:26 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 15:27:26 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 15:27:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:27:27 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:27:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:27:27 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:27:27 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:27:28 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:27:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 6
INFO 2025-08-03 15:27:28 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:27:28 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:27:28 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 6
INFO 2025-08-03 15:27:28 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 6
INFO 2025-08-03 15:27:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:27:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 6 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:27:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:27:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:27:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:27:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:27:28 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:27:28 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 6 فاکتور، مبلغ کل: 940100.00
INFO 2025-08-03 15:27:28 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:27:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:27:30 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-03 15:27:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-03 15:27:30 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:27:30 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 15:27:30 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-03 15:27:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:27:32 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-03 15:27:32 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 15:27:32 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1140100.00', 'project_returned': '0', 'project_remaining': '23998859900.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-03 15:27:32 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-03 15:28:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:00 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-03 15:28:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-03 15:28:00 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:28:00 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 15:28:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 15:28:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 15:28:00 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-03 15:28:00 view_Nfactor form_valid user_level: 6, current_stage: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED, min_level: 1
INFO 2025-08-03 15:28:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 15:28:00 view_Nfactor form_valid Factor saved: PK=36, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 15:28:00 models save Calculated amount for FactorItem pk=None: 500
INFO 2025-08-03 15:28:00 models save FactorItem saved successfully (pk=36). Amount=500, Status=PENDING
INFO 2025-08-03 15:28:00 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action CREATED
INFO 2025-08-03 15:28:00 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-03 15:28:00 models save [ApprovalLog] User snejate has full access, saving directly
WARNING 2025-08-03 15:28:00 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-03 15:28:00 models save Tankhah saved 👍with ID: 5
INFO 2025-08-03 15:28:00 models create_budget_transaction BudgetTransaction created: ID=78, TxID=TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002-1754222280, amount=500, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-03 15:28:00 models create_budget_transaction BudgetHistory recorded for TxID: TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002-1754222280
WARNING 2025-08-03 15:28:00 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-03 15:28:00 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-03 15:28:00 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-03 15:28:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:00 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 15:28:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 15:28:00 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 15:28:00 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 15:28:00 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 15:28:00 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 15:28:00 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 15:28:01 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 15:28:01 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-03 15:28:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 15:28:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 15:28:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 15:28:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 15:28:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 15:28:01 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 15:28:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:05 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:28:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:28:05 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:28:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:28:05 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:28:05 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:28:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:28:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:28:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:35 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:28:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:28:35 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:28:35 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:28:35 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:28:35 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:28:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:28:36 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:28:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:28:36 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:28:36 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:28:36 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:28:36 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:30:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:30:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:30:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:30:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:30:02 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:30:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:30:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:30:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:30:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:30:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:30:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:30:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:32:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:32:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:32:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:32:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:32:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:32:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:34:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:34:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:34:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:34:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:34:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:36:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:36:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:36:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:36:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:36:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:36:28 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:37:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:29 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:37:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:37:30 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:37:30 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:37:30 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:37:30 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:37:30 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:37:30 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:37:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:39 middleware __call__ درخواست به: /accounts/users/, کاربر: AnonymousUser
INFO 2025-08-03 15:37:39 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:37:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:40 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:37:40 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:37:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:42 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:37:43 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 15:37:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:43 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 15:37:43 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 15:37:43 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 15:37:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:37:51 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-03 15:37:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 15:37:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:37:51 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'admin' in stage 'DRAFT'
INFO 2025-08-03 15:37:51 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Superuser/global perm granted for 'admin'
INFO 2025-08-03 15:37:51 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:38:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:38:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:38:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:38:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:38:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:38:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:38:33 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:38:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:38:33 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:38:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:38:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:38:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:38:33 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:38:33 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:40:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:40:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:40:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:40:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:40:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:40:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:42:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:42:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:42:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:42:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:42:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:42:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:44:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:44:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:44:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:44:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:44:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:44:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:46:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:46:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:46:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:46:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:46:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:46:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:48:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:48:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:48:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:48:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:48:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:50:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:50:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:50:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:50:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:50:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:50:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:52:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:52:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:52:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:52:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 15:53:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:53:03 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:53:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:53:03 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:53:03 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:53:03 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:53:03 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:53:03 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:53:03 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 15:53:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:53:03 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 15:53:03 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 15:53:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:53:39 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:53:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:53:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:53:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:53:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:53:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:53:39 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:53:39 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:54:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:54:07 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:54:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:54:07 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:54:07 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:54:07 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:54:07 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:54:07 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:54:07 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:54:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:54:14 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 15:54:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 15:54:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 15:54:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:54:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:54:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] Checking access for user 'snejate' in stage 'DRAFT'
INFO 2025-08-03 15:54:14 fun_can_edit_approval can_edit_approval [can_edit_approval_combined] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-03 15:54:14 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 15:54:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:54:27 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 15:54:27 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 15:54:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 15:54:27 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 15:54:27 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 19:30:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:30:48 middleware __call__ درخواست به: /accounts/heartbeat/, کاربر: AnonymousUser
INFO 2025-08-03 19:30:48 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 19:30:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:30:48 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 19:30:48 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 19:31:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:05 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-03 19:31:05 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 19:31:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:05 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 19:31:05 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 19:31:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 19:31:09 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 19:31:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:09 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 19:31:09 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 19:31:09 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 19:31:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:11 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 19:31:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 19:31:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 19:31:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-03 19:31:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 19:31:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 19:31:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 19:31:13 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 19:31:13 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 19:31:14 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 19:31:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:17 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:31:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:31:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:31:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 19:31:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:31:18 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:31:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:35:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:35:19 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:35:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:35:19 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:35:20 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 19:35:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:35:20 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:35:20 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:37:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:37:28 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:37:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:37:28 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:37:28 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 19:37:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:37:28 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:37:28 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:37:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:37:38 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:37:38 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:37:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:37:41 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:37:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:37:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:37:41 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 19:37:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:37:41 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:37:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:41:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:41:28 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:41:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:41:28 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:41:28 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:41:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:41:53 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:41:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:41:53 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:41:53 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:46:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:46:44 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:46:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:46:44 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:46:44 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:49:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:49:19 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:49:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:49:19 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:49:19 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:49:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:49:22 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:49:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:49:22 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:49:22 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:49:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:49:55 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:49:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:49:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:49:56 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:50:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:50:16 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:50:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:50:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:50:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:55:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:55:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:55:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:55:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:55:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:55:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:55:15 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:55:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:55:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:55:40 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:55:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:55:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:55:41 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:55:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:55:41 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:55:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:57:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:57:00 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:57:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:57:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:57:01 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:57:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:57:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:57:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:57:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:57:03 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:57:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:57:51 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:57:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:57:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:57:51 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 19:57:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:57:51 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 19:57:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 19:58:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:58:06 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:58:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:58:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:58:06 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:58:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:58:13 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:58:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:58:13 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:58:13 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:58:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:58:27 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:58:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:58:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:58:27 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:59:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:59:06 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:59:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:59:06 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:59:06 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:59:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:59:18 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:59:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:59:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:59:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:59:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:59:19 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:59:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:59:20 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 19:59:20 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 19:59:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 19:59:55 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 19:59:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 19:59:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-03 19:59:55 view_FactorItemApprove post Form errors for item 36: <ul class="errorlist"><li>description<ul class="errorlist"><li>This field is required.</li></ul></li></ul>
INFO 2025-08-03 19:59:55 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:05:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:05:13 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:05:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:05:13 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-03 20:05:13 view_FactorItemApprove post Form errors for item 36: <ul class="errorlist"><li>description<ul class="errorlist"><li>This field is required.</li></ul></li></ul>
INFO 2025-08-03 20:05:13 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:20:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:20:29 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:20:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:20:29 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:20:29 view_FactorItemApprove _process_formset_actions No status provided for item 36, skipping.
INFO 2025-08-03 20:20:29 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:20:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:20:29 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:20:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:20:30 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:20:30 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:20:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:20:39 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:20:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:20:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:20:39 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:20:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:20:46 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:20:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:20:47 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:20:47 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:20:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:20:49 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:20:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:20:49 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:20:49 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:21:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:21:00 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:21:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:21:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:21:01 view_FactorItemApprove _process_formset_actions No status provided for item 36, skipping.
INFO 2025-08-03 20:21:01 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:21:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:21:01 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:21:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:21:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:21:01 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:21:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:21:19 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:21:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:21:19 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:21:20 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:22:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:22:29 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:22:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:22:29 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:22:30 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:22:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:22:34 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:22:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:22:34 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:22:34 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:22:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:22:44 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:22:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:22:45 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-03 20:22:45 view_FactorItemApprove post Error during factor approval for pk=36: FactorItemApproveView._process_formset_actions() takes 4 positional arguments but 5 were given
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 595, in post
    action_taken = self._process_formset_actions(formset, user, factor, current_stage)
TypeError: FactorItemApproveView._process_formset_actions() takes 4 positional arguments but 5 were given
INFO 2025-08-03 20:22:45 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:22:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:22:45 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:22:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:22:45 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:22:46 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:28:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:28:12 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:28:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:28:12 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:28:12 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:28:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:28:18 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:28:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:28:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-03 20:28:18 view_FactorItemApprove post Error during factor approval for pk=36: FactorItemApproveView._process_formset_actions() takes 4 positional arguments but 5 were given
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 598, in post
    action_taken = self._process_formset_actions(formset, user, factor, current_stage)
TypeError: FactorItemApproveView._process_formset_actions() takes 4 positional arguments but 5 were given
INFO 2025-08-03 20:28:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:28:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:28:18 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:28:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:28:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:28:19 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:30:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:30:31 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:30:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:30:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:30:31 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] No status provided for item 36, skipping.
INFO 2025-08-03 20:30:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:30:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:30:31 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:30:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:30:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:30:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:30:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:30:57 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:30:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:30:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:30:57 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:31:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:31:24 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:31:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:31:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:31:24 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:31:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:31:28 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:31:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:31:28 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:31:28 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] No status provided for item 36, skipping.
INFO 2025-08-03 20:31:28 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-03 20:31:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:31:28 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:31:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:31:29 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:31:29 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:32:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:32:41 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:32:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:32:41 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:32:41 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:32:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:32:41 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 20:32:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 20:32:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:32:56 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:32:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:32:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:32:57 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:51:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:51:04 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:51:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:51:04 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:51:04 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:51:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:51:18 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:51:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:51:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:51:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:51:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:51:24 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:51:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:51:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:51:24 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:57:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:57:30 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:57:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:57:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:57:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:57:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:57:34 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:57:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:57:35 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:57:35 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:57:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:57:46 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-03 20:57:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-03 20:57:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 20:57:47 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-03 20:57:47 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 20:57:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-03 20:57:47 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-03 20:57:47 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 20:57:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 20:57:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 20:57:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 20:57:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 20:57:48 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 20:57:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 20:57:49 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 20:57:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:57:53 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 20:57:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 20:57:54 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 20:57:54 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 20:58:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 20:58:18 middleware __call__ درخواست به: /.well-known/appspecific/com.chrome.devtools.json, کاربر: snejate
INFO 2025-08-03 20:58:18 middleware __call__ پاسخ برای /.well-known/appspecific/com.chrome.devtools.json - کد وضعیت: 404
INFO 2025-08-03 21:43:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:43:14 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: AnonymousUser
INFO 2025-08-03 21:43:14 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 21:43:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:43:14 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 21:43:14 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 21:43:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:43:16 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 21:43:17 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 21:43:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:43:17 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 21:43:17 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 21:43:17 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 21:43:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:43:17 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 21:43:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 21:43:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 21:43:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 21:44:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:44:39 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 21:44:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 21:44:39 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 21:44:39 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 21:44:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:44:49 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 21:44:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 21:44:49 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 21:44:49 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 21:45:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:45:14 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 21:45:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 21:45:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 21:45:14 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 21:45:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 21:45:31 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 21:45:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 21:45:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 21:45:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 22:12:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:36 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-03 22:12:36 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 22:12:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:36 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 22:12:36 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 22:12:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:38 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 22:12:38 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 22:12:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:38 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-03 22:12:38 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 22:12:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 22:12:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:40 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:12:40 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 403
INFO 2025-08-03 22:12:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:40 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:12:40 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:12:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:43 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:12:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:12:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:12:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:12:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:12:43 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:12:43 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:18:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:18:32 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:18:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:18:33 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:18:33 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:18:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:18:33 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:18:33 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:18:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:18:34 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:18:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:18:34 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:18:34 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:18:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:18:34 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:18:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:19:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:13 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:19:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:19:13 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:19:14 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:19:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:14 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:19:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:19:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:15 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:19:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:19:15 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:19:15 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:19:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:15 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:19:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:19:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:35 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:19:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:19:36 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:19:36 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:19:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:36 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:19:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:19:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:54 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:19:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:19:54 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:19:54 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-03 22:19:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:19:54 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-03 22:19:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 22:20:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:15 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:20:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:20:15 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:20:15 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 22:20:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:27 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-03 22:20:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-03 22:20:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:20:27 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 22:20:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:40 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-03 22:20:40 middleware __call__ کاربر  خارج شد
INFO 2025-08-03 22:20:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:40 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 22:20:41 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 22:20:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:45 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 22:20:45 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 22:20:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:45 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 22:20:45 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 22:20:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 22:20:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:20:57 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 22:20:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 22:20:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 22:20:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-03 22:20:57 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 22:20:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 22:20:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 22:20:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 22:20:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 22:20:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 22:21:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:21:17 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-03 22:21:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 22:21:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:21:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 22:31:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 22:31:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-03 22:31:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-03 22:31:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 22:31:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-03 23:07:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:07:08 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: AnonymousUser
INFO 2025-08-03 23:07:08 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 23:07:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:07:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 23:07:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 23:07:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:07:11 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 23:07:11 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 23:07:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:07:11 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 23:07:11 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 23:07:11 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-03 23:07:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:07:11 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 23:07:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 23:08:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:08:48 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-03 23:08:48 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 23:08:48 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 23:08:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:08:50 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-03 23:08:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-03 23:08:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 23:08:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-03 23:08:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 23:08:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-03 23:08:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-03 23:08:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 23:08:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 23:08:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 23:08:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 23:08:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-03 23:08:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:08:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 23:08:51 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 23:08:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:08:57 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
WARNING 2025-08-03 23:08:57 view_FactorItemApprove _check_permissions No current stage for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 23:08:57 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 500
INFO 2025-08-03 23:08:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:08:57 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 23:08:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 23:09:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:09:36 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
WARNING 2025-08-03 23:09:36 view_FactorItemApprove _check_permissions No current stage for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 23:09:36 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 500
INFO 2025-08-03 23:09:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:09:36 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 23:09:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 23:09:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:09:37 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
WARNING 2025-08-03 23:09:37 view_FactorItemApprove _check_permissions No current stage for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 23:09:37 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 500
INFO 2025-08-03 23:09:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:09:37 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-03 23:09:37 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-03 23:09:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:09:52 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
WARNING 2025-08-03 23:09:52 view_FactorItemApprove _check_permissions No current stage for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 23:09:52 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 200
INFO 2025-08-03 23:10:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:05 middleware __call__ درخواست به: /tankhah/factor/29/approval-path/, کاربر: AnonymousUser
INFO 2025-08-03 23:10:05 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-03 23:10:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:05 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 23:10:05 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-03 23:10:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:07 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-03 23:10:07 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-03 23:10:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:07 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-03 23:10:07 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-03 23:10:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-03 23:10:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:09 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-03 23:10:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-03 23:10:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-03 23:10:09 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-03 23:10:09 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-03 23:10:09 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-03 23:10:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-03 23:10:09 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-03 23:10:09 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-03 23:10:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-03 23:10:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-03 23:10:09 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-03 23:10:09 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-03 23:10:09 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-03 23:10:09 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-03 23:10:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:13 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: admin
WARNING 2025-08-03 23:10:13 view_FactorItemApprove _check_permissions No current stage for factor FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040512-HSarein-0002
INFO 2025-08-03 23:10:13 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 200
INFO 2025-08-03 23:10:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-03 23:10:16 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-03 23:10:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-03 23:10:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-03 23:10:16 from_Approved __init__ [FactorItemApprovalForm] No active post for user admin
INFO 2025-08-03 23:10:16 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:15:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:04 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 10:15:04 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 10:15:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:15:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:15:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:06 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:15:07 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 10:15:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:07 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-04 10:15:07 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 10:15:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 10:15:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:08 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
INFO 2025-08-04 10:15:08 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 404
INFO 2025-08-04 10:15:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:08 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:15:08 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:15:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:12 middleware __call__ درخواست به: /tankhah/factors/36/bulk-approve/, کاربر: beygh
INFO 2025-08-04 10:15:12 middleware __call__ پاسخ برای /tankhah/factors/36/bulk-approve/ - کد وضعیت: 404
INFO 2025-08-04 10:15:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:12 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:15:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:15:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:14 middleware __call__ درخواست به: /tankhah/factors/36/, کاربر: beygh
INFO 2025-08-04 10:15:14 middleware __call__ پاسخ برای /tankhah/factors/36/ - کد وضعیت: 500
INFO 2025-08-04 10:15:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:15 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:15:15 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:15:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:17 middleware __call__ درخواست به: /tankhah/factors, کاربر: beygh
INFO 2025-08-04 10:15:17 middleware __call__ پاسخ برای /tankhah/factors - کد وضعیت: 404
INFO 2025-08-04 10:15:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:17 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 10:15:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 10:15:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 10:15:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 10:15:17 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 10:15:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 10:15:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 10:15:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 10:15:18 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-04 10:15:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:18 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:15:18 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:15:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:21 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 10:15:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 10:15:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 10:15:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 10:15:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 10:15:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 10:15:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:21 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 10:15:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 10:15:21 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 500
INFO 2025-08-04 10:15:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:22 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:15:22 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:15:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:15:56 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 10:15:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 10:15:56 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 10:15:56 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 5
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 10:15:56 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 10:15:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 10:15:56 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-04 10:15:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:56 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 10:15:57 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 10:15:57 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 10:15:57 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 10:16:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:16:00 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:16:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:16:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:16:01 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:16:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:16:01 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:16:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:18:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:18:11 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:18:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:18:11 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:18:11 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:18:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:18:11 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:18:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:19:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:19:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:19:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:19:03 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:19:03 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:19:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:19:03 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:19:03 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:21:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:21:51 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:21:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:21:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:21:51 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:21:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:21:51 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:21:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:22:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:22:34 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:22:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:22:34 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:22:35 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:23:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:23:24 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:23:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:23:24 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:23:25 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:23:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:23:26 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:23:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:23:26 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:23:26 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:23:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:23:27 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:23:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:23:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:23:27 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:23:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:23:31 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:23:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:23:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:23:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:24:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:24:08 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:24:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:24:08 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:24:09 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:25:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:05 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:25:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:25:05 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:25:05 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:25:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:05 middleware __call__ درخواست به: /favicon.ico, کاربر: beygh
INFO 2025-08-04 10:25:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:25:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:16 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:25:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:25:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:25:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:25:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:29 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 10:25:29 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 10:25:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:29 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:25:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:25:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:31 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:25:32 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 10:25:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:32 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 10:25:32 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 10:25:32 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 10:25:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:25:34 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-04 10:25:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 10:25:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-04 10:25:34 from_Approved __init__ [FactorItemApprovalForm] No active post for user admin
INFO 2025-08-04 10:25:34 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:32:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:32:51 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:32:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:32:51 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:32:51 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:32:51 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:32:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:32:54 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:32:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:32:54 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:32:54 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:32:54 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:32:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:32:55 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:32:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:32:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:32:55 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:32:55 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:40:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:40:50 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:40:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:40:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:40:50 from_Approved __init__ [FactorItemApprovalForm] User 'beygh' is HQ user. Adding all actions
INFO 2025-08-04 10:40:50 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:40:51 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:41:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:41:43 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:41:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:41:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:41:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:41:43 from_Approved __init__ [FactorItemApprovalForm] User 'beygh' is HQ user. Adding all actions
INFO 2025-08-04 10:41:43 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Processing item 36: status=APPROVE, comment=, is_temporary=False
INFO 2025-08-04 10:41:43 models save [ApprovalLog] Attempting to save new ApprovalLog for user beygh, action APPROVE
INFO 2025-08-04 10:41:43 models save [ApprovalLog] User beygh is_hq_user: True
INFO 2025-08-04 10:41:43 models save [ApprovalLog] User beygh has full access, saving directly
INFO 2025-08-04 10:41:43 models save Calculated amount for FactorItem pk=36: 500.000
INFO 2025-08-04 10:41:43 models save FactorItem saved successfully (pk=36). Amount=500.000, Status=APPROVE
INFO 2025-08-04 10:41:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:41:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:41:43 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: beygh
INFO 2025-08-04 10:41:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 10:41:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:41:43 from_Approved __init__ [FactorItemApprovalForm] User 'beygh' is HQ user. Adding all actions
INFO 2025-08-04 10:41:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 10:41:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:42:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:30 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-04 10:42:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 10:42:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-04 10:42:30 from_Approved __init__ [FactorItemApprovalForm] No active post for user 'admin'
INFO 2025-08-04 10:42:30 from_Approved __init__ [FactorItemApprovalForm] User 'admin' has superuser/global perm. Adding all actions
INFO 2025-08-04 10:42:30 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:42:31 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:42:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:43 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-04 10:42:43 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 10:42:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:42:43 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:42:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:48 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:42:49 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 10:42:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:49 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 10:42:49 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 10:42:49 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 10:42:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:42:53 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:42:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:42:53 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:42:53 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding all actions
INFO 2025-08-04 10:42:53 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:42:53 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:43:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:43:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:43:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:43:02 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:43:02 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding all actions
WARNING 2025-08-04 10:43:02 view_FactorItemApprove post [FactorItemApproveView] No changes to process
INFO 2025-08-04 10:43:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:43:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:02 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:43:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:43:02 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:43:02 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding all actions
INFO 2025-08-04 10:43:02 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:43:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:43:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:15 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-04 10:43:15 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 10:43:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:15 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:43:15 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:43:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:21 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:43:22 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 10:43:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:22 middleware __call__ درخواست به: /, کاربر: hfath
ERROR 2025-08-04 10:43:22 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 10:43:22 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 10:43:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:23 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:43:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:43:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:43:23 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding all actions
INFO 2025-08-04 10:43:23 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:43:23 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:43:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:32 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:43:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:43:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:43:33 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:43:33 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding all actions
WARNING 2025-08-04 10:43:33 view_FactorItemApprove post [FactorItemApproveView] No changes to process
INFO 2025-08-04 10:43:33 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:43:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:43:33 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:43:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:43:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:43:33 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding all actions
INFO 2025-08-04 10:43:33 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:43:33 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:46:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:46:50 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 10:46:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 10:46:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:46:51 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-04 10:47:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:47:35 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 10:47:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 10:47:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:47:36 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-04 10:47:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:47:36 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:47:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:47:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:47:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:36 views_accessrule get_queryset AccessRule queryset count: 594
INFO 2025-08-04 10:47:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:36 views_accessrule get_queryset AccessRule queryset count: 594
INFO 2025-08-04 10:47:36 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:47:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:47:46 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:47:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:47:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:47:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:46 views_accessrule get_queryset AccessRule queryset count: 129
INFO 2025-08-04 10:47:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:46 views_accessrule get_queryset AccessRule queryset count: 129
INFO 2025-08-04 10:47:46 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:47:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:47:54 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:47:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:47:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:47:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:54 views_accessrule get_queryset AccessRule queryset count: 0
INFO 2025-08-04 10:47:54 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:54 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:54 views_accessrule get_queryset AccessRule queryset count: 0
INFO 2025-08-04 10:47:54 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:47:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:47:57 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:47:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:47:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:47:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:57 views_accessrule get_queryset AccessRule queryset count: 71
INFO 2025-08-04 10:47:57 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:47:57 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:47:57 views_accessrule get_queryset AccessRule queryset count: 71
INFO 2025-08-04 10:47:57 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:48:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:01 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:48:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:48:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:48:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:48:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:48:01 views_accessrule get_queryset AccessRule queryset count: 594
INFO 2025-08-04 10:48:01 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 404
INFO 2025-08-04 10:48:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 10:48:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:05 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:48:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:48:05 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:48:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:48:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:48:05 views_accessrule get_queryset AccessRule queryset count: 594
INFO 2025-08-04 10:48:05 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 404
INFO 2025-08-04 10:48:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:05 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 10:48:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:48:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:15 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:48:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:48:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:48:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:48:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:48:15 views_accessrule get_queryset AccessRule queryset count: 22
INFO 2025-08-04 10:48:15 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:48:15 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:48:15 views_accessrule get_queryset AccessRule queryset count: 22
INFO 2025-08-04 10:48:15 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:48:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:48:28 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:48:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:48:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:48:28 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding all actions
INFO 2025-08-04 10:48:29 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:48:29 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:50:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:50:22 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:50:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:50:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:50:22 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:50:22 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:50:22 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:50:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:50:46 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 10:50:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 10:50:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:50:46 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-04 10:51:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:51:16 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 10:51:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 10:51:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:51:17 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-04 10:51:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:51:17 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 10:51:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 10:51:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:51:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:51:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:51:17 views_accessrule get_queryset AccessRule queryset count: 580
INFO 2025-08-04 10:51:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 10:51:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 10:51:17 views_accessrule get_queryset AccessRule queryset count: 580
INFO 2025-08-04 10:51:17 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 10:51:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:51:21 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:51:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:51:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:51:21 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:51:21 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:51:21 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:51:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:51:21 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:51:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:51:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:51:21 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:51:21 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:51:21 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:51:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:51:21 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:51:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:51:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:51:22 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:51:22 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:51:22 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:53:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:53:01 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:53:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:53:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:53:02 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:53:02 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 10:53:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:53:02 middleware __call__ درخواست به: /favicon.ico, کاربر: hfath
INFO 2025-08-04 10:53:02 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 10:53:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:53:32 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:53:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:53:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:53:32 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:53:32 from_Approved __init__ ACTION_TYPES (('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:53:32 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:53:32 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:54:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:54:10 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:54:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:54:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:54:10 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:54:10 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:54:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:54:10 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:55:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:55:00 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:55:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:55:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:55:00 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:55:00 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:55:00 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:55:00 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:56:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:56:03 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:56:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:56:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:56:03 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:56:03 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:56:03 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:56:03 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Processing item 36: status=APPROVE, comment=تست تایید شده فتحی, is_temporary=False
INFO 2025-08-04 10:56:03 models save [ApprovalLog] Attempting to save new ApprovalLog for user hfath, action APPROVE
INFO 2025-08-04 10:56:03 models save [ApprovalLog] User hfath is_hq_user: True
INFO 2025-08-04 10:56:03 models save [ApprovalLog] User hfath has full access, saving directly
INFO 2025-08-04 10:56:03 models save Calculated amount for FactorItem pk=36: 500.000
INFO 2025-08-04 10:56:03 models save FactorItem saved successfully (pk=36). Amount=500.000, Status=APPROVE
INFO 2025-08-04 10:56:03 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:56:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:56:03 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: hfath
INFO 2025-08-04 10:56:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: hfath
INFO 2025-08-04 10:56:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:56:04 from_Approved __init__ [FactorItemApprovalForm] User 'hfath' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 10:56:04 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:56:04 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'hfath' has superuser/global perm. GRANTED.
INFO 2025-08-04 10:56:04 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:57:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:23 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 10:57:24 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 10:57:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:24 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:57:24 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:57:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:28 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:57:29 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 10:57:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:34 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 10:57:34 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 10:57:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:34 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 10:57:35 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 10:57:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 10:57:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:57:42 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:57:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:57:42 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:57:42 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:57:42 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:57:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:57:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:58:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:03 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:03 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:03 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:03 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:03 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:03 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Processing item 36: status=APPROVE, comment=اقدام از پایین, is_temporary=False
INFO 2025-08-04 10:58:03 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-04 10:58:03 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-04 10:58:03 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-04 10:58:03 models save Calculated amount for FactorItem pk=36: 500.000
INFO 2025-08-04 10:58:03 models save FactorItem saved successfully (pk=36). Amount=500.000, Status=APPROVE
ERROR 2025-08-04 10:58:03 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] No approvers defined for stage DRAFT
ERROR 2025-08-04 10:58:03 view_FactorItemApprove post [FactorItemApproveView] Error during processing: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 235, in post
    self._check_workflow_advancement(factor, current_stage)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 372, in _check_workflow_advancement
    raise ValueError(_(f"پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله '{current_stage.stage}' تعریف نشده است."))
ValueError: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
INFO 2025-08-04 10:58:03 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:58:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:04 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:04 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:04 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:04 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:04 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:04 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:58:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:26 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:27 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:27 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
WARNING 2025-08-04 10:58:27 view_FactorItemApprove post [FactorItemApproveView] Formset invalid: []
INFO 2025-08-04 10:58:27 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:27 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:58:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:32 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:32 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:32 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:32 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:32 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:33 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:58:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:38 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:38 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:38 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:38 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:38 view_FactorItemApprove _process_formset_actions [FactorItemApproveView] Processing item 36: status=APPROVE, comment=تایید نجاتی, is_temporary=False
INFO 2025-08-04 10:58:38 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-04 10:58:38 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-04 10:58:38 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-04 10:58:38 models save Calculated amount for FactorItem pk=36: 500.000
INFO 2025-08-04 10:58:38 models save FactorItem saved successfully (pk=36). Amount=500.000, Status=APPROVE
ERROR 2025-08-04 10:58:38 view_FactorItemApprove _check_workflow_advancement [FactorItemApproveView] No approvers defined for stage DRAFT
ERROR 2025-08-04 10:58:38 view_FactorItemApprove post [FactorItemApproveView] Error during processing: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 235, in post
    self._check_workflow_advancement(factor, current_stage)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 372, in _check_workflow_advancement
    raise ValueError(_(f"پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله '{current_stage.stage}' تعریف نشده است."))
ValueError: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
INFO 2025-08-04 10:58:38 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:58:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:38 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:39 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:39 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:39 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:39 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 10:58:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:47 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:47 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:47 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:47 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:47 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
WARNING 2025-08-04 10:58:47 view_FactorItemApprove post [FactorItemApproveView] No changes to process
INFO 2025-08-04 10:58:47 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 10:58:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 10:58:47 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 10:58:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 10:58:47 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 10:58:48 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 10:58:48 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 10:58:48 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 10:58:48 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:01:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:01:43 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-04 11:01:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 11:01:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-04 11:01:43 from_Approved __init__ [FactorItemApprovalForm] No active post for user 'admin'
INFO 2025-08-04 11:01:43 from_Approved __init__ [FactorItemApprovalForm] User 'admin' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 11:01:43 from_Approved __init__ ACTION_TYPES 👎👎🤣🤣(('DRAFT', 'پیش\u200cنویس'), ('PENDING', 'در حال بررسی'), ('APPROVE', 'تأیید شده'), ('REJECT', 'رد شده'), ('STAGE_CHANGE', 'تغییر مرحله'), ('DELETE', 'حذف'), ('CREATE', 'ایجاد'), ('EDIT', 'ویرایش'), ('VIEW', 'مشاهده'), ('PAID', 'پرداخت شده'), ('PARTIAL', 'تأیید جزئی'), ('PENDING_APPROVAL', 'در انتظار تأیید'), ('APPROVED_INTERMEDIATE', 'تأیید میانی'), ('APPROVED_FINAL', 'تأیید نهایی'), ('SIGN_PAYMENT', 'امضای دستور پرداخت'), ('SENT_TO_HQ', 'ارسال\u200cشده به HQ'), ('HQ_OPS_PENDING', 'در حال بررسی - بهره\u200cبرداری'), ('HQ_OPS_APPROVED', 'تأییدشده - بهره\u200cبرداری'), ('HQ_FIN_PENDING', 'در حال بررسی - مالی'), ('TEMP_APPROVED', 'تأیید موقت'))
INFO 2025-08-04 11:01:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-04 11:01:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:10:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:10:22 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-04 11:10:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 11:10:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-04 11:10:22 from_Approved __init__ [FactorItemApprovalForm] No active post for user 'admin'
INFO 2025-08-04 11:10:22 from_Approved __init__ [FactorItemApprovalForm] User 'admin' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 11:10:22 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-04 11:10:23 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:10:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:10:55 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:10:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:10:55 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:10:55 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:10:55 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:10:55 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:10:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:10:57 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:10:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:10:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:10:57 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:10:57 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:10:57 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:10:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:10:58 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:10:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:10:58 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:10:58 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:10:58 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:10:58 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:10:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:10:58 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:10:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:10:58 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:10:58 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:10:59 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:10:59 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:16:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:16:18 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:16:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:16:18 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:16:18 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:16:18 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:16:18 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:16:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:16:20 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:16:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:16:20 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:16:20 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:16:20 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:16:20 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:16:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:16:38 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:16:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:16:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:16:38 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:16:38 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:16:38 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:19:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:19:17 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:19:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:19:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:19:17 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:19:17 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:19:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:20:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:20:10 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:20:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:20:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:20:10 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:20:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:20:10 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:22:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:22:10 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:22:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:22:11 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:22:11 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:22:11 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:22:11 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:22:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:22:13 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:22:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:22:13 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:22:13 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:22:13 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:22:13 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:22:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:22:14 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:22:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:22:14 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:22:14 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:22:15 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:22:15 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:22:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:22:16 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:22:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:22:16 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:22:16 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:22:17 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:22:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:24:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:24:11 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:24:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:24:12 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:24:12 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:24:12 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 11:24:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:24:12 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 11:24:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 11:24:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:24:56 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:24:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:24:57 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:24:57 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:24:57 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 11:24:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:24:57 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 11:24:57 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 11:24:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:24:59 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:24:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:24:59 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:24:59 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:24:59 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:24:59 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:25:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:25:33 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:25:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:25:34 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:25:34 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
WARNING 2025-08-04 11:25:34 view_FactorItemApprove post [FactorItemApproveView] Formset invalid: []
INFO 2025-08-04 11:25:34 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:25:34 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:25:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:25:38 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:25:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:25:38 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:25:38 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
WARNING 2025-08-04 11:25:38 view_FactorItemApprove post [FactorItemApproveView] Formset invalid: []
INFO 2025-08-04 11:25:38 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:25:38 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:25:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:25:40 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:25:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:25:40 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:25:40 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:25:40 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:25:40 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:25:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:25:46 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:25:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:25:46 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:25:46 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:25:46 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:25:46 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action APPROVE
INFO 2025-08-04 11:25:46 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-04 11:25:46 models save [ApprovalLog] User snejate has full access, saving directly
INFO 2025-08-04 11:25:46 models save Calculated amount for FactorItem pk=36: 500.000
INFO 2025-08-04 11:25:46 models save FactorItem saved successfully (pk=36). Amount=500.000, Status=APPROVE
ERROR 2025-08-04 11:25:46 view_FactorItemApprove post [FactorItemApproveView] Error during processing: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 225, in post
    self._check_workflow_advancement(factor, current_stage)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\Approved\view_FactorItemApprove.py", line 355, in _check_workflow_advancement
    raise ValueError(_(f"پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله '{current_stage.stage}' تعریف نشده است."))
ValueError: پیکربندی ناقص: هیچ تأییدکننده‌ای برای مرحله 'DRAFT' تعریف نشده است.
INFO 2025-08-04 11:25:46 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 302
INFO 2025-08-04 11:25:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:25:46 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:25:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:25:46 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:25:46 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:25:46 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:25:46 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:26:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:26:17 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 11:26:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 11:26:17 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 11:26:17 from_Approved __init__ [FactorItemApprovalForm] User 'snejate' is HQ user. Adding allowed actions
INFO 2025-08-04 11:26:17 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 11:26:17 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 11:27:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 11:27:06 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: admin
INFO 2025-08-04 11:27:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 11:27:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
WARNING 2025-08-04 11:27:06 from_Approved __init__ [FactorItemApprovalForm] No active post for user 'admin'
INFO 2025-08-04 11:27:06 from_Approved __init__ [FactorItemApprovalForm] User 'admin' has superuser/global perm. Adding allowed actions
INFO 2025-08-04 11:27:06 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'admin' has superuser/global perm. GRANTED.
INFO 2025-08-04 11:27:06 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:21:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:29 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 13:21:30 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 13:21:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:30 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:21:30 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 13:21:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:45 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:21:46 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 13:21:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:46 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 13:21:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 13:21:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 13:21:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 13:21:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 13:21:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 13:21:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 13:21:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 13:21:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 13:21:50 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-04 13:21:50 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 13:21:50 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 13:21:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 13:21:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 13:21:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-04 13:21:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:21:51 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 13:21:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
ERROR 2025-08-04 13:21:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:21:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 13:21:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
ERROR 2025-08-04 13:21:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
ERROR 2025-08-04 13:21:51 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 13:21:51 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 13:21:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
ERROR 2025-08-04 13:21:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
INFO 2025-08-04 13:21:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
ERROR 2025-08-04 13:21:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:52 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
ERROR 2025-08-04 13:21:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:21:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:21:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:21:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:21:53 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:21:53 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 13:21:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 13:22:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:22:00 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 13:22:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:22:01 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:22:01 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:22:01 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 500
INFO 2025-08-04 13:22:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:22:01 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 13:22:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 13:41:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:41:31 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 13:41:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:41:31 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:41:32 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:41:32 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:50:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:50:42 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: snejate
INFO 2025-08-04 13:50:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:50:43 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:50:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:50:43 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:51:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:04 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-04 13:51:04 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 13:51:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:04 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:51:04 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 13:51:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:12 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:51:14 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 13:51:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:14 middleware __call__ درخواست به: /, کاربر: foad
ERROR 2025-08-04 13:51:14 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 13:51:14 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 13:51:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:16 middleware __call__ درخواست به: /tankhah/factors/, کاربر: foad
INFO 2025-08-04 13:51:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: foad
INFO 2025-08-04 13:51:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:51:16 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: foad
INFO 2025-08-04 13:51:16 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 13:51:16 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 13:51:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 13:51:16 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {7}, سطح: 3
INFO 2025-08-04 13:51:16 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 13:51:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: foad
INFO 2025-08-04 13:51:16 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
INFO 2025-08-04 13:51:16 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:16 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:16 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:16 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:16 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:17 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:17 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
ERROR 2025-08-04 13:51:17 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر foad: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:51:17 check_user_access check_user_factor_access کاربر foad دسترسی کامل دارد.
INFO 2025-08-04 13:51:17 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 13:51:17 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 13:51:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:20 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: foad
INFO 2025-08-04 13:51:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:51:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:51:21 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:51:21 middleware __call__ پاسخ برای /tankhah/factor-item/36/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:51:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:43 middleware __call__ درخواست به: /tankhah/factor-item/35/approve/, کاربر: foad
INFO 2025-08-04 13:51:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:51:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:51:44 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:51:44 middleware __call__ پاسخ برای /tankhah/factor-item/35/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:51:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:51:52 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: foad
INFO 2025-08-04 13:51:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:51:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:51:52 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:51:52 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:52:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:52:01 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: foad
INFO 2025-08-04 13:52:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:52:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:52:02 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:52:02 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:52:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:52:26 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: foad
INFO 2025-08-04 13:52:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:52:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:52:26 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:52:26 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 500
INFO 2025-08-04 13:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:52:27 middleware __call__ درخواست به: /favicon.ico, کاربر: foad
INFO 2025-08-04 13:52:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 13:52:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:52:43 middleware __call__ درخواست به: /tankhah/factor-item/32/approve/, کاربر: foad
INFO 2025-08-04 13:52:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: foad
INFO 2025-08-04 13:52:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:52:43 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'foad' has superuser/global perm. GRANTED.
INFO 2025-08-04 13:52:43 middleware __call__ پاسخ برای /tankhah/factor-item/32/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:53:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:08 middleware __call__ درخواست به: /accounts/logout/, کاربر: foad
INFO 2025-08-04 13:53:08 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 13:53:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:08 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:53:08 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 13:53:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:53:19 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 13:53:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:19 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 13:53:19 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 13:53:20 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 13:53:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:22 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 13:53:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 13:53:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 13:53:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 7
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 7
INFO 2025-08-04 13:53:22 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 7
INFO 2025-08-04 13:53:22 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 13:53:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 7 فاکتور برای گروه‌بندی
ERROR 2025-08-04 13:53:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:53:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 7 فاکتور، مبلغ کل: 940600.00
INFO 2025-08-04 13:53:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 13:53:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:26 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 13:53:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 13:53:26 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:53:26 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 13:53:26 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 13:53:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:29 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 13:53:29 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 13:53:29 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1140600.00', 'project_returned': '0', 'project_remaining': '23998859400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 13:53:29 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 13:53:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:36 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 13:53:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 13:53:36 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:53:36 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 13:53:37 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 13:53:37 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 13:53:37 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 13:53:37 view_Nfactor form_valid user_level: 6, current_stage: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED, min_level: 1
INFO 2025-08-04 13:53:37 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 13:53:37 view_Nfactor form_valid Factor saved: PK=37, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001
INFO 2025-08-04 13:53:37 models save Calculated amount for FactorItem pk=None: 5000
INFO 2025-08-04 13:53:37 models save FactorItem saved successfully (pk=37). Amount=5000, Status=PENDING
INFO 2025-08-04 13:53:37 models save [ApprovalLog] Attempting to save new ApprovalLog for user snejate, action CREATED
INFO 2025-08-04 13:53:37 models save [ApprovalLog] User snejate is_hq_user: True
INFO 2025-08-04 13:53:37 models save [ApprovalLog] User snejate has full access, saving directly
WARNING 2025-08-04 13:53:37 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-04 13:53:37 models save Tankhah saved 👍with ID: 5
INFO 2025-08-04 13:53:37 models create_budget_transaction BudgetTransaction created: ID=79, TxID=TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001-1754303017, amount=5000, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-04 13:53:37 models create_budget_transaction BudgetHistory recorded for TxID: TX-FAC-FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001-1754303017
WARNING 2025-08-04 13:53:37 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-04 13:53:37 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 13:53:37 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 13:53:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:37 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 13:53:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 13:53:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 13:53:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 6
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 13:53:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 13:53:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 13:53:38 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 13:53:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:38 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 13:53:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 13:53:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 13:53:39 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 13:53:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:46 middleware __call__ درخواست به: /tankhah/factor/37/approval-path/, کاربر: snejate
INFO 2025-08-04 13:53:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: snejate
INFO 2025-08-04 13:53:47 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:53:47 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 37
INFO 2025-08-04 13:53:47 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: snejate
INFO 2025-08-04 13:53:47 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-08-04 13:53:47 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
INFO 2025-08-04 13:53:47 middleware __call__ پاسخ برای /tankhah/factor/37/approval-path/ - کد وضعیت: 500
INFO 2025-08-04 13:53:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:47 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 13:53:47 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 13:53:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:53:49 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 13:53:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:53:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:53:50 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:53:50 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:54:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:54:59 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 13:54:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:54:59 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:54:59 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 500
INFO 2025-08-04 13:54:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:54:59 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 13:54:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 13:55:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:55:10 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 13:55:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:55:10 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:55:10 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:55:10 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:55:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:55:49 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 13:55:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:55:50 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:55:50 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:55:50 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:56:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:56:00 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 13:56:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 13:56:00 PermissionBase _has_organization_access [PermissionBaseView] کاربر HQ یا superuser یا دارای Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:56:00 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 13:56:01 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 13:57:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:57:47 middleware __call__ درخواست به: /tankhah/factor-item/36/approve/, کاربر: AnonymousUser
INFO 2025-08-04 13:57:47 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 13:57:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:57:47 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:57:47 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 13:57:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:57:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 13:57:56 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 13:57:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:57:56 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 13:57:57 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 13:57:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 13:58:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:04 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-04 13:58:04 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-04 13:58:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:06 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-04 13:58:06 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-04 13:58:06 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-04 13:58:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:10 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-04 13:58:10 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-04 13:58:10 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-04 13:58:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:10 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-04 13:58:10 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-04 13:58:10 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-04 13:58:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:12 middleware __call__ درخواست به: /accounts/users/3/edit/, کاربر: admin
INFO 2025-08-04 13:58:12 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-04 13:58:12 middleware __call__ پاسخ برای /accounts/users/3/edit/ - کد وضعیت: 200
INFO 2025-08-04 13:58:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:18 middleware __call__ درخواست به: /accounts/users/, کاربر: admin
INFO 2025-08-04 13:58:19 has_role_permission _wrapped_view کاربر سوپریوزر است، دسترسی کامل 👍
INFO 2025-08-04 13:58:19 middleware __call__ پاسخ برای /accounts/users/ - کد وضعیت: 200
INFO 2025-08-04 13:58:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:20 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 13:58:20 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 13:58:21 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 13:58:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:27 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-08-04 13:58:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-08-04 13:58:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:58:27 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-08-04 13:58:27 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 13:58:27 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-08-04 13:58:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:58:41 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-08-04 13:58:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-08-04 13:58:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:58:41 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-08-04 13:58:41 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 13:58:41 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-08-04 13:59:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:59:01 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 13:59:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 13:59:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 13:59:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 13:59:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 13:59:01 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 13:59:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 13:59:01 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 13:59:01 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:00:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:00:11 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 14:00:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 14:00:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:00:11 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 14:00:11 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:00:11 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 14:00:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:00:12 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:00:12 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:00:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:00:48 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 14:00:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 14:00:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:00:48 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 14:00:48 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:00:48 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 14:00:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:00:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:00:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:07:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:07:54 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:07:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:07:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:07:56 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:07:56 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:07:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:08:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:02 middleware __call__ درخواست به: /userposts/, کاربر: admin
INFO 2025-08-04 14:08:02 PermissionBase dispatch [PermissionBaseView] شروع dispatch در UserPostListView برای کاربر: admin
INFO 2025-08-04 14:08:02 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:08:02 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای UserPostListView
INFO 2025-08-04 14:08:02 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:08:02 middleware __call__ پاسخ برای /userposts/ - کد وضعیت: 200
INFO 2025-08-04 14:08:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:06 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-04 14:08:06 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-04 14:08:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:08:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:08:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:17 middleware __call__ درخواست به: /userposts/, کاربر: admin
INFO 2025-08-04 14:08:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در UserPostListView برای کاربر: admin
INFO 2025-08-04 14:08:17 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:08:17 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای UserPostListView
INFO 2025-08-04 14:08:17 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:08:17 middleware __call__ پاسخ برای /userposts/ - کد وضعیت: 200
INFO 2025-08-04 14:08:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:21 middleware __call__ درخواست به: /userposts/1/update/, کاربر: admin
INFO 2025-08-04 14:08:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در UserPostUpdateView برای کاربر: admin
INFO 2025-08-04 14:08:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:08:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای UserPostUpdateView
INFO 2025-08-04 14:08:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:08:21 middleware __call__ پاسخ برای /userposts/1/update/ - کد وضعیت: 200
INFO 2025-08-04 14:08:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:30 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-04 14:08:30 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-04 14:08:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:35 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:08:35 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:08:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:08:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:39 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-04 14:08:39 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-04 14:08:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:41 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:08:41 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:08:41 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:08:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:08:46 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 14:08:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 14:08:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:08:47 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-04 14:09:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:09:21 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 14:09:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 14:09:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:09:22 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 302
INFO 2025-08-04 14:09:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:09:22 middleware __call__ درخواست به: /access-rules/, کاربر: admin
INFO 2025-08-04 14:09:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در AccessRuleListView برای کاربر: admin
INFO 2025-08-04 14:09:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:09:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 14:09:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:09:22 views_accessrule get_queryset AccessRule queryset count: 570
INFO 2025-08-04 14:09:22 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای AccessRuleListView
INFO 2025-08-04 14:09:22 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:09:22 views_accessrule get_queryset AccessRule queryset count: 570
INFO 2025-08-04 14:09:22 middleware __call__ پاسخ برای /access-rules/ - کد وضعیت: 200
INFO 2025-08-04 14:25:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:25:13 middleware __call__ درخواست به: /admin/, کاربر: admin
INFO 2025-08-04 14:25:13 middleware __call__ پاسخ برای /admin/ - کد وضعیت: 200
INFO 2025-08-04 14:26:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:13 middleware __call__ درخواست به: /admin/, کاربر: admin
INFO 2025-08-04 14:26:14 middleware __call__ پاسخ برای /admin/ - کد وضعیت: 200
INFO 2025-08-04 14:26:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:19 middleware __call__ درخواست به: /admin/core/workflowstage/, کاربر: admin
INFO 2025-08-04 14:26:19 middleware __call__ پاسخ برای /admin/core/workflowstage/ - کد وضعیت: 200
INFO 2025-08-04 14:26:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:20 middleware __call__ درخواست به: /admin/jsi18n/, کاربر: admin
INFO 2025-08-04 14:26:20 middleware __call__ پاسخ برای /admin/jsi18n/ - کد وضعیت: 200
INFO 2025-08-04 14:26:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:28 middleware __call__ درخواست به: /admin/core/workflowstage/1/change/, کاربر: admin
INFO 2025-08-04 14:26:28 middleware __call__ پاسخ برای /admin/core/workflowstage/1/change/ - کد وضعیت: 200
INFO 2025-08-04 14:26:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:28 middleware __call__ درخواست به: /admin/jsi18n/, کاربر: admin
INFO 2025-08-04 14:26:28 middleware __call__ پاسخ برای /admin/jsi18n/ - کد وضعیت: 200
INFO 2025-08-04 14:26:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:26:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:26:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:27:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:27:01 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:27:01 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:27:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:27:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:27:10 middleware __call__ درخواست به: /workflow-stages/, کاربر: admin
INFO 2025-08-04 14:27:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowStageListView برای کاربر: admin
INFO 2025-08-04 14:27:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:27:10 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای WorkflowStageListView
INFO 2025-08-04 14:27:10 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:27:11 middleware __call__ پاسخ برای /workflow-stages/ - کد وضعیت: 500
INFO 2025-08-04 14:27:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:27:11 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:27:11 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:27:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:27:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:27:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:28:27 middleware __call__ درخواست به: /posts/, کاربر: admin
INFO 2025-08-04 14:28:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostListView برای کاربر: admin
INFO 2025-08-04 14:28:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:28:27 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای PostListView
INFO 2025-08-04 14:28:27 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 14:28:27 views get_queryset Sorting posts from low to high level
INFO 2025-08-04 14:28:28 middleware __call__ پاسخ برای /posts/ - کد وضعیت: 200
INFO 2025-08-04 14:28:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:28:31 middleware __call__ درخواست به: /posts/create/, کاربر: admin
INFO 2025-08-04 14:28:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostCreateView برای کاربر: admin
INFO 2025-08-04 14:28:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 14:28:32 middleware __call__ پاسخ برای /posts/create/ - کد وضعیت: 200
INFO 2025-08-04 14:54:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:39 middleware __call__ درخواست به: /posts/create/, کاربر: AnonymousUser
INFO 2025-08-04 14:54:39 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 14:54:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:39 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 14:54:39 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 14:54:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:41 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 14:54:42 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 14:54:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:42 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:54:42 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:54:42 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:54:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:46 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:54:46 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:54:46 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:54:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:47 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 14:54:47 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1000, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 14:54:47 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 14:54:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:52 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 14:54:52 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-04 14:54:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:54:52 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:54:52 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:55:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:55:17 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 14:55:17 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-04 14:55:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:55:17 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:55:17 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 14:55:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:55:34 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 14:55:34 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 500
INFO 2025-08-04 14:55:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 14:55:34 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 14:55:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:02:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:14 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 15:02:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 15:02:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 15:02:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:15 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 15:02:15 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 15:02:16 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 15:02:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:19 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:02:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:02:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:02:19 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 500
INFO 2025-08-04 15:02:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:20 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:02:20 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:02:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:31 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:02:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:02:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:02:31 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:02:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:34 middleware __call__ درخواست به: /workflow/assign/1/TANKHAH/, کاربر: admin
INFO 2025-08-04 15:02:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:02:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:02:34 middleware __call__ پاسخ برای /workflow/assign/1/TANKHAH/ - کد وضعیت: 500
INFO 2025-08-04 15:02:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:34 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:02:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:02:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:48 middleware __call__ درخواست به: /workflow/assign/1/FACTOR/, کاربر: admin
INFO 2025-08-04 15:02:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:02:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:02:48 middleware __call__ پاسخ برای /workflow/assign/1/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:02:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:02:48 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:02:48 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:23:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:21 middleware __call__ درخواست به: /workflow/assign/1/FACTOR/, کاربر: admin
INFO 2025-08-04 15:23:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:23:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:23:21 middleware __call__ پاسخ برای /workflow/assign/1/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:23:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:23 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:23:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:23:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:23:23 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:23:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:24 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:23:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:23:24 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:23:24 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:23:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:28 middleware __call__ درخواست به: /workflow/assign/1/FACTOR/, کاربر: admin
INFO 2025-08-04 15:23:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:23:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:23:29 middleware __call__ پاسخ برای /workflow/assign/1/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:23:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:29 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:23:29 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:23:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:52 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:23:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:23:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:23:53 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:23:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:23:53 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:23:53 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:14 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:14 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:14 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:14 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:25 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:25 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:25 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:25 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:26 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:26 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:26 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:26 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:27 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:27 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:27 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:27 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:35 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:35 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:36 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:36 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:36 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:36 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:46 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:46 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:46 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:46 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:26:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:47 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:26:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:26:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:26:47 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:26:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:26:47 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:26:47 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:27:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:27:03 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:27:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:27:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:27:03 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:27:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:27:03 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:27:03 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:29:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:29:35 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:29:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:29:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:29:35 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:29:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:29:35 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:29:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:29:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:29:36 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:29:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:29:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:29:36 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:29:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:29:36 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:29:36 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:30:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:30:42 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:30:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:30:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:30:42 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:30:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:30:46 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:30:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:30:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:30:47 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:30:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:30:47 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:30:47 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:30:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:30:54 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:30:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:30:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:30:54 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:30:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:30:54 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:30:54 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:32:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:07 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:32:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:32:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:32:07 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:32:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:32:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:32:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:09 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:32:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:32:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:32:09 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:32:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:09 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:32:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:32:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:44 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:32:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:32:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:32:44 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:32:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:32:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:32:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:51 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:32:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:32:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:32:52 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:32:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:32:52 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:32:52 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:33:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:33:19 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:33:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:33:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:33:20 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:33:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:33:20 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:33:20 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:35:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:35:56 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:35:56 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:35:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:35:58 middleware __call__ درخواست به: /workflow/assign/2/GENERAL/, کاربر: admin
INFO 2025-08-04 15:35:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:35:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:35:59 middleware __call__ پاسخ برای /workflow/assign/2/GENERAL/ - کد وضعیت: 500
INFO 2025-08-04 15:35:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:35:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:35:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:36:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:36:07 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:36:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:36:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:36:07 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:36:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:36:07 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:36:07 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:41 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:41:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:41:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:41 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:41:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:41 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:41:41 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:43 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:41:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:41:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:43 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:41:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:43 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:41:43 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:43 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:41:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:41:43 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:43 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:41:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:41:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:50 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 15:41:50 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 15:41:50 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:50 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 15:41:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 15:41:51 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 15:41:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:51 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:41:51 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:52 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 15:41:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 15:41:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 15:41:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 15:41:52 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 15:41:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:52 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:41:52 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:41:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:55 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 15:41:55 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 15:41:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 15:41:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:59 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:59 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:41:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:59 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:59 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:41:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:59 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:41:59 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:41:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:41:59 middleware __call__ درخواست به: /workflow/select/, کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:41:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:42:00 middleware __call__ پاسخ برای /workflow/select/ - کد وضعیت: 200
INFO 2025-08-04 15:42:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:42:00 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:42:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:42:00 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:42:00 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:42:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:42:00 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:42:00 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:42:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:42:48 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:42:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:42:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:42:48 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:42:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:42:49 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:42:49 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:43:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:43:16 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:43:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:43:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:43:16 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:43:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:43:16 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:43:16 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:44:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:44:44 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:44:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:44:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:44:44 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:44:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:44:44 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:44:44 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:44:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:44:45 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:44:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:44:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:44:45 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 15:44:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:44:45 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 15:44:45 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 15:44:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:44:54 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:44:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:44:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:44:54 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:46:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:31 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:46:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:46:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:31 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 15:46:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:31 middleware __call__ درخواست به: /workflow/assign/3/FACTOR/, کاربر: admin
INFO 2025-08-04 15:46:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:46:31 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:31 middleware __call__ پاسخ برای /workflow/assign/3/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:46:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:36 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 15:46:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:46:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:36 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 15:46:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:37 middleware __call__ درخواست به: /workflow/assign/1/FACTOR/, کاربر: admin
INFO 2025-08-04 15:46:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:46:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:37 middleware __call__ پاسخ برای /workflow/assign/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:46:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:55 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 15:46:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:46:55 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:55 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 15:46:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:46:57 middleware __call__ درخواست به: /workflow/assign/1/FACTOR/, کاربر: admin
INFO 2025-08-04 15:46:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:46:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:46:57 middleware __call__ پاسخ برای /workflow/assign/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:48:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:48:03 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 15:48:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:48:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:48:03 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 15:48:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:48:04 middleware __call__ درخواست به: /workflow/assign/1/TANKHAH/, کاربر: admin
INFO 2025-08-04 15:48:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:48:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:48:04 middleware __call__ پاسخ برای /workflow/assign/1/TANKHAH/ - کد وضعیت: 200
INFO 2025-08-04 15:48:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:48:56 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 15:48:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:48:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:48:56 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 15:49:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:49:04 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:49:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:49:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:49:05 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:52:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:06 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:52:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:52:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:06 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:52:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:07 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:52:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:52:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:07 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:52:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:07 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:52:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:52:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:08 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:52:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:08 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:52:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:52:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:08 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:52:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:10 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 15:52:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 15:52:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:10 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 15:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:52:14 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:52:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:52:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:52:14 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:59:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:59:51 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:59:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:59:51 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:59:51 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:59:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:59:52 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 15:59:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 15:59:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 15:59:53 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 15:59:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 15:59:59 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 15:59:59 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 15:59:59 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 16:00:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:00:03 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 16:00:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 16:00:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:00:03 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 16:00:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:00:08 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:00:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:00:08 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:00:08 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:03:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:03:53 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:03:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:03:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:03:53 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:03:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:03:54 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:03:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:03:54 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:03:54 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:08:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:08:03 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:08:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:08:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:08:03 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:09:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:09:03 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:09:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:09:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-04 16:09:03 forms_accessrule save Critical error in PostAccessRuleAssignForm save: 'posts'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 701, in save
    for post in data['posts']:
                ~~~~^^^^^^^^^
KeyError: 'posts'
ERROR 2025-08-04 16:09:03 views_accessrule form_valid Error while saving Access Rule Form: 'posts'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 234, in form_valid
    form.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 701, in save
    for post in data['posts']:
                ~~~~^^^^^^^^^
KeyError: 'posts'
INFO 2025-08-04 16:09:03 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:12:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:12:16 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:12:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:12:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-04 16:12:16 forms_accessrule save Critical error in PostAccessRuleAssignForm save: 'posts'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 699, in save
    for post in data['posts']:
                ~~~~^^^^^^^^^
KeyError: 'posts'
ERROR 2025-08-04 16:12:16 views_accessrule form_valid Error while saving Access Rule Form: 'posts'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 234, in form_valid
    form.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 699, in save
    for post in data['posts']:
                ~~~~^^^^^^^^^
KeyError: 'posts'
INFO 2025-08-04 16:12:16 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:12:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:12:18 middleware __call__ درخواست به: /workflow/assign/7/FACTOR/, کاربر: admin
INFO 2025-08-04 16:12:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView برای کاربر: admin
INFO 2025-08-04 16:12:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:12:18 middleware __call__ پاسخ برای /workflow/assign/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 16:12:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:12:22 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 16:12:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 16:12:22 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:12:22 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 16:12:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:12:26 middleware __call__ درخواست به: /access-management/builder/7/GENERAL/, کاربر: admin
INFO 2025-08-04 16:12:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 16:12:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 16:12:26 middleware __call__ پاسخ برای /access-management/builder/7/GENERAL/ - کد وضعیت: 200
INFO 2025-08-04 16:13:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 16:13:53 middleware __call__ درخواست به: /access-management/builder/7/GENERAL/, کاربر: admin
INFO 2025-08-04 16:13:53 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 16:13:53 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-04 16:13:53 views_accessrule form_valid Error while saving Unified Access Form: (1048, "Column 'stage_order' cannot be null")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1048, "Column 'stage_order' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 327, in form_valid
    form.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 874, in save
    AccessRule.objects.create(organization=self.organization, post=post,
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              entity_type=self.entity_type, action_type=action_code,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              stage_order=None, stage=None, min_level=post.level,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              branch=post.branch, created_by=self.user, is_active=True)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1048, "Column 'stage_order' cannot be null")
INFO 2025-08-04 16:13:53 middleware __call__ پاسخ برای /access-management/builder/7/GENERAL/ - کد وضعیت: 200
INFO 2025-08-04 18:34:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:41 middleware __call__ درخواست به: /access-management/select/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:41 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 18:34:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:41 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:41 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 18:34:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:44 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 18:34:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:45 middleware __call__ درخواست به: /access-management/builder/7/GENERAL/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:45 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 18:34:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:45 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:45 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 18:34:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:47 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:48 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 18:34:48 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 18:34:48 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 18:34:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:49 middleware __call__ درخواست به: /favicon.ico, کاربر: AnonymousUser
INFO 2025-08-04 18:34:49 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 18:34:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:49 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:49 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 18:34:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:54 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 18:34:54 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 18:34:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:54 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:54 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 18:34:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:55 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 18:34:57 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 18:34:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:34:57 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 18:34:57 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 18:34:57 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 18:35:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:35:03 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 18:35:03 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 18:35:03 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:35:03 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 18:35:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:35:07 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 18:35:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:35:07 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:35:07 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:36:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:36:28 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 18:36:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:36:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:36:28 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:38:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:04 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 18:38:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 18:38:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:38:04 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 18:38:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:10 middleware __call__ درخواست به: /access-management/builder/1/FACTOR/, کاربر: admin
INFO 2025-08-04 18:38:10 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:38:10 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:38:11 middleware __call__ پاسخ برای /access-management/builder/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:38:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:26 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 18:38:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 18:38:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:38:26 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 18:38:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:35 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 18:38:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:38:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:38:35 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:38:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:45 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 18:38:45 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:38:45 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-04 18:38:45 views_accessrule form_valid Error while saving Unified Access Form: (1048, "Column 'stage_order' cannot be null")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1048, "Column 'stage_order' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 327, in form_valid
    form.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 874, in save
    AccessRule.objects.create(organization=self.organization, post=post,
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              entity_type=self.entity_type, action_type=action_code,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              stage_order=None, stage=None, min_level=post.level,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              branch=post.branch, created_by=self.user, is_active=True)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1048, "Column 'stage_order' cannot be null")
INFO 2025-08-04 18:38:45 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:38:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:38:57 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 18:38:57 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:38:57 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
ERROR 2025-08-04 18:38:57 views_accessrule form_valid Error while saving Unified Access Form: (1048, "Column 'stage_order' cannot be null")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1048, "Column 'stage_order' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\views_accessrule.py", line 327, in form_valid
    form.save()
    ~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\core\AccessRule\forms_accessrule.py", line 874, in save
    AccessRule.objects.create(organization=self.organization, post=post,
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              entity_type=self.entity_type, action_type=action_code,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              stage_order=None, stage=None, min_level=post.level,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              branch=post.branch, created_by=self.user, is_active=True)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1048, "Column 'stage_order' cannot be null")
INFO 2025-08-04 18:38:57 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 18:40:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:40:25 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 18:40:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 18:40:25 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:40:25 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 18:40:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:40:28 middleware __call__ درخواست به: /access-management/builder/1/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:40:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:40:28 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:40:29 middleware __call__ پاسخ برای /access-management/builder/1/PAYMENTORDER/ - کد وضعیت: 200
INFO 2025-08-04 18:40:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:40:34 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 18:40:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 18:40:34 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:40:34 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 18:40:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:40:41 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:40:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:40:41 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:40:41 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 200
INFO 2025-08-04 18:46:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:46:21 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:46:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:46:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:46:21 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 500
INFO 2025-08-04 18:46:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:46:22 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 18:46:22 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 18:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:46:38 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:46:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:46:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:46:38 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 500
INFO 2025-08-04 18:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:46:38 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 18:46:38 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 18:47:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:47:47 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:47:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:47:47 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:47:48 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 200
INFO 2025-08-04 18:48:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:48:33 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:48:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:48:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:48:34 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 500
INFO 2025-08-04 18:48:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:48:34 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 18:48:34 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 18:51:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:51:04 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:51:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:51:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:51:05 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 500
INFO 2025-08-04 18:51:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:51:05 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 18:51:05 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 18:51:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:51:06 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 18:51:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 18:51:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 18:51:06 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 500
INFO 2025-08-04 18:51:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 18:51:06 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 18:51:06 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:02:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:02:27 middleware __call__ درخواست به: /access-management/builder/7/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 19:02:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:02:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:02:27 middleware __call__ پاسخ برای /access-management/builder/7/PAYMENTORDER/ - کد وضعیت: 200
INFO 2025-08-04 19:05:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:05:35 middleware __call__ درخواست به: /accounts/admin_dashboard/, کاربر: admin
INFO 2025-08-04 19:05:35 middleware __call__ پاسخ برای /accounts/admin_dashboard/ - کد وضعیت: 200
INFO 2025-08-04 19:05:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:05:42 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:05:42 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:05:42 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:05:42 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:06:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:06:08 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 19:06:09 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:06:09 middleware __call__ پاسخ برای / - کد وضعیت: 500
INFO 2025-08-04 19:06:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:06:09 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 19:06:09 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:08:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:08:34 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 19:08:34 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:08:34 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 19:08:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:08:38 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 19:08:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView_old برای کاربر: admin
INFO 2025-08-04 19:08:38 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:08:38 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-04 19:10:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:10:20 middleware __call__ درخواست به: /accounts/roles/, کاربر: admin
INFO 2025-08-04 19:10:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleListView برای کاربر: admin
INFO 2025-08-04 19:10:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:10:20 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleListView
INFO 2025-08-04 19:10:20 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 19:10:20 middleware __call__ پاسخ برای /accounts/roles/ - کد وضعیت: 200
INFO 2025-08-04 19:10:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:10:21 middleware __call__ درخواست به: /accounts/roles/3/edit/, کاربر: admin
INFO 2025-08-04 19:10:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در RoleUpdateView برای کاربر: admin
INFO 2025-08-04 19:10:21 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:10:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای RoleUpdateView
INFO 2025-08-04 19:10:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 19:10:21 middleware __call__ پاسخ برای /accounts/roles/3/edit/ - کد وضعیت: 500
INFO 2025-08-04 19:10:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:10:21 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 19:10:21 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:10:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:10:53 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 19:10:54 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:10:54 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 19:11:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:11:14 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:11:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:11:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:11:14 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:11:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:11:19 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 19:11:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:11:19 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:11:19 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:11:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:11:33 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 19:11:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:11:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:11:33 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 19:11:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:11:33 middleware __call__ درخواست به: /access-management/builder/6/FACTOR/, کاربر: admin
INFO 2025-08-04 19:11:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:11:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:11:33 middleware __call__ پاسخ برای /access-management/builder/6/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:20:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:20:29 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:20:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:20:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:20:29 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:20:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:20:35 middleware __call__ درخواست به: /access-management/builder/2/FACTOR/, کاربر: admin
INFO 2025-08-04 19:20:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:20:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:20:35 middleware __call__ پاسخ برای /access-management/builder/2/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 19:20:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:20:35 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 19:20:35 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:20:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:20:59 middleware __call__ درخواست به: /access-management/builder/2/FACTOR/, کاربر: admin
INFO 2025-08-04 19:20:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:20:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:20:59 middleware __call__ پاسخ برای /access-management/builder/2/FACTOR/ - کد وضعیت: 500
INFO 2025-08-04 19:20:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:20:59 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 19:20:59 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:21:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:11 middleware __call__ درخواست به: /access-management/builder/2/FACTOR/, کاربر: admin
INFO 2025-08-04 19:21:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:21:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:11 middleware __call__ پاسخ برای /access-management/builder/2/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:21:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:12 middleware __call__ درخواست به: /access-management/builder/2/FACTOR/, کاربر: admin
INFO 2025-08-04 19:21:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:21:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:12 middleware __call__ پاسخ برای /access-management/builder/2/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:21:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:14 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:21:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:21:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:14 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:21:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:15 middleware __call__ درخواست به: /access-management/builder/1/FACTOR/, کاربر: admin
INFO 2025-08-04 19:21:15 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:21:15 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:15 middleware __call__ پاسخ برای /access-management/builder/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:21:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:26 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:21:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:21:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:26 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:21:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:29 middleware __call__ درخواست به: /access-management/builder/5/REPORTS/, کاربر: admin
INFO 2025-08-04 19:21:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:21:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:29 middleware __call__ پاسخ برای /access-management/builder/5/REPORTS/ - کد وضعیت: 200
INFO 2025-08-04 19:21:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:33 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:21:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:21:33 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:33 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:21:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:21:35 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:21:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:21:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:21:35 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:25:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:25:26 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:25:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:25:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:25:26 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 19:25:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:25:26 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:25:26 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:25:26 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:25:26 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:25:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:25:30 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:25:30 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:25:30 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:25:31 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:25:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:25:32 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:25:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:25:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:25:32 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:28:27 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:28:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:28:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:28:27 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 19:28:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:28:27 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:28:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:28:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:28:27 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:28:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:28:52 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:28:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:28:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:28:52 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:29:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:29:27 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:29:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:29:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:29:27 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 19:29:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:29:27 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:29:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:29:27 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:29:27 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:29:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:29:29 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:29:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:29:29 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:29:29 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:32:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:32:44 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:32:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:32:44 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:32:44 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:32:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:32:46 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:32:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:32:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:32:46 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:33:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:33:06 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:33:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:33:06 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:33:06 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:33:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:33:46 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:33:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:33:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:33:46 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:34:04 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:34:04 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:34:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:34:04 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:34:04 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:35:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:35:56 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:35:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:35:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:35:56 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 19:35:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:35:56 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:35:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:35:56 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:35:57 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:36:12 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:36:12 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:36:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:36:12 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:36:12 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:36:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:36:20 middleware __call__ درخواست به: /access-management/builder/7/BUDGET/, کاربر: admin
INFO 2025-08-04 19:36:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:36:20 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:36:20 middleware __call__ پاسخ برای /access-management/builder/7/BUDGET/ - کد وضعیت: 200
INFO 2025-08-04 19:37:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:37:32 middleware __call__ درخواست به: /access-management/builder/7/BUDGET/, کاربر: admin
INFO 2025-08-04 19:37:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:37:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:37:32 middleware __call__ پاسخ برای /access-management/builder/7/BUDGET/ - کد وضعیت: 302
INFO 2025-08-04 19:37:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:37:32 middleware __call__ درخواست به: /access-management/builder/7/BUDGET/, کاربر: admin
INFO 2025-08-04 19:37:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:37:32 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:37:33 middleware __call__ پاسخ برای /access-management/builder/7/BUDGET/ - کد وضعیت: 200
INFO 2025-08-04 19:37:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:37:48 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:37:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:37:48 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:37:48 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:46:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:46:37 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:46:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:46:37 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:46:38 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 500
INFO 2025-08-04 19:46:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:46:38 middleware __call__ درخواست به: /favicon.ico, کاربر: admin
INFO 2025-08-04 19:46:38 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 19:46:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:46:49 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 19:46:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 19:46:49 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:46:49 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 19:46:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:46:59 middleware __call__ درخواست به: /access-management/builder/1/FACTORITEM/, کاربر: admin
INFO 2025-08-04 19:46:59 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:46:59 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:46:59 middleware __call__ پاسخ برای /access-management/builder/1/FACTORITEM/ - کد وضعیت: 200
INFO 2025-08-04 19:47:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:47:14 middleware __call__ درخواست به: /access-management/builder/4/PAYMENTORDER/, کاربر: admin
INFO 2025-08-04 19:47:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:47:14 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:47:14 middleware __call__ پاسخ برای /access-management/builder/4/PAYMENTORDER/ - کد وضعیت: 200
INFO 2025-08-04 19:47:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:47:23 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 19:47:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 19:47:23 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 19:47:23 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 19:50:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:50:03 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 19:50:03 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 19:50:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:50:03 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 19:50:03 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 19:50:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:50:16 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 19:50:17 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 19:50:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:50:17 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 19:50:17 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:50:17 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 19:50:19 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:50:19 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 19:50:19 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 19:50:19 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 19:50:19 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 19:50:19 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 19:50:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 19:50:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:50:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 19:50:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 19:50:19 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 19:51:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:51:14 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 19:51:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 19:51:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 19:51:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 19:51:14 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 19:51:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 19:51:14 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:14 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:51:15 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 19:51:15 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 19:51:15 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 19:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:14 middleware __call__ درخواست به: /tankhah/factor/37/approval-path/, کاربر: snejate
INFO 2025-08-04 19:52:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: snejate
INFO 2025-08-04 19:52:14 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 37
INFO 2025-08-04 19:52:14 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: snejate
INFO 2025-08-04 19:52:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-08-04 19:52:14 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
ERROR 2025-08-04 19:52:14 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Invalid field name(s) given in select_related: 'current_stage'. Choices are: organization, project, project_budget_allocation, subproject, created_by, last_stopped_post, financialreport. دسترسی رد شد.
WARNING 2025-08-04 19:52:14 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 19:52:14 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 19:52:14 middleware __call__ پاسخ برای /tankhah/factor/37/approval-path/ - کد وضعیت: 302
INFO 2025-08-04 19:52:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:14 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 19:52:14 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:52:14 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 19:52:23 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:23 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 19:52:23 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 19:52:23 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 19:52:23 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 19:52:23 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 19:52:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 19:52:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:24 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 19:52:24 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 19:52:24 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 19:52:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:27 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 19:52:27 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 19:52:28 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 19:52:28 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 19:52:28 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'snejate' is an HQ user. GRANTED.
INFO 2025-08-04 19:52:28 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 19:52:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:35 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-04 19:52:35 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 19:52:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:35 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 19:52:35 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 19:52:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:42 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 19:52:43 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 19:52:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:43 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-04 19:52:43 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 19:52:43 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 19:52:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 19:52:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 19:52:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 19:52:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 6
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 19:52:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 19:52:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 19:52:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 19:52:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 19:52:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 19:52:49 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 19:52:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 19:52:52 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: beygh
INFO 2025-08-04 19:52:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 19:52:53 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 19:52:53 PermissionBase _has_organization_access کاربر beygh از طریق پست 'مدیران کل هر شعبه' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 19:52:53 fun_can_edit_approval can_edit_approval [can_edit_approval] User 'beygh' is an HQ user. GRANTED.
INFO 2025-08-04 19:52:53 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 20:08:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:08:46 middleware __call__ درخواست به: /access-management/builder/7/FACTOR/, کاربر: admin
INFO 2025-08-04 20:08:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 20:08:46 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:08:46 middleware __call__ پاسخ برای /access-management/builder/7/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 20:11:10 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-04 20:11:10 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:10 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:10 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:10 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:10 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.0
INFO 2025-08-04 20:11:10 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:10 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:10 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.581
INFO 2025-08-04 20:11:10 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:10 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:11 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1141
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:11 update_versions handle Versions updated: {'core': '3.1.0.0', 'version_tracker': '1.1.0.581', 'accounts': '1.3.0.1141'}
INFO 2025-08-04 20:11:11 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:11 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-04 20:11:11 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:11 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:11 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:11 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.1
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:11 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:11 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.582
INFO 2025-08-04 20:11:11 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:11 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:12 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1142
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:12 update_versions handle Versions updated: {'core': '3.1.0.1', 'version_tracker': '1.1.0.582', 'accounts': '1.3.0.1142'}
INFO 2025-08-04 20:11:12 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:12 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-04 20:11:12 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:12 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:12 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:12 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.2
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:12 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:12 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.583
INFO 2025-08-04 20:11:12 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:12 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:13 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:13 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1143
INFO 2025-08-04 20:11:13 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:13 update_versions handle Versions updated: {'core': '3.1.0.2', 'version_tracker': '1.1.0.583', 'accounts': '1.3.0.1143'}
INFO 2025-08-04 20:11:13 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:13 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-04 20:11:13 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:13 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:13 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:13 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:13 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.3
INFO 2025-08-04 20:11:13 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:13 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:14 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.584
INFO 2025-08-04 20:11:14 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:14 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:15 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:15 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1144
INFO 2025-08-04 20:11:15 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:15 update_versions handle Versions updated: {'core': '3.1.0.3', 'version_tracker': '1.1.0.584', 'accounts': '1.3.0.1144'}
INFO 2025-08-04 20:11:15 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:15 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-04 20:11:15 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:15 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:15 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:15 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:15 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.4
INFO 2025-08-04 20:11:15 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:15 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:16 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.585
INFO 2025-08-04 20:11:16 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:16 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:17 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1145
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:17 update_versions handle Versions updated: {'core': '3.1.0.4', 'version_tracker': '1.1.0.585', 'accounts': '1.3.0.1145'}
INFO 2025-08-04 20:11:17 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:17 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-04 20:11:17 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:17 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:17 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:17 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.5
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:17 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:17 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.586
INFO 2025-08-04 20:11:17 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:17 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:18 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:18 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1146
INFO 2025-08-04 20:11:18 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:18 update_versions handle Versions updated: {'core': '3.1.0.5', 'version_tracker': '1.1.0.586', 'accounts': '1.3.0.1146'}
INFO 2025-08-04 20:11:18 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:18 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-04 20:11:18 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:18 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:18 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:18 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:18 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.6
INFO 2025-08-04 20:11:18 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:18 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:19 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:19 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.587
INFO 2025-08-04 20:11:19 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:19 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:20 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:20 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1147
INFO 2025-08-04 20:11:20 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:20 update_versions handle Versions updated: {'core': '3.1.0.6', 'version_tracker': '1.1.0.587', 'accounts': '1.3.0.1147'}
INFO 2025-08-04 20:11:20 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:20 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 20:11:20 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 20:11:20 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-04 20:11:20 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:20 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:20 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:20 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:20 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.7
INFO 2025-08-04 20:11:20 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:20 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:21 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:21 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.588
INFO 2025-08-04 20:11:21 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:21 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:22 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:22 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1148
INFO 2025-08-04 20:11:22 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:22 update_versions handle Versions updated: {'core': '3.1.0.7', 'version_tracker': '1.1.0.588', 'accounts': '1.3.0.1148'}
INFO 2025-08-04 20:11:22 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:22 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-04 20:11:22 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:22 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:22 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:22 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:22 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.8
INFO 2025-08-04 20:11:22 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:22 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:23 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.589
INFO 2025-08-04 20:11:23 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:23 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:24 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:24 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1149
INFO 2025-08-04 20:11:24 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:24 update_versions handle Versions updated: {'core': '3.1.0.8', 'version_tracker': '1.1.0.589', 'accounts': '1.3.0.1149'}
INFO 2025-08-04 20:11:24 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:24 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-04 20:11:24 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:24 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:24 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:24 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:24 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.9
INFO 2025-08-04 20:11:24 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:24 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:25 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:25 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.590
INFO 2025-08-04 20:11:25 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:25 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:26 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:26 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1150
INFO 2025-08-04 20:11:26 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:26 update_versions handle Versions updated: {'core': '3.1.0.9', 'version_tracker': '1.1.0.590', 'accounts': '1.3.0.1150'}
INFO 2025-08-04 20:11:26 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:26 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-04 20:11:26 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:26 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:26 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:26 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:26 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.10
INFO 2025-08-04 20:11:26 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:26 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:27 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:27 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.591
INFO 2025-08-04 20:11:27 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:27 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:28 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:28 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1151
INFO 2025-08-04 20:11:28 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:28 update_versions handle Versions updated: {'core': '3.1.0.10', 'version_tracker': '1.1.0.591', 'accounts': '1.3.0.1151'}
INFO 2025-08-04 20:11:28 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:28 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-04 20:11:28 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:28 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:28 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:28 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:29 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.11
INFO 2025-08-04 20:11:29 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:29 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:29 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.592
INFO 2025-08-04 20:11:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:29 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:31 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1152
INFO 2025-08-04 20:11:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:31 update_versions handle Versions updated: {'core': '3.1.0.11', 'version_tracker': '1.1.0.592', 'accounts': '1.3.0.1152'}
INFO 2025-08-04 20:11:31 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:11:31 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-04 20:11:31 signals update_versions Calling update_versions command...
INFO 2025-08-04 20:11:31 update_versions handle Starting version update process...
INFO 2025-08-04 20:11:31 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 20:11:32 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:32 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.12
INFO 2025-08-04 20:11:32 models update_version_file Updated version.py for core
INFO 2025-08-04 20:11:32 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 20:11:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:32 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.593
INFO 2025-08-04 20:11:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 20:11:32 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 20:11:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1153
INFO 2025-08-04 20:11:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 20:11:33 update_versions handle Versions updated: {'core': '3.1.0.12', 'version_tracker': '1.1.0.593', 'accounts': '1.3.0.1153'}
INFO 2025-08-04 20:11:33 update_versions handle Final version updated successfully!
INFO 2025-08-04 20:18:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:18:56 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 20:18:56 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:18:56 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:29:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:29:50 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 20:29:50 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:29:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:29:52 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:29:52 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-04 20:29:52 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-04 20:29:52 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:29:52 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-04 20:29:52 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:29:52 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 20:29:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:29:52 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-04 20:29:52 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:29:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-04 20:29:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:29:52 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:29:52 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-04 20:29:52 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:29:53 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:29:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:29:58 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: AnonymousUser
INFO 2025-08-04 20:29:58 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 20:29:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:29:58 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:29:58 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 20:30:15 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:15 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:30:16 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 20:30:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:16 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-04 20:30:16 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:30:16 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:30:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:18 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 20:30:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 20:30:18 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:30:18 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 6
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:30:18 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:30:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 20:30:18 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:30:18 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:19 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:30:19 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:30:19 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:30:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:22 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: beygh
INFO 2025-08-04 20:30:22 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: beygh
INFO 2025-08-04 20:30:22 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 20:30:22 PermissionBase _has_organization_access کاربر beygh از طریق پست 'مدیران کل هر شعبه' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 20:30:22 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 20:30:27 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:27 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-04 20:30:27 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:30:27 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:30:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: beygh
INFO 2025-08-04 20:30:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: beygh
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: beygh
INFO 2025-08-04 20:30:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:30:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 6, 7}, سطح: 6
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:30:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:30:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: beygh
INFO 2025-08-04 20:30:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:30:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر beygh: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:30:30 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:30:30 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:30:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:31 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: beygh
INFO 2025-08-04 20:30:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: beygh
INFO 2025-08-04 20:30:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 20:30:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 20:30:31 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 20:30:31 PermissionBase dispatch [PermissionBaseView] کاربر beygh به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 20:30:31 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر beygh
INFO 2025-08-04 20:30:31 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 20:30:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:31 middleware __call__ درخواست به: /, کاربر: beygh
ERROR 2025-08-04 20:30:31 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:30:31 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:30:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:41 middleware __call__ درخواست به: /accounts/logout/, کاربر: beygh
INFO 2025-08-04 20:30:41 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 20:30:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:41 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:30:41 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 20:30:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:54 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:30:55 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 20:30:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:55 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:30:55 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:30:55 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:30:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:30:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 20:30:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 20:30:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:30:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:30:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:30:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 20:30:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:30:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:30:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:30:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:30:59 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:31:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:31:05 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 20:31:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 20:31:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 20:31:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 20:31:05 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 20:31:05 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 20:31:05 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 20:31:05 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 20:31:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:31:05 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:31:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:31:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:31:30 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:31:30 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 20:31:30 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:31:30 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:31:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:31:35 middleware __call__ درخواست به: /tankhah/factors/, کاربر: admin
INFO 2025-08-04 20:31:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: admin
INFO 2025-08-04 20:31:35 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:31:35 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: admin
INFO 2025-08-04 20:31:35 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:31:35 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای superuser یا Tankhah_view_all
INFO 2025-08-04 20:31:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:31:35 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: set(), سطح: None
INFO 2025-08-04 20:31:35 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:31:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: admin
INFO 2025-08-04 20:31:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
ERROR 2025-08-04 20:31:35 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر admin: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:31:35 check_user_access check_user_factor_access کاربر admin دسترسی کامل دارد.
INFO 2025-08-04 20:31:35 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:31:35 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:32:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:05 middleware __call__ درخواست به: /, کاربر: admin
ERROR 2025-08-04 20:32:05 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:32:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:32:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:11 middleware __call__ درخواست به: /access-rules/assign/, کاربر: admin
INFO 2025-08-04 20:32:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در PostAccessRuleAssignView_old برای کاربر: admin
INFO 2025-08-04 20:32:11 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:32:11 middleware __call__ پاسخ برای /access-rules/assign/ - کد وضعیت: 200
INFO 2025-08-04 20:32:16 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:16 middleware __call__ درخواست به: /access-management/select/, کاربر: admin
INFO 2025-08-04 20:32:16 PermissionBase dispatch [PermissionBaseView] شروع dispatch در SelectWorkflowView برای کاربر: admin
INFO 2025-08-04 20:32:16 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:32:16 middleware __call__ پاسخ برای /access-management/select/ - کد وضعیت: 200
INFO 2025-08-04 20:32:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:18 middleware __call__ درخواست به: /access-management/builder/1/FACTOR/, کاربر: admin
INFO 2025-08-04 20:32:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 20:32:18 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:32:18 middleware __call__ پاسخ برای /access-management/builder/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 20:32:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:35 middleware __call__ درخواست به: /access-management/builder/1/FACTOR/, کاربر: admin
INFO 2025-08-04 20:32:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 20:32:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:32:36 middleware __call__ پاسخ برای /access-management/builder/1/FACTOR/ - کد وضعیت: 302
INFO 2025-08-04 20:32:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:32:36 middleware __call__ درخواست به: /access-management/builder/1/FACTOR/, کاربر: admin
INFO 2025-08-04 20:32:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در WorkflowBuilderView برای کاربر: admin
INFO 2025-08-04 20:32:36 PermissionBase dispatch [PermissionBaseView] کاربر superuser یا دارای مجوز Tankhah_view_all است، دسترسی کامل
INFO 2025-08-04 20:32:36 middleware __call__ پاسخ برای /access-management/builder/1/FACTOR/ - کد وضعیت: 200
INFO 2025-08-04 20:33:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:18 middleware __call__ درخواست به: /accounts/logout/, کاربر: admin
INFO 2025-08-04 20:33:18 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 20:33:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:18 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:33:18 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 20:33:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:25 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 20:33:26 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 20:33:26 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:26 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:33:26 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:33:26 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:33:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:29 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 20:33:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 20:33:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:33:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:33:29 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:33:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 20:33:29 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:33:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:29 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:30 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:33:30 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:33:30 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:33:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:32 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 20:33:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 20:33:33 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 20:33:33 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 20:33:33 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 20:33:33 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 20:33:33 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 20:33:33 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 20:33:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:33 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:33:33 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:33:33 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:33:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:39 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 20:33:39 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 20:33:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:33:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:33:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:33:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 20:33:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:33:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:33:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:33:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:33:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:33:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:46 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 20:33:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 20:33:46 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 20:33:46 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 20:33:46 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 20:33:46 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 20:33:46 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 20:33:46 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 20:33:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:33:46 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:33:46 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:33:46 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 20:34:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:34:06 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 20:34:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 20:34:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 20:34:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 20:34:06 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 20:34:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 20:34:06 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 20:34:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:06 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 20:34:07 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 20:34:07 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 20:34:07 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 20:34:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:34:07 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 20:34:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 20:34:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 20:34:08 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 20:34:08 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 20:34:08 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 20:34:08 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 20:34:08 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 20:34:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 20:34:08 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 20:34:08 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    ).annotate(
      ~~~~~~~~^
        total_budget=Coalesce(Sum('budget_allocations__allocated_amount'), Decimal('0'))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).filter(
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'budget_allocations' into field. Choices are: allocations, code, description, end_date, id, is_active, name, organizations, payment_orders, priority, start_date, subprojects, tankhah_set
INFO 2025-08-04 20:34:08 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:13:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:13:39 middleware __call__ درخواست به: /, کاربر: AnonymousUser
INFO 2025-08-04 21:13:39 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 21:13:39 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:13:39 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 21:13:39 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 21:13:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:13:43 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 21:13:43 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 21:13:43 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:13:43 middleware __call__ درخواست به: /, کاربر: snejate
ERROR 2025-08-04 21:13:43 view_Dashboard get_context_data خطا در محاسبه وضعیت پروژه‌ها: 'bool' object has no attribute 'annotate'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\Tanbakhsystem\view\view_Dashboard.py", line 1001, in get_context_data
    .annotate(
     ^^^^^^^^
AttributeError: 'bool' object has no attribute 'annotate'
INFO 2025-08-04 21:13:43 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:15:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:15:05 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:15:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:19:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:40 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: AnonymousUser
INFO 2025-08-04 21:19:40 middleware __call__ کاربر لاگین نکرده - ریدایرکت به accounts:login
INFO 2025-08-04 21:19:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:40 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 21:19:40 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 21:19:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:45 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 21:19:45 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 21:19:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:45 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:19:46 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:19:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:49 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:19:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:19:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:19:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:19:50 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:19:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:19:50 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:19:50 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:19:50 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:19:50 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:19:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:19:50 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:19:50 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:19:51 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:19:51 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:19:54 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:19:54 middleware __call__ درخواست به: /tankhah/factor-item/37/approve/, کاربر: snejate
INFO 2025-08-04 21:19:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 21:19:54 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0001 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 21:19:54 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 21:19:54 middleware __call__ پاسخ برای /tankhah/factor-item/37/approve/ - کد وضعیت: 200
INFO 2025-08-04 21:20:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:20:00 middleware __call__ درخواست به: /tankhah/factor-item/12/approve/, کاربر: snejate
INFO 2025-08-04 21:20:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 21:20:01 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040502-HSarein-0001 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 21:20:01 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 21:20:01 middleware __call__ پاسخ برای /tankhah/factor-item/12/approve/ - کد وضعیت: 200
INFO 2025-08-04 21:20:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:20:17 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:20:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:20:17 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 21:20:17 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:20:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:20:20 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 21:20:20 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:20:20 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 21:20:20 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 21:22:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:22:11 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:22:11 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:22:11 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 21:22:11 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:30:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:30:29 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:30:29 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:30:29 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 21:30:29 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:38:08 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:38:08 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:38:08 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:38:08 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 21:38:09 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:38:46 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:38:46 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:38:46 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:38:46 utils restrict_to_user_organization User snejate restricted to organizations: [1]
INFO 2025-08-04 21:38:46 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:39:28 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:28 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:39:28 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:39:29 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:39:29 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:39:29 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:39:29 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:39:29 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:39:29 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:39:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:29 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:39:29 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:39:45 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:45 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:39:45 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:39:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:48 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:39:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:39:49 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:39:49 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:39:49 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:39:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:39:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:39:49 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:39:49 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:39:49 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:39:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:51 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:39:51 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:39:51 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:39:51 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:39:51 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:39:51 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:39:51 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:39:51 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:39:51 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:51 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:39:51 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:39:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:39:59 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:39:59 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:40:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:01 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:40:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:40:01 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:40:01 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:40:01 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:40:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:40:01 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:40:01 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:02 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:40:02 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:40:02 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:40:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:06 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:40:06 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:40:06 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:40:06 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:40:06 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:40:06 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:40:06 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:40:06 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:40:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:06 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:40:06 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:40:22 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:22 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:40:22 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:40:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:24 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:40:24 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:40:24 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:40:24 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:40:24 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:40:24 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:40:24 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:40:24 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:40:24 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:24 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:40:24 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:40:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:31 middleware __call__ درخواست به: /tankhah/factor/list3/, کاربر: snejate
INFO 2025-08-04 21:40:31 PermissionBase dispatch [PermissionBaseView] شروع dispatch در OptimizedFactorListView برای کاربر: snejate
INFO 2025-08-04 21:40:31 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای OptimizedFactorListView
INFO 2025-08-04 21:40:31 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:40:31 middleware __call__ پاسخ برای /tankhah/factor/list3/ - کد وضعیت: 500
INFO 2025-08-04 21:40:31 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:31 middleware __call__ درخواست به: /favicon.ico, کاربر: snejate
INFO 2025-08-04 21:40:31 middleware __call__ پاسخ برای /favicon.ico - کد وضعیت: 302
INFO 2025-08-04 21:40:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:34 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:40:34 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:40:34 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:40:34 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:40:34 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:40:34 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:40:34 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:40:34 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:40:34 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:34 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:40:35 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:40:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:37 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:40:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:40:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:40:37 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:40:37 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:40:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:40:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:40:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:40:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:40:37 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:40:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:40 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:40:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:40:40 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:40:40 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:40:40 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:40:40 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:40:40 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:40:40 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:40:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:40:40 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:40:40 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:41:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:41:41 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:41:41 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:41:41 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:41:41 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:41:41 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:41:41 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:41:41 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:41:42 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:41:42 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:41:42 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:41:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:41:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:41:42 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:41:42 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:41:42 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:41:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:41:44 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:41:44 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:41:44 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:41:44 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:41:44 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:41:44 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:41:44 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:41:44 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:41:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:41:44 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:41:44 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:44:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:44:58 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:44:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:44:58 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:44:58 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:44:58 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:44:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:44:58 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:58 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:44:59 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:44:59 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:44:59 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:45:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:00 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:45:00 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:45:00 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:45:00 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:45:00 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:45:00 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:45:00 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:45:00 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:45:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:00 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:45:00 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:45:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:03 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:45:03 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:45:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:03 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:45:03 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:45:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:03 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:45:03 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:45:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:05 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:45:05 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:45:05 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:45:05 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:45:05 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:45:05 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:45:05 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:45:05 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:45:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:45:05 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:45:05 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:46:11 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:46:11 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 21:46:12 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 21:46:12 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 21:46:12 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 8
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 8
INFO 2025-08-04 21:46:12 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 8
INFO 2025-08-04 21:46:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 21:46:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 8 فاکتور برای گروه‌بندی
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 21:46:12 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 21:46:12 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 8 فاکتور، مبلغ کل: 945600.00
INFO 2025-08-04 21:46:12 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 21:46:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:46:14 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:46:14 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:46:14 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:46:14 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:46:14 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:46:14 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:46:14 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:46:14 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:46:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:46:14 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:46:15 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:51:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:51:48 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:51:48 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:51:48 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:51:48 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:51:48 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:51:48 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:51:48 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:51:48 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:51:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:51:48 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:51:49 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:52:02 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:52:02 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:52:02 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:52:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:52:07 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:52:07 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:52:07 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای New_FactorCreateView
INFO 2025-08-04 21:52:07 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
ERROR 2025-08-04 21:52:07 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Generic detail view New_FactorCreateView must be called with either an object pk or a slug in the URLconf.. دسترسی رد شد.
WARNING 2025-08-04 21:52:07 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط دسترسی ندارد
WARNING 2025-08-04 21:52:07 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 21:52:07 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 21:52:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:52:07 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 21:52:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 21:56:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:56:09 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:56:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:56:09 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:56:29 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:56:29 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 21:56:29 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:56:29 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 21:56:29 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 21:56:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:56:55 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:56:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:56:55 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:57:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:57:01 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 21:57:01 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:57:01 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 21:57:01 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 21:57:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:57:09 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 21:57:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 21:57:09 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:57:09 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:57:09 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 21:57:09 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 21:57:09 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 21:57:10 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 21:57:10 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 21:57:10 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 21:57:10 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 21:57:10 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:01:23 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-04 22:01:23 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:23 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:23 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:23 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:24 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.13
INFO 2025-08-04 22:01:24 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:24 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:24 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.594
INFO 2025-08-04 22:01:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:24 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:25 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:25 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1154
INFO 2025-08-04 22:01:25 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:25 update_versions handle Versions updated: {'core': '3.1.0.13', 'version_tracker': '1.1.0.594', 'accounts': '1.3.0.1154'}
INFO 2025-08-04 22:01:25 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:25 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-04 22:01:25 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:25 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:25 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:25 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:25 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.14
INFO 2025-08-04 22:01:25 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:25 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:26 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.595
INFO 2025-08-04 22:01:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:26 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:27 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:27 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1155
INFO 2025-08-04 22:01:27 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:27 update_versions handle Versions updated: {'core': '3.1.0.14', 'version_tracker': '1.1.0.595', 'accounts': '1.3.0.1155'}
INFO 2025-08-04 22:01:27 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:27 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-04 22:01:27 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:27 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:27 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:27 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:27 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.15
INFO 2025-08-04 22:01:27 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:27 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:28 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.596
INFO 2025-08-04 22:01:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:28 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:29 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1156
INFO 2025-08-04 22:01:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:29 update_versions handle Versions updated: {'core': '3.1.0.15', 'version_tracker': '1.1.0.596', 'accounts': '1.3.0.1156'}
INFO 2025-08-04 22:01:30 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:30 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-04 22:01:30 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:30 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:30 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:30 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:30 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.16
INFO 2025-08-04 22:01:30 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:30 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:31 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:31 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.597
INFO 2025-08-04 22:01:31 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:31 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1157
INFO 2025-08-04 22:01:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:33 update_versions handle Versions updated: {'core': '3.1.0.16', 'version_tracker': '1.1.0.597', 'accounts': '1.3.0.1157'}
INFO 2025-08-04 22:01:33 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:33 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-04 22:01:33 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:33 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:33 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:33 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:33 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.17
INFO 2025-08-04 22:01:33 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:33 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.598
INFO 2025-08-04 22:01:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:37 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:37 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1158
INFO 2025-08-04 22:01:37 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:37 update_versions handle Versions updated: {'core': '3.1.0.17', 'version_tracker': '1.1.0.598', 'accounts': '1.3.0.1158'}
INFO 2025-08-04 22:01:37 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:37 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-04 22:01:37 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:37 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:37 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:38 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:38 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.18
INFO 2025-08-04 22:01:38 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:38 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:39 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:39 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.599
INFO 2025-08-04 22:01:39 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:39 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:41 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:41 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1159
INFO 2025-08-04 22:01:41 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:41 update_versions handle Versions updated: {'core': '3.1.0.18', 'version_tracker': '1.1.0.599', 'accounts': '1.3.0.1159'}
INFO 2025-08-04 22:01:41 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:41 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-04 22:01:41 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:41 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:41 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:41 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:41 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.19
INFO 2025-08-04 22:01:41 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:41 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:42 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:42 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.600
INFO 2025-08-04 22:01:42 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:42 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:43 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:43 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1160
INFO 2025-08-04 22:01:43 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:43 update_versions handle Versions updated: {'core': '3.1.0.19', 'version_tracker': '1.1.0.600', 'accounts': '1.3.0.1160'}
INFO 2025-08-04 22:01:43 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:43 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:01:43 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:01:43 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-04 22:01:43 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:43 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:43 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:43 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:43 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.20
INFO 2025-08-04 22:01:43 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:44 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:44 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.601
INFO 2025-08-04 22:01:44 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:44 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:45 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:45 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1161
INFO 2025-08-04 22:01:45 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:45 update_versions handle Versions updated: {'core': '3.1.0.20', 'version_tracker': '1.1.0.601', 'accounts': '1.3.0.1161'}
INFO 2025-08-04 22:01:45 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:45 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-04 22:01:45 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:45 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:45 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:45 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:45 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.21
INFO 2025-08-04 22:01:45 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:45 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:46 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:46 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.602
INFO 2025-08-04 22:01:46 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:46 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:47 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:47 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1162
INFO 2025-08-04 22:01:47 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:47 update_versions handle Versions updated: {'core': '3.1.0.21', 'version_tracker': '1.1.0.602', 'accounts': '1.3.0.1162'}
INFO 2025-08-04 22:01:47 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:47 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-04 22:01:47 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:47 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:47 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:47 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:47 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.22
INFO 2025-08-04 22:01:47 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:47 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:48 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:48 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.603
INFO 2025-08-04 22:01:48 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:48 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:49 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:49 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1163
INFO 2025-08-04 22:01:49 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:49 update_versions handle Versions updated: {'core': '3.1.0.22', 'version_tracker': '1.1.0.603', 'accounts': '1.3.0.1163'}
INFO 2025-08-04 22:01:49 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:49 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-04 22:01:49 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:49 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:49 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:49 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:49 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.23
INFO 2025-08-04 22:01:49 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:49 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:50 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:50 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.604
INFO 2025-08-04 22:01:50 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:50 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:51 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1164
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:51 update_versions handle Versions updated: {'core': '3.1.0.23', 'version_tracker': '1.1.0.604', 'accounts': '1.3.0.1164'}
INFO 2025-08-04 22:01:51 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:51 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-04 22:01:51 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:51 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:51 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:51 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.24
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:51 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:51 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.605
INFO 2025-08-04 22:01:51 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:51 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:52 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:52 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1165
INFO 2025-08-04 22:01:52 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:52 update_versions handle Versions updated: {'core': '3.1.0.24', 'version_tracker': '1.1.0.605', 'accounts': '1.3.0.1165'}
INFO 2025-08-04 22:01:52 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:01:52 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-04 22:01:52 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:01:52 update_versions handle Starting version update process...
INFO 2025-08-04 22:01:52 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:01:52 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:52 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.25
INFO 2025-08-04 22:01:52 models update_version_file Updated version.py for core
INFO 2025-08-04 22:01:52 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:01:53 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:53 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.606
INFO 2025-08-04 22:01:53 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:01:53 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:01:54 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:54 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1166
INFO 2025-08-04 22:01:54 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:01:54 update_versions handle Versions updated: {'core': '3.1.0.25', 'version_tracker': '1.1.0.606', 'accounts': '1.3.0.1166'}
INFO 2025-08-04 22:01:54 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:02:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:02:40 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:02:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:02:41 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:41 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:41 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:02:41 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:02:41 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:02:41 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:02:41 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:02:41 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:41 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:02:41 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:02:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:02:56 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:02:56 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:02:57 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:57 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:57 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:02:57 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:02:57 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:02:57 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:02:57 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:02:57 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:02:57 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:02:57 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:03:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:03:18 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:03:18 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:03:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:03:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:03:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:03:18 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:03:18 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:03:18 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:03:18 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:03:18 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:03:18 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:03:18 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:12:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:12:47 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:12:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:12:47 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:47 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:48 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:12:48 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:12:48 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:12:48 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:12:48 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:12:48 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:48 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:12:48 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:12:55 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:12:55 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:12:55 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:12:55 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:55 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:55 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:12:55 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:12:56 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:12:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:12:56 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:12:56 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:12:56 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:12:56 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:13:24 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-04 22:13:24 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:24 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:24 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:24 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:24 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.26
INFO 2025-08-04 22:13:24 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:24 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:24 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.607
INFO 2025-08-04 22:13:24 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:24 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:26 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1167
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:26 update_versions handle Versions updated: {'core': '3.1.0.26', 'version_tracker': '1.1.0.607', 'accounts': '1.3.0.1167'}
INFO 2025-08-04 22:13:26 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:26 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-04 22:13:26 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:26 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:26 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:26 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.27
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:26 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:26 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.608
INFO 2025-08-04 22:13:26 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:26 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:27 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:27 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1168
INFO 2025-08-04 22:13:27 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:27 update_versions handle Versions updated: {'core': '3.1.0.27', 'version_tracker': '1.1.0.608', 'accounts': '1.3.0.1168'}
INFO 2025-08-04 22:13:27 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:27 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-04 22:13:27 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:27 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:27 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:27 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:27 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.28
INFO 2025-08-04 22:13:27 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:27 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:28 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.609
INFO 2025-08-04 22:13:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:28 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:29 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1169
INFO 2025-08-04 22:13:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:29 update_versions handle Versions updated: {'core': '3.1.0.28', 'version_tracker': '1.1.0.609', 'accounts': '1.3.0.1169'}
INFO 2025-08-04 22:13:29 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:29 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-04 22:13:29 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:29 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:29 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:29 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:29 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.29
INFO 2025-08-04 22:13:29 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:29 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:30 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:30 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.610
INFO 2025-08-04 22:13:30 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:30 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:31 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1170
INFO 2025-08-04 22:13:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:31 update_versions handle Versions updated: {'core': '3.1.0.29', 'version_tracker': '1.1.0.610', 'accounts': '1.3.0.1170'}
INFO 2025-08-04 22:13:31 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:31 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-04 22:13:31 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:31 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:31 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:31 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:31 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.30
INFO 2025-08-04 22:13:31 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:31 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:32 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.611
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:32 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:32 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1171
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:32 update_versions handle Versions updated: {'core': '3.1.0.30', 'version_tracker': '1.1.0.611', 'accounts': '1.3.0.1171'}
INFO 2025-08-04 22:13:32 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:32 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-04 22:13:32 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:32 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:32 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:32 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.31
INFO 2025-08-04 22:13:32 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:32 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:32 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:13:32 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:13:32 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:13:33 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:33 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:33 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:13:33 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:13:33 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:13:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:13:33 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:13:33 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:33 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:13:33 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:13:33 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:33 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.612
INFO 2025-08-04 22:13:33 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:33 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:34 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:34 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1172
INFO 2025-08-04 22:13:34 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:34 update_versions handle Versions updated: {'core': '3.1.0.31', 'version_tracker': '1.1.0.612', 'accounts': '1.3.0.1172'}
INFO 2025-08-04 22:13:34 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:34 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-04 22:13:34 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:34 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:34 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:34 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:34 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.32
INFO 2025-08-04 22:13:34 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:34 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.613
INFO 2025-08-04 22:13:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:38 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:38 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1173
INFO 2025-08-04 22:13:38 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:38 update_versions handle Versions updated: {'core': '3.1.0.32', 'version_tracker': '1.1.0.613', 'accounts': '1.3.0.1173'}
INFO 2025-08-04 22:13:38 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:38 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:13:38 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:13:38 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-04 22:13:38 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:38 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:38 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:38 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:38 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.33
INFO 2025-08-04 22:13:38 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:38 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:39 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:39 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.614
INFO 2025-08-04 22:13:39 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:39 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:41 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:41 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1174
INFO 2025-08-04 22:13:41 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:41 update_versions handle Versions updated: {'core': '3.1.0.33', 'version_tracker': '1.1.0.614', 'accounts': '1.3.0.1174'}
INFO 2025-08-04 22:13:41 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:41 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-04 22:13:41 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:41 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:41 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:41 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:41 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.34
INFO 2025-08-04 22:13:41 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:41 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:42 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:42 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.615
INFO 2025-08-04 22:13:42 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:42 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:42 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:42 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1175
INFO 2025-08-04 22:13:42 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:42 update_versions handle Versions updated: {'core': '3.1.0.34', 'version_tracker': '1.1.0.615', 'accounts': '1.3.0.1175'}
INFO 2025-08-04 22:13:42 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:42 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-04 22:13:42 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:42 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:42 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:42 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:43 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.35
INFO 2025-08-04 22:13:43 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:43 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:43 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.616
INFO 2025-08-04 22:13:43 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:43 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:44 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1176
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:44 update_versions handle Versions updated: {'core': '3.1.0.35', 'version_tracker': '1.1.0.616', 'accounts': '1.3.0.1176'}
INFO 2025-08-04 22:13:44 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:44 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-04 22:13:44 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:44 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:44 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:44 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.36
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:44 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:44 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.617
INFO 2025-08-04 22:13:44 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:44 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:45 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:45 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1177
INFO 2025-08-04 22:13:45 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:45 update_versions handle Versions updated: {'core': '3.1.0.36', 'version_tracker': '1.1.0.617', 'accounts': '1.3.0.1177'}
INFO 2025-08-04 22:13:45 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:45 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-04 22:13:45 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:45 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:45 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:45 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:45 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.37
INFO 2025-08-04 22:13:45 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:45 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:46 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:46 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.618
INFO 2025-08-04 22:13:46 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:46 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:47 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:47 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1178
INFO 2025-08-04 22:13:47 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:47 update_versions handle Versions updated: {'core': '3.1.0.37', 'version_tracker': '1.1.0.618', 'accounts': '1.3.0.1178'}
INFO 2025-08-04 22:13:47 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:47 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-04 22:13:47 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:13:47 update_versions handle Starting version update process...
INFO 2025-08-04 22:13:47 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:13:47 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:47 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.38
INFO 2025-08-04 22:13:47 models update_version_file Updated version.py for core
INFO 2025-08-04 22:13:47 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:13:48 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:48 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.619
INFO 2025-08-04 22:13:48 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:13:48 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:13:49 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:49 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1179
INFO 2025-08-04 22:13:49 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:13:49 update_versions handle Versions updated: {'core': '3.1.0.38', 'version_tracker': '1.1.0.619', 'accounts': '1.3.0.1179'}
INFO 2025-08-04 22:13:49 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:13:49 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:13:49 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:13:49 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:13:50 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:50 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:50 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:13:50 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:13:50 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:13:50 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:13:50 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:13:50 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:13:50 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:13:50 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:19:27 signals update_versions 🚀 post_migrate triggered for django.contrib.admin 🚀
INFO 2025-08-04 22:19:27 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:27 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:27 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:28 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:28 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.39
INFO 2025-08-04 22:19:28 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:28 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:28 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.620
INFO 2025-08-04 22:19:28 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:28 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:29 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1180
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:29 update_versions handle Versions updated: {'core': '3.1.0.39', 'version_tracker': '1.1.0.620', 'accounts': '1.3.0.1180'}
INFO 2025-08-04 22:19:29 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:29 signals update_versions 🚀 post_migrate triggered for django.contrib.auth 🚀
INFO 2025-08-04 22:19:29 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:29 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:29 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:29 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.40
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:29 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:29 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.621
INFO 2025-08-04 22:19:29 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:29 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:30 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1181
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:30 update_versions handle Versions updated: {'core': '3.1.0.40', 'version_tracker': '1.1.0.621', 'accounts': '1.3.0.1181'}
INFO 2025-08-04 22:19:30 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:30 signals update_versions 🚀 post_migrate triggered for django.contrib.contenttypes 🚀
INFO 2025-08-04 22:19:30 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:30 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:30 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:30 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.41
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:30 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:30 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.622
INFO 2025-08-04 22:19:30 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:30 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:31 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1182
INFO 2025-08-04 22:19:31 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:31 update_versions handle Versions updated: {'core': '3.1.0.41', 'version_tracker': '1.1.0.622', 'accounts': '1.3.0.1182'}
INFO 2025-08-04 22:19:31 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:31 signals update_versions 🚀 post_migrate triggered for django.contrib.sessions 🚀
INFO 2025-08-04 22:19:31 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:31 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:31 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:31 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:31 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.42
INFO 2025-08-04 22:19:31 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:31 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:32 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.623
INFO 2025-08-04 22:19:32 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:32 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:33 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1183
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:33 update_versions handle Versions updated: {'core': '3.1.0.42', 'version_tracker': '1.1.0.623', 'accounts': '1.3.0.1183'}
INFO 2025-08-04 22:19:33 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:33 signals update_versions 🚀 post_migrate triggered for core 🚀
INFO 2025-08-04 22:19:33 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:33 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:33 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:33 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.43
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:33 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:33 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.624
INFO 2025-08-04 22:19:33 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:33 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:34 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:34 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1184
INFO 2025-08-04 22:19:34 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:34 update_versions handle Versions updated: {'core': '3.1.0.43', 'version_tracker': '1.1.0.624', 'accounts': '1.3.0.1184'}
INFO 2025-08-04 22:19:34 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:34 signals update_versions 🚀 post_migrate triggered for reports 🚀
INFO 2025-08-04 22:19:34 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:34 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:34 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:34 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:34 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.44
INFO 2025-08-04 22:19:34 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:34 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:35 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.625
INFO 2025-08-04 22:19:35 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:35 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:36 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:36 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1185
INFO 2025-08-04 22:19:36 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:36 update_versions handle Versions updated: {'core': '3.1.0.44', 'version_tracker': '1.1.0.625', 'accounts': '1.3.0.1185'}
INFO 2025-08-04 22:19:36 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:36 signals update_versions 🚀 post_migrate triggered for django_jalali 🚀
INFO 2025-08-04 22:19:36 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:36 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:36 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:36 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:36 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.45
INFO 2025-08-04 22:19:36 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:36 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:37 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:37 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.626
INFO 2025-08-04 22:19:37 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:37 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:39 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:39 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1186
INFO 2025-08-04 22:19:39 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:39 update_versions handle Versions updated: {'core': '3.1.0.45', 'version_tracker': '1.1.0.626', 'accounts': '1.3.0.1186'}
INFO 2025-08-04 22:19:39 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:39 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:19:39 signals update_versions 🚀 post_migrate triggered for version_tracker 🚀
INFO 2025-08-04 22:19:39 signals update_versions 🚀 post_migrate triggered for tankhah 🚀
INFO 2025-08-04 22:19:39 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:39 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:39 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:39 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:39 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.46
INFO 2025-08-04 22:19:39 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:39 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:40 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:40 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.627
INFO 2025-08-04 22:19:40 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:40 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:42 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:19:42 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:19:43 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:19:43 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:43 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1187
INFO 2025-08-04 22:19:43 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:43 update_versions handle Versions updated: {'core': '3.1.0.46', 'version_tracker': '1.1.0.627', 'accounts': '1.3.0.1187'}
INFO 2025-08-04 22:19:43 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:43 signals update_versions 🚀 post_migrate triggered for accounts 🚀
INFO 2025-08-04 22:19:43 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:43 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:43 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:43 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:19:43 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:19:43 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:19:43 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:19:43 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:43 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.47
INFO 2025-08-04 22:19:43 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:43 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:43 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:19:44 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:19:44 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:19:44 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:19:44 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:19:44 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:19:45 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:45 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.628
INFO 2025-08-04 22:19:45 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:45 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:47 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:19:47 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:19:47 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:19:47 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:19:47 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:48 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1188
INFO 2025-08-04 22:19:48 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:48 update_versions handle Versions updated: {'core': '3.1.0.47', 'version_tracker': '1.1.0.628', 'accounts': '1.3.0.1188'}
INFO 2025-08-04 22:19:48 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:48 signals update_versions 🚀 post_migrate triggered for budgets 🚀
INFO 2025-08-04 22:19:48 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:48 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:48 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:48 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:48 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.48
INFO 2025-08-04 22:19:48 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:48 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:50 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:50 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.629
INFO 2025-08-04 22:19:50 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:50 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:53 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:53 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1189
INFO 2025-08-04 22:19:53 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:53 update_versions handle Versions updated: {'core': '3.1.0.48', 'version_tracker': '1.1.0.629', 'accounts': '1.3.0.1189'}
INFO 2025-08-04 22:19:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:19:53 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:19:53 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:53 signals update_versions 🚀 post_migrate triggered for formtools 🚀
INFO 2025-08-04 22:19:53 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:53 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:53 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:53 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:19:53 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:19:53 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:19:53 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:53 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.49
INFO 2025-08-04 22:19:53 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:54 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:19:55 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:55 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.630
INFO 2025-08-04 22:19:55 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:19:55 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:19:58 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:58 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1190
INFO 2025-08-04 22:19:58 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:19:58 update_versions handle Versions updated: {'core': '3.1.0.49', 'version_tracker': '1.1.0.630', 'accounts': '1.3.0.1190'}
INFO 2025-08-04 22:19:58 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:19:58 signals update_versions 🚀 post_migrate triggered for usb_key_validator 🚀
INFO 2025-08-04 22:19:58 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:19:58 update_versions handle Starting version update process...
INFO 2025-08-04 22:19:58 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:19:59 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:59 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.50
INFO 2025-08-04 22:19:59 models update_version_file Updated version.py for core
INFO 2025-08-04 22:19:59 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:20:00 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:20:00 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.631
INFO 2025-08-04 22:20:00 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:20:00 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:20:04 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:20:04 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1191
INFO 2025-08-04 22:20:04 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:20:04 update_versions handle Versions updated: {'core': '3.1.0.50', 'version_tracker': '1.1.0.631', 'accounts': '1.3.0.1191'}
INFO 2025-08-04 22:20:04 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:20:04 signals update_versions 🚀 post_migrate triggered for notificationApp 🚀
INFO 2025-08-04 22:20:04 signals update_versions Calling update_versions command...
INFO 2025-08-04 22:20:04 update_versions handle Starting version update process...
INFO 2025-08-04 22:20:04 update_versions update_app_versions Checking core for changes...
INFO 2025-08-04 22:20:04 models update_version_file Updated version.py for core
INFO 2025-08-04 22:20:04 models create_code_changes 8 code changes recorded for مدیریت ساختار نرم افزار تنخواه گردان v3.1.0.51
INFO 2025-08-04 22:20:04 models update_version_file Updated version.py for core
INFO 2025-08-04 22:20:04 update_versions update_app_versions Checking version_tracker for changes...
INFO 2025-08-04 22:20:06 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:20:06 models create_code_changes 17 code changes recorded for مدیریت نسخه v1.1.0.632
INFO 2025-08-04 22:20:06 models update_version_file Updated version.py for version_tracker
INFO 2025-08-04 22:20:06 update_versions update_app_versions Checking accounts for changes...
INFO 2025-08-04 22:20:09 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:20:09 models create_code_changes 25 code changes recorded for مدیریت کاربران v1.3.0.1192
INFO 2025-08-04 22:20:09 models update_version_file Updated version.py for accounts
INFO 2025-08-04 22:20:09 update_versions handle Versions updated: {'core': '3.1.0.51', 'version_tracker': '1.1.0.632', 'accounts': '1.3.0.1192'}
INFO 2025-08-04 22:20:09 update_versions handle Final version updated successfully!
INFO 2025-08-04 22:20:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:20:13 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:20:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:20:13 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:20:13 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:20:13 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
ERROR 2025-08-04 22:20:13 view_Nfactor form_valid Error during atomic transaction for Factor creation: {'status': ["Value 'PENDING' is not a valid choice."]}
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 589, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 913, in save
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1651, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'status': ["Value 'PENDING' is not a valid choice."]}
INFO 2025-08-04 22:20:14 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:20:14 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:20:14 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:20:14 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:20:14 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1145600.00', 'project_returned': '0', 'project_remaining': '23998854400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:20:14 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:24:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:24:37 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:24:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:24:38 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:24:38 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:24:38 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:24:38 view_Nfactor form_valid Factor saved: PK=38, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0002
INFO 2025-08-04 22:24:38 models save Calculated amount for FactorItem pk=None: 10000
INFO 2025-08-04 22:24:38 models save FactorItem saved successfully (pk=38). Amount=10000, Status=PENDING_APPROVAL
WARNING 2025-08-04 22:24:38 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-04 22:24:38 models save Tankhah saved 👍with ID: 5
INFO 2025-08-04 22:24:38 models create_budget_transaction BudgetTransaction created: ID=80, TxID=TX-FACTOR-NEW-38-1754333678.374856, amount=10000, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-04 22:24:38 models create_budget_transaction BudgetHistory recorded for TxID: TX-FACTOR-NEW-38-1754333678.374856
WARNING 2025-08-04 22:24:38 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-04 22:24:38 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:24:38 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 22:24:38 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:24:38 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 22:24:38 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 22:24:39 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 22:24:39 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 9
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 9
INFO 2025-08-04 22:24:39 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 9
INFO 2025-08-04 22:24:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 22:24:39 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 9 فاکتور برای گروه‌بندی
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:39 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:24:40 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 22:24:40 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 9 فاکتور، مبلغ کل: 955600.00
INFO 2025-08-04 22:24:40 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 22:25:25 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:25:25 middleware __call__ درخواست به: /tankhah/factor-item/38/approve/, کاربر: snejate
INFO 2025-08-04 22:25:25 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 22:25:25 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0002 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 22:25:25 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 22:25:25 PermissionBase dispatch [PermissionBaseView] تمام بررسی‌های دسترسی برای FactorItemApproveView موفقیت‌آمیز بود.
INFO 2025-08-04 22:25:25 middleware __call__ پاسخ برای /tankhah/factor-item/38/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:25:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:25:37 middleware __call__ درخواست به: /tankhah/factor-item/38/approve/, کاربر: snejate
INFO 2025-08-04 22:25:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 22:25:37 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0002 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 22:25:37 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 22:25:37 PermissionBase dispatch [PermissionBaseView] تمام بررسی‌های دسترسی برای FactorItemApproveView موفقیت‌آمیز بود.
INFO 2025-08-04 22:25:37 middleware __call__ پاسخ برای /tankhah/factor-item/38/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:29:53 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:29:53 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:29:54 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:29:54 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:29:56 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:29:56 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:29:56 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:29:56 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1155600.00', 'project_returned': '0', 'project_remaining': '23998844400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:29:56 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:30:17 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:30:17 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:30:17 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:30:18 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:30:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:30:20 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:30:20 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:30:20 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1155600.00', 'project_returned': '0', 'project_remaining': '23998844400.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:30:20 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:30:35 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:30:35 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:30:35 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:30:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:30:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:30:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:30:36 view_Nfactor form_valid Factor saved: PK=39, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0003
INFO 2025-08-04 22:30:36 models save Calculated amount for FactorItem pk=None: 1111
INFO 2025-08-04 22:30:36 models save FactorItem saved successfully (pk=39). Amount=1111, Status=PENDING_APPROVAL
WARNING 2025-08-04 22:30:36 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-04 22:30:36 models save Tankhah saved 👍with ID: 5
INFO 2025-08-04 22:30:36 models create_budget_transaction BudgetTransaction created: ID=81, TxID=TX-FACTOR-NEW-39-1754334036.338245, amount=1111, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-04 22:30:36 models create_budget_transaction BudgetHistory recorded for TxID: TX-FACTOR-NEW-39-1754334036.338245
WARNING 2025-08-04 22:30:36 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-04 22:30:36 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:30:36 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 22:30:36 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:30:36 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 22:30:36 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 22:30:36 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 22:30:36 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 10
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 10
INFO 2025-08-04 22:30:36 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 10
INFO 2025-08-04 22:30:36 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 22:30:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 10 فاکتور برای گروه‌بندی
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:30:37 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 22:30:37 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 10 فاکتور، مبلغ کل: 956711.00
INFO 2025-08-04 22:30:37 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 22:31:03 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:03 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:31:04 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:31:04 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 200
INFO 2025-08-04 22:31:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:06 middleware __call__ درخواست به: /tankhah/get-tankhah-budget-info/, کاربر: snejate
INFO 2025-08-04 22:31:06 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:31:06 budget_calculations get_tankhah_budget_info Budget info retrieved for tankhah TNKH-14040430-HSarein-HSAR-Flor3-001: {'project_name': 'بازسازی هتل - طبقه سوم لاله سرعین', 'project_budget': '24000000000.00', 'project_consumed': '1156711.00', 'project_returned': '0', 'project_remaining': '23998843289.00', 'tankhah_budget': '4000000000.00', 'tankhah_consumed': '0', 'tankhah_remaining': '4000000000.00'}
INFO 2025-08-04 22:31:06 middleware __call__ پاسخ برای /tankhah/get-tankhah-budget-info/ - کد وضعیت: 200
INFO 2025-08-04 22:31:20 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:20 middleware __call__ درخواست به: /tankhah/factor/create/new/, کاربر: snejate
INFO 2025-08-04 22:31:20 PermissionBase dispatch [PermissionBaseView] شروع dispatch در New_FactorCreateView برای کاربر: snejate
INFO 2025-08-04 22:31:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:31:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:31:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:31:21 view_Nfactor form_valid Factor saved: PK=40, Number=FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0004
INFO 2025-08-04 22:31:21 models save Calculated amount for FactorItem pk=None: 100000
INFO 2025-08-04 22:31:21 models save FactorItem saved successfully (pk=40). Amount=100000, Status=PENDING_APPROVAL
WARNING 2025-08-04 22:31:21 models create_budget_transaction Method 'is_period_locked' not found on BudgetPeriod model (pk=22). Lock check skipped.
INFO 2025-08-04 22:31:21 models save Tankhah saved 👍with ID: 5
INFO 2025-08-04 22:31:21 models create_budget_transaction BudgetTransaction created: ID=82, TxID=TX-FACTOR-NEW-40-1754334081.118672, amount=100000, type=CONSUMPTION, allocation_pk=76
INFO 2025-08-04 22:31:21 models create_budget_transaction BudgetHistory recorded for TxID: TX-FACTOR-NEW-40-1754334081.118672
WARNING 2025-08-04 22:31:21 models create_budget_transaction Method 'check_warning_threshold' not found on BudgetPeriod model (pk=22). Warning check skipped.
INFO 2025-08-04 22:31:21 budget_calculations get_tankhah_remaining_budget get_tankhah_remaining_budget(TNKH-14040430-HSarein-HSAR-Flor3-001): Calculated Remaining = 4000000000.00
INFO 2025-08-04 22:31:21 middleware __call__ پاسخ برای /tankhah/factor/create/new/ - کد وضعیت: 302
INFO 2025-08-04 22:31:21 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:21 middleware __call__ درخواست به: /tankhah/factors/, کاربر: snejate
INFO 2025-08-04 22:31:21 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorListView برای کاربر: snejate
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] شروع دریافت لیست فاکتورها برای کاربر: snejate
INFO 2025-08-04 22:31:21 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorListView
INFO 2025-08-04 22:31:21 PermissionBase get_queryset [PermissionBaseView] بازگشت کوئری‌ست بدون فیلتر برای کاربر HQ
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد اولیه فاکتورها: 11
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] سازمان‌های کاربر: {1, 7}, سطح: 7
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] محدودیت سازمانی اعمال شد
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] پس از اعمال فیلترها: 11
INFO 2025-08-04 22:31:21 View_Factor_list get_queryset [FACTOR_LIST] تعداد نهایی فاکتورها: 11
INFO 2025-08-04 22:31:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] شروع ایجاد context برای کاربر: snejate
INFO 2025-08-04 22:31:21 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] پردازش 11 فاکتور برای گروه‌بندی
ERROR 2025-08-04 22:31:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:22 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
ERROR 2025-08-04 22:31:23 check_user_access check_user_factor_access خطا در بررسی دسترسی کاربر snejate: Field 'stage_order' expected a number but got <AccessRule: HSarein - هتل لاله سرعین (هتل) - None - 4 (ترتیب: 1) - APPROVED>.
INFO 2025-08-04 22:31:23 View_Factor_list get_context_data [FACTOR_LIST_CONTEXT] گروه‌بندی تکمیل شد. 1 سازمان، 11 فاکتور، مبلغ کل: 1056711.00
INFO 2025-08-04 22:31:23 middleware __call__ پاسخ برای /tankhah/factors/ - کد وضعیت: 200
INFO 2025-08-04 22:31:33 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:33 middleware __call__ درخواست به: /tankhah/factor-item/38/approve/, کاربر: snejate
INFO 2025-08-04 22:31:33 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 22:31:33 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0002 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 22:31:33 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 22:31:33 PermissionBase dispatch [PermissionBaseView] تمام بررسی‌های دسترسی برای FactorItemApproveView موفقیت‌آمیز بود.
INFO 2025-08-04 22:31:33 middleware __call__ پاسخ برای /tankhah/factor-item/38/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:31:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:37 middleware __call__ درخواست به: /tankhah/factor/39/approval-path/, کاربر: snejate
INFO 2025-08-04 22:31:37 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorApprovalPathView برای کاربر: snejate
INFO 2025-08-04 22:31:37 views_approval_path get_object [FactorApprovalPathView] دریافت فاکتور با شناسه: 39
INFO 2025-08-04 22:31:37 views_approval_path get_queryset [FactorApprovalPathView] دریافت کوئری‌ست برای کاربر: snejate
INFO 2025-08-04 22:31:37 PermissionBase get_queryset [PermissionBaseView] دریافت کوئری‌ست برای FactorApprovalPathView
INFO 2025-08-04 22:31:37 PermissionBase get_queryset [PermissionBaseView] بدون فیلتر سازمانی برای DetailView
ERROR 2025-08-04 22:31:37 PermissionBase _has_organization_access خطا در گرفتن شیء یا سازمان آن: Invalid field name(s) given in select_related: 'current_stage'. Choices are: organization, project, project_budget_allocation, subproject, created_by, last_stopped_post, financialreport. دسترسی رد شد.
WARNING 2025-08-04 22:31:37 PermissionBase dispatch [PermissionBaseView] کاربر snejate به سازمان مرتبط با شیء دسترسی ندارد.
WARNING 2025-08-04 22:31:37 PermissionBase handle_no_permission [PermissionBaseView] عدم دسترسی برای کاربر snejate
INFO 2025-08-04 22:31:37 middleware __call__ پاسخ برای /tankhah/factor/39/approval-path/ - کد وضعیت: 302
INFO 2025-08-04 22:31:37 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:37 middleware __call__ درخواست به: /, کاربر: snejate
INFO 2025-08-04 22:31:38 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 22:31:40 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:31:40 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: snejate
INFO 2025-08-04 22:31:40 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: snejate
INFO 2025-08-04 22:31:40 PermissionBase _get_organization_from_object [PermissionBaseView] سازمان از tankhah شیء FAC-TNKH-14040430-HSarein-HSAR-Flor3-001-14040513-HSarein-0003 (TNKH-14040430-HSarein-HSAR-Flor3-001) استخراج شد: HSarein - هتل لاله سرعین (هتل)
INFO 2025-08-04 22:31:40 PermissionBase _has_organization_access کاربر snejate از طریق پست 'کارشناس مالی تنخواه گردان شعبات' به سازمان 'هتل لاله سرعین' دسترسی دارد. دسترسی تایید شد.
INFO 2025-08-04 22:31:40 PermissionBase dispatch [PermissionBaseView] تمام بررسی‌های دسترسی برای FactorItemApproveView موفقیت‌آمیز بود.
INFO 2025-08-04 22:31:40 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:34:59 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:34:59 middleware __call__ درخواست به: /accounts/logout/, کاربر: snejate
INFO 2025-08-04 22:35:00 middleware __call__ کاربر  خارج شد
INFO 2025-08-04 22:35:00 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:35:00 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 22:35:00 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 22:35:05 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:35:05 middleware __call__ درخواست به: /accounts/login/, کاربر: AnonymousUser
INFO 2025-08-04 22:35:06 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 302
INFO 2025-08-04 22:35:06 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:35:06 middleware __call__ درخواست به: /, کاربر: admin
INFO 2025-08-04 22:35:07 middleware __call__ پاسخ برای / - کد وضعیت: 200
INFO 2025-08-04 22:35:07 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:35:07 middleware __call__ درخواست به: /accounts/login/, کاربر: admin
INFO 2025-08-04 22:35:07 middleware __call__ پاسخ برای /accounts/login/ - کد وضعیت: 200
INFO 2025-08-04 22:35:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:35:09 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: admin
INFO 2025-08-04 22:35:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 22:35:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser است، دسترسی کامل.
INFO 2025-08-04 22:35:09 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:37:58 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:37:58 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: admin
INFO 2025-08-04 22:37:58 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 22:37:58 PermissionBase dispatch [PermissionBaseView] کاربر superuser است، دسترسی کامل.
ERROR 2025-08-04 22:37:58 view_FactorItemApprove get_context_data FATAL: No active post found for user 'admin'. Aborting.
INFO 2025-08-04 22:37:58 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:38:01 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:38:01 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: admin
INFO 2025-08-04 22:38:01 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 22:38:01 PermissionBase dispatch [PermissionBaseView] کاربر superuser است، دسترسی کامل.
ERROR 2025-08-04 22:38:01 view_FactorItemApprove get_context_data FATAL: No active post found for user 'admin'. Aborting.
INFO 2025-08-04 22:38:01 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:38:09 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:38:09 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: admin
INFO 2025-08-04 22:38:09 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 22:38:09 PermissionBase dispatch [PermissionBaseView] کاربر superuser است، دسترسی کامل.
ERROR 2025-08-04 22:38:09 view_FactorItemApprove get_context_data FATAL: No active post found for user 'admin'. Aborting.
INFO 2025-08-04 22:38:09 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
INFO 2025-08-04 22:41:13 models remove_inactive_users هیچ کاربر غیرفعالی برای حذف یافت نشد.
INFO 2025-08-04 22:41:13 middleware __call__ درخواست به: /tankhah/factor-item/39/approve/, کاربر: admin
INFO 2025-08-04 22:41:13 PermissionBase dispatch [PermissionBaseView] شروع dispatch در FactorItemApproveView برای کاربر: admin
INFO 2025-08-04 22:41:13 PermissionBase dispatch [PermissionBaseView] کاربر superuser است، دسترسی کامل.
WARNING 2025-08-04 22:41:13 view_FactorItemApprove get_context_data User 'admin' is a superuser but has NO active post. Granting all possible workflow actions as a fallback.
INFO 2025-08-04 22:41:13 view_FactorItemApprove get_context_data Final calculated access for 'admin': can_edit=True, allowed_actions=['APPROVE', 'REJECT', 'SUBMIT', 'FINAL_APPROVE']
INFO 2025-08-04 22:41:14 middleware __call__ پاسخ برای /tankhah/factor-item/39/approve/ - کد وضعیت: 200
