ERROR 2025-06-09 23:30:11 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:35:55 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:36:55 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:37:26 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:37:56 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:37:58 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:53:06 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:54:50 get_budget_details get_budget_details Error in get_budget_details for entity E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-09 23:56:13 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:03:47 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:09:46 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:10:14 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:10:43 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:21:22 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:29:51 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:32:11 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:34:52 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:35:10 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:35:46 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:13 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:14 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:15 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:34 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:35 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:41 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:42 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:42 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:36:43 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:37:41 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:38:05 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:38:06 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:38:18 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:38:26 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:39:59 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:40:00 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:40:12 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:42:02 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:16 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:28 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:28 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:29 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:40 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:43:58 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:45:54 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:46:03 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:46:03 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:49:10 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:49:11 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:49:12 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:50:15 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 107, in get
    for ba_instance in budget_allocations_qs:
                       ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1930, in _fetch_all
    self._prefetch_related_objects()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1320, in _prefetch_related_objects
    prefetch_related_objects(self._result_cache, *self._prefetch_related_lookups)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 2355, in prefetch_related_objects
    raise AttributeError(
    ...<7 lines>...
    )
AttributeError: Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
ERROR 2025-06-10 00:55:23 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:55:24 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:55:39 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:56:22 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:56:48 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:57:12 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:59:34 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:59:40 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:59:41 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 00:59:42 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:00:48 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:06:14 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:06:15 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:07:48 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:07:50 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:08:42 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:08:46 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:11:46 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:12:50 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:13:02 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:17:38 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:17:38 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:17:53 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:18:15 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:19:25 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:21:11 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:23:45 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:24:23 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:24:52 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:24:53 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:24:54 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:25:35 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:25:36 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:25:37 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:25:49 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:20 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:23 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:24 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:25 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:31 models save Error saving BudgetAllocation: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:31 models save Error saving BudgetTransaction: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 1375, in save
    self.allocation.save(update_fields=['allocated_amount', 'returned_amount'])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:31 forms_BudgetReturm save Validation error during save: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:31 view_BudgetReturn form_valid Error creating return transaction for allocation 76: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:31 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:44 models save Error saving BudgetAllocation: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:44 models save Error saving BudgetTransaction: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 1375, in save
    self.allocation.save(update_fields=['allocated_amount', 'returned_amount'])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:44 forms_BudgetReturm save Validation error during save: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:44 view_BudgetReturn form_valid Error creating return transaction for allocation 76: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:44 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:26:50 models save Error saving BudgetAllocation: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:50 models save Error saving BudgetTransaction: ['مبلغ تخصیص باید مثبت باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 1375, in save
    self.allocation.save(update_fields=['allocated_amount', 'returned_amount'])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 726, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 607, in clean
    raise ValidationError(_("مبلغ تخصیص باید مثبت باشد."))
django.core.exceptions.ValidationError: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:50 forms_BudgetReturm save Validation error during save: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:50 view_BudgetReturn form_valid Error creating return transaction for allocation 76: ['مبلغ تخصیص باید مثبت باشد.']
ERROR 2025-06-10 01:26:50 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:27:06 models validate_return Return amount 570,000,000 exceeds allocated_amount 6,000,000 for allocation ID: 76
ERROR 2025-06-10 01:27:06 models save Error saving BudgetTransaction: ['مبلغ بازگشت (570,000,000 ریال) نمی\u200cتواند بیشتر از مبلغ تخصیص\u200cیافته (6,000,000 ریال) باشد.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 1366, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 1351, in clean
    raise ValidationError(error_message)
django.core.exceptions.ValidationError: ['مبلغ بازگشت (570,000,000 ریال) نمی\u200cتواند بیشتر از مبلغ تخصیص\u200cیافته (6,000,000 ریال) باشد.']
ERROR 2025-06-10 01:27:06 forms_BudgetReturm save Validation error during save: ['مبلغ بازگشت (570,000,000 ریال) نمی\u200cتواند بیشتر از مبلغ تخصیص\u200cیافته (6,000,000 ریال) باشد.']
ERROR 2025-06-10 01:27:06 view_BudgetReturn form_valid Error creating return transaction for allocation 76: ['مبلغ بازگشت (570,000,000 ریال) نمی\u200cتواند بیشتر از مبلغ تخصیص\u200cیافته (6,000,000 ریال) باشد.']
ERROR 2025-06-10 01:27:06 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:45:44 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:55:32 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 01:55:59 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 02:05:12 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 02:05:18 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=4): Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 107, in get
    for ba_instance in budget_allocations_qs:
                       ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1930, in _fetch_all
    self._prefetch_related_objects()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1320, in _prefetch_related_objects
    prefetch_related_objects(self._result_cache, *self._prefetch_related_lookups)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 2355, in prefetch_related_objects
    raise AttributeError(
    ...<7 lines>...
    )
AttributeError: Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
ERROR 2025-06-10 02:05:23 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 107, in get
    for ba_instance in budget_allocations_qs:
                       ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1930, in _fetch_all
    self._prefetch_related_objects()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1320, in _prefetch_related_objects
    prefetch_related_objects(self._result_cache, *self._prefetch_related_lookups)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 2355, in prefetch_related_objects
    raise AttributeError(
    ...<7 lines>...
    )
AttributeError: Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
ERROR 2025-06-10 02:17:47 view_Update_Project_Budget_Allocation dispatch Error accessing allocation: 'BudgetAllocation' object has no attribute 'budget_allocation'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\ProjectBudgetAllocation\view_Update_Project_Budget_Allocation.py", line 285, in dispatch
    allocation = self.get_object()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\ProjectBudgetAllocation\view_Update_Project_Budget_Allocation.py", line 43, in get_object
    logger.debug(f"Allocation organization: {allocation.budget_allocation.organization}")
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetAllocation' object has no attribute 'budget_allocation'
ERROR 2025-06-10 02:17:53 get_budget_details get_budget_details Error in get_budget_details for entity HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال): cannot import name 'to_jalali' from 'django_jalali.templatetags.jformat' (D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django_jalali\templatetags\jformat.py)
ERROR 2025-06-10 13:00:12 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 96, in get
    for ba_instance in budget_allocations_qs:
                       ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1930, in _fetch_all
    self._prefetch_related_objects()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1320, in _prefetch_related_objects
    prefetch_related_objects(self._result_cache, *self._prefetch_related_lookups)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 2355, in prefetch_related_objects
    raise AttributeError(
    ...<7 lines>...
    )
AttributeError: Cannot find 'project_allocations' on BudgetAllocation object, 'project_allocations' is an invalid parameter to prefetch_related()
ERROR 2025-06-10 13:50:25 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-06-10 14:00:44 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-06-10 14:01:02 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=4): Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 128, in get
    group['add_pba_url'] = reverse('project_budget_allocation_create') + f"?budget_item_id={budget_item.pk}"
                           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
ERROR 2025-06-10 14:01:04 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 128, in get
    group['add_pba_url'] = reverse('project_budget_allocation_create') + f"?budget_item_id={budget_item.pk}"
                           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
ERROR 2025-06-10 14:01:34 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 128, in get
    group['add_pba_url'] = reverse('project_budget_allocation_create') + f"?budget_item_id={budget_item.pk}"
                           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
ERROR 2025-06-10 14:02:47 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 128, in get
    group['add_pba_url'] = reverse('project_budget_allocation_create') + f"?budget_item_id={budget_item.pk}"
                           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
ERROR 2025-06-10 14:03:23 ComprehensiveBudgetReportView get API Error for budget items (Period PK=21, Org PK=1): Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 128, in get
    group['add_pba_url'] = reverse('project_budget_allocation_create') + f"?budget_item_id={budget_item.pk}"
                           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project_budget_allocation_create' not found. 'project_budget_allocation_create' is not a valid view function or pattern name.
ERROR 2025-06-10 14:07:05 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-06-10 14:10:05 view_Nfactor get_context_data Error calculating budget info for Tankhah TNKH-14040318-HSarein-E-IT-001: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 116, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-06-10 14:11:11 view_Nfactor get_context_data Error calculating budget info for Tankhah TNKH-14040318-HSarein-E-IT-001: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 116, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-06-10 14:34:32 view_Nfactor get_context_data Error calculating budget info for Tankhah TNKH-14040318-HSarein-E-IT-001: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 116, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-06-10 14:34:39 view_Nfactor get_context_data Error calculating budget info for Tankhah TNKH-14040318-HSarein-E-IT-001: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 116, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-06-10 14:41:24 view_Nfactor get_context_data Error calculating budget info for Tankhah TNKH-14040318-HSarein-E-IT-001: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 116, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "E-IT - بازسازی اتاق TV Room - زیر ساخت IT (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-06-10 14:45:22 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-10 14:45:23 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-06-10 14:45:24 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-10 14:45:24 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-06-10 22:36:07 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-10 22:36:07 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-06-10 23:21:35 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-06-10 23:21:40 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-06-10 23:21:42 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-06-10 23:21:52 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation  '. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-06-10 23:22:51 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-06-10 23:56:37 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-10 23:58:06 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-11 00:00:35 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-25 19:03:42 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-25 19:03:43 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-06-25 19:04:00 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 886, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 943, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 896, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-06-25 19:05:04 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-25 19:06:42 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-25 19:32:31 view_Nfactor form_valid Budget period locked for tankhah TNKH-14040318-HSarein-E-IT-001
ERROR 2025-06-25 19:53:57 models save فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001 به دلیل قفل بودن تخصیص یا دوره بودجه نمی‌تواند ثبت شود
ERROR 2025-06-25 19:53:57 view_Nfactor form_valid Error during transaction: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 228, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1072, in save
    raise ValidationError(_("نمی‌توان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است."))
django.core.exceptions.ValidationError: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
ERROR 2025-06-25 19:53:57 view_Nfactor form_invalid Main FactorForm is invalid. Errors: {}
ERROR 2025-06-25 19:59:18 models save فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001 به دلیل قفل بودن تخصیص یا دوره بودجه نمی‌تواند ثبت شود
ERROR 2025-06-25 19:59:18 view_Nfactor form_valid Error during transaction: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 339, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1072, in save
    raise ValidationError(_("نمی‌توان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است."))
django.core.exceptions.ValidationError: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
ERROR 2025-06-25 19:59:18 view_Nfactor form_invalid Main FactorForm is invalid. Errors: {}
ERROR 2025-06-25 20:13:15 models save فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001 به دلیل قفل بودن تخصیص یا دوره بودجه نمی‌تواند ثبت شود
ERROR 2025-06-25 20:13:15 view_Nfactor form_valid Error during atomic transaction for Factor creation: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 137, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1072, in save
    raise ValidationError(_("نمی‌توان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است."))
django.core.exceptions.ValidationError: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
ERROR 2025-06-25 20:13:26 models save فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001 به دلیل قفل بودن تخصیص یا دوره بودجه نمی‌تواند ثبت شود
ERROR 2025-06-25 20:13:26 view_Nfactor form_valid Error during atomic transaction for Factor creation: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 137, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 1072, in save
    raise ValidationError(_("نمی‌توان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است."))
django.core.exceptions.ValidationError: ['نمی\u200cتوان فاکتور جدید ثبت کرد، تخصیص یا دوره قفل شده است.']
ERROR 2025-06-25 20:18:30 view_Nfactor form_valid Error during atomic transaction for Factor creation: create_budget_transaction() missing 1 required positional argument: 'transaction_id'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 156, in form_valid
    create_budget_transaction(
    ~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation=self.object.tankhah.project_budget_allocation,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        description=f"ایجاد فاکتور به شماره {self.object.number}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: create_budget_transaction() missing 1 required positional argument: 'transaction_id'
