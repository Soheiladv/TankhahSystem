ERROR 2025-06-27 17:51:16 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-06-27 17:51:16 rcms_custom_filters format_negative Error formatting number تست ردیف: could not convert string to float: 'تست ردیف'
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:25 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:42:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:43:53 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:15 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:18 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:44:52 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number بازگشت مبلغ ۵۷۰,۰۰۰,۰۰۰ (پانصد و هفتاد میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».: could not convert string to float: 'بازگشت مبلغ ۵۷۰,۰۰۰,۰۰۰ (پانصد و هفتاد میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number بازگشت مبلغ ۲۴,۰۰۰,۰۰۰ (بیست میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».: could not convert string to float: 'بازگشت مبلغ ۲۴,۰۰۰,۰۰۰ (بیست میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number ۷۶,۰۰۰,۰۰۰: could not convert string to float: '۷۶,۰۰۰,۰۰۰'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور به شماره FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001: could not convert string to float: 'ایجاد فاکتور به شماره FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040318-HSarein-0001: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040318-HSarein-0001'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0002: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0002'
ERROR 2025-06-27 18:45:01 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0001: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0001'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number بازگشت مبلغ ۵۷۰,۰۰۰,۰۰۰ (پانصد و هفتاد میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».: could not convert string to float: 'بازگشت مبلغ ۵۷۰,۰۰۰,۰۰۰ (پانصد و هفتاد میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number بازگشت مبلغ ۲۴,۰۰۰,۰۰۰ (بیست میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».: could not convert string to float: 'بازگشت مبلغ ۲۴,۰۰۰,۰۰۰ (بیست میلیون) ریال از بودجه تخصیص یافته به سازمان «هتل لاله سرعین» برای پروژه «بازسازی هتل - طبقه سوم لاله سرعین» به دلیل «اتمام پروژه و وجود مانده».'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number ۷۶,۰۰۰,۰۰۰: could not convert string to float: '۷۶,۰۰۰,۰۰۰'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور به شماره FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001: could not convert string to float: 'ایجاد فاکتور به شماره FAC-TNKH-14040318-HSarein-E-IT-001-14040404-HSarein-0001'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040318-HSarein-0001: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040318-HSarein-E-IT-001-14040318-HSarein-0001'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0002: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0002'
ERROR 2025-06-27 18:45:02 rcms_custom_filters format_negative Error formatting number ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0001: could not convert string to float: 'ایجاد فاکتور FAC-TNKH-14040315-HSarein-E-IT-001-14040315-HSarein-0001'
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:08 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 18:45:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-27 19:02:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-06-30 15:08:58 models calculate_final_version خطا در محاسبه نسخه نهایی: (2002, "Can't connect to server on '127.0.0.1' (10061)")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (2002, "Can't connect to server on '127.0.0.1' (10061)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (2002, "Can't connect to server on '127.0.0.1' (10061)")
ERROR 2025-06-30 15:09:00 models calculate_final_version خطا در محاسبه نسخه نهایی: (2002, "Can't connect to server on '127.0.0.1' (10061)")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (2002, "Can't connect to server on '127.0.0.1' (10061)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (2002, "Can't connect to server on '127.0.0.1' (10061)")
ERROR 2025-06-30 15:46:19 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem'")
ERROR 2025-06-30 15:46:20 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem'")
ERROR 2025-06-30 15:52:15 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem'")
ERROR 2025-06-30 15:52:15 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem'")
ERROR 2025-07-01 08:28:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-01 08:28:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-01 08:28:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-01 08:28:21 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-01 08:28:21 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=19: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-01 08:28:24 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=15: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-05 21:45:43 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:45:43 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:45:43 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:45:43 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:45:43 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=19: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-05 21:45:45 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=15: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-05 21:45:53 views get_context_data خطای پایگاه داده برای کاربر admin: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 21:45:55 views get_context_data خطای پایگاه داده برای کاربر admin: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 21:46:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:46:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:46:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:46:26 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-05 21:46:26 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=19: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040227-HSarein-HSAR-Flor3-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 8: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-20250518-HSarei-HSAR-F-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 8: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040225-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-05 22:52:35 budget_calculations get_tankhah_remaining_budget No project_budget_allocation for tankhah TNKH-14040201-HQ_ITDC-HQ-P001-001
ERROR 2025-07-05 22:52:35 budget_calculations get_project_remaining_budget خطا در محاسبه بودجه باقی‌مانده پروژه 7: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 675, in get_project_remaining_budget
    f"amounts={[a.allocated_amount for a in allocations]}"
                                            ^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-06 00:02:29 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-06 00:02:31 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-06 00:02:32 budget_calculations get_tankhah_budget_info Error in get_tankhah_budget_info: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 496, in get_tankhah_budget_info
    ).get(id=tankhah_id)
      ~~~^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_budgetallocation.created_at' in 'field list'")
ERROR 2025-07-06 00:07:52 forms_BudgetAllocation clean Error in BudgetAllocationForm.clean: ['مبلغ تخصیص (4,500,000,000 ریال) بیشتر از باقی\u200cمانده دوره بودجه (1,800,000,000 ریال) است.']
ERROR 2025-07-06 00:07:52 views_BudgetAllocation form_invalid Form invalid: errors={"allocated_amount": [{"message": "\u0645\u0628\u0644\u063a \u062a\u062e\u0635\u06cc\u0635 (4,500,000,000 \u0631\u06cc\u0627\u0644) \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 \u0628\u0648\u062f\u062c\u0647 \u0628\u0627\u0642\u06cc\u200c\u0645\u0627\u0646\u062f\u0647 (1,800,000,000 \u0631\u06cc\u0627\u0644) \u0627\u0633\u062a.", "code": ""}], "__all__": [{"message": "\u062e\u0637\u0627 \u062f\u0631 \u0627\u0639\u062a\u0628\u0627\u0631\u0633\u0646\u062c\u06cc \u062a\u062e\u0635\u06cc\u0635: ['\u0645\u0628\u0644\u063a \u062a\u062e\u0635\u06cc\u0635 (4,500,000,000 \u0631\u06cc\u0627\u0644) \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 \u0628\u0627\u0642\u06cc\\u200c\u0645\u0627\u0646\u062f\u0647 \u062f\u0648\u0631\u0647 \u0628\u0648\u062f\u062c\u0647 (1,800,000,000 \u0631\u06cc\u0627\u0644) \u0627\u0633\u062a.']", "code": ""}, {"message": "\u0645\u0628\u0644\u063a \u062a\u062e\u0635\u06cc\u0635 (4,500,000,000 \u0631\u06cc\u0627\u0644) \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 \u0628\u0627\u0642\u06cc\u200c\u0645\u0627\u0646\u062f\u0647 \u062f\u0648\u0631\u0647 \u0628\u0648\u062f\u062c\u0647 (1,800,000,000 \u0631\u06cc\u0627\u0644) \u0627\u0633\u062a.", "code": ""}]}
ERROR 2025-07-06 00:08:03 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:08:03 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:08:20 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:08:20 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:08:28 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:08:28 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:10:06 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 00:10:06 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 00:10:06 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 00:10:06 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 00:10:06 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=19: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-06 00:12:03 DashboardReset post Reset failed: (1451, 'Cannot delete or update a parent row: a foreign key constraint fails (`tankhasystem`.`budgets_projectbudgetallocation`, CONSTRAINT `budgets_projectbudge_budget_allocation_id_4605121d_fk_budgets_b` FOREIGN KEY (`budget_allocation_id`) REFERENCES `budgets_budgetal)')
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1451, 'Cannot delete or update a parent row: a foreign key constraint fails (`tankhasystem`.`budgets_projectbudgetallocation`, CONSTRAINT `budgets_projectbudge_budget_allocation_id_4605121d_fk_budgets_b` FOREIGN KEY (`budget_allocation_id`) REFERENCES `budgets_budgetal)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\accounts\DashboardReset.py", line 1698, in post
    count, _ = model_class.objects.all().delete()
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1188, in delete
    num_deleted, num_deleted_per_model = collector.delete()
                                         ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\deletion.py", line 502, in delete
    count = query.delete_batch(pk_list, self.using)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\subqueries.py", line 42, in delete_batch
    num_deleted += self.do_query(
                   ~~~~~~~~~~~~~^
        self.get_meta().db_table, self.where, using=using
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\subqueries.py", line 20, in do_query
    cursor = self.get_compiler(using).execute_sql(CURSOR)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1451, 'Cannot delete or update a parent row: a foreign key constraint fails (`tankhasystem`.`budgets_projectbudgetallocation`, CONSTRAINT `budgets_projectbudge_budget_allocation_id_4605121d_fk_budgets_b` FOREIGN KEY (`budget_allocation_id`) REFERENCES `budgets_budgetal)')
ERROR 2025-07-06 00:16:20 DashboardReset post Reset failed: (1054, "Unknown column 'budgets_paymentorder.created_at' in 'order clause'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.OperationalError: (1054, "Unknown column 'budgets_paymentorder.created_at' in 'order clause'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\accounts\DashboardReset.py", line 1698, in post
    count, _ = model_class.objects.all().delete()
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1187, in delete
    collector.collect(del_query)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\deletion.py", line 344, in collect
    if getattr(on_delete, "lazy_sub_objs", False) or sub_objs:
                                                     ^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 414, in __bool__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.OperationalError: (1054, "Unknown column 'budgets_paymentorder.created_at' in 'order clause'")
ERROR 2025-07-06 00:17:22 DashboardReset post Reset failed: ("Cannot delete some instances of model 'Tankhah' because they are referenced through protected foreign keys: 'Factor.tankhah'.", {<Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0004 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0005 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0006 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0007 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0008 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0009 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0010 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040225-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0001 (TNKH-14040225-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-20250518-HSarei-HSAR-F-001-14040228-HSarein-0001 (TNKH-20250518-HSarei-HSAR-F-001)>, <Factor: FAC-TNKH-14040227-HSarein-HSAR-Flor3-001-14040228-HSarein-0002 (TNKH-14040227-HSarein-HSAR-Flor3-001)>})
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\accounts\DashboardReset.py", line 1698, in post
    count, _ = model_class.objects.all().delete()
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1187, in delete
    collector.collect(del_query)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\deletion.py", line 351, in collect
    raise ProtectedError(
    ...<7 lines>...
    )
django.db.models.deletion.ProtectedError: ("Cannot delete some instances of model 'Tankhah' because they are referenced through protected foreign keys: 'Factor.tankhah'.", {<Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0004 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0005 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0006 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0007 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0008 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0009 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0010 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040225-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0001 (TNKH-14040225-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-20250518-HSarei-HSAR-F-001-14040228-HSarein-0001 (TNKH-20250518-HSarei-HSAR-F-001)>, <Factor: FAC-TNKH-14040227-HSarein-HSAR-Flor3-001-14040228-HSarein-0002 (TNKH-14040227-HSarein-HSAR-Flor3-001)>})
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040227-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040225-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040201-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040201-HQ_ITDC-HQ-P001-002: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-20250518-HSarei-HSAR-F-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:17:54 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040227-HSarein-HSAR-Flor3-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:19:17 DashboardReset post Reset failed: ("Cannot delete some instances of model 'Tankhah' because they are referenced through protected foreign keys: 'Factor.tankhah'.", {<Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0004 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0005 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0006 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0007 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0008 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0009 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0010 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040225-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0001 (TNKH-14040225-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-20250518-HSarei-HSAR-F-001-14040228-HSarein-0001 (TNKH-20250518-HSarei-HSAR-F-001)>, <Factor: FAC-TNKH-14040227-HSarein-HSAR-Flor3-001-14040228-HSarein-0002 (TNKH-14040227-HSarein-HSAR-Flor3-001)>})
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\accounts\DashboardReset.py", line 1698, in post
    count, _ = model_class.objects.all().delete()
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1187, in delete
    collector.collect(del_query)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\deletion.py", line 351, in collect
    raise ProtectedError(
    ...<7 lines>...
    )
django.db.models.deletion.ProtectedError: ("Cannot delete some instances of model 'Tankhah' because they are referenced through protected foreign keys: 'Factor.tankhah'.", {<Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0004 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0005 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-002-14040216-HQ_ITDC-0006 (TNKH-14040201-HQ_ITDC-HQ-P001-002)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0007 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0008 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0009 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040216-HQ_ITDC-0010 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040217-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0001 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040219-HQ_ITDC-0003 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040225-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0001 (TNKH-14040225-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-14040201-HQ_ITDC-HQ-P001-001-14040225-HQ_ITDC-0002 (TNKH-14040201-HQ_ITDC-HQ-P001-001)>, <Factor: FAC-TNKH-20250518-HSarei-HSAR-F-001-14040228-HSarein-0001 (TNKH-20250518-HSarei-HSAR-F-001)>, <Factor: FAC-TNKH-14040227-HSarein-HSAR-Flor3-001-14040228-HSarein-0002 (TNKH-14040227-HSarein-HSAR-Flor3-001)>})
ERROR 2025-07-06 00:19:38 utils wrapper CommandConnectorError: Error running:  mysqldump tankhasystem --quick --host=127.0.0.1 --port=3306 --user=root --password=S@123456@1234 
[WinError 2] The system cannot find the file specified
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\utils.py", line 119, in wrapper
    func(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\management\commands\dbbackup.py", line 100, in handle
    self._save_new_backup(database)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\management\commands\dbbackup.py", line 120, in _save_new_backup
    outputfile = self.connector.create_dump()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\base.py", line 94, in create_dump
    return self._create_dump()
           ~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\mysql.py", line 29, in _create_dump
    stdout, stderr = self.run_command(cmd, env=self.dump_env)
                     ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\base.py", line 182, in run_command
    raise exceptions.CommandConnectorError(
        f"Error running: {command}\n{str(err)}"
    )

ERROR 2025-07-06 00:19:38 DashboardReset post DB Backup failed: Error running:  mysqldump tankhasystem --quick --host=127.0.0.1 --port=3306 --user=root --password=S@123456@1234 
[WinError 2] The system cannot find the file specified
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\base.py", line 167, in run_command
    process = Popen(
        cmd, stdin=stdin, stdout=stdout, stderr=stderr, env=full_env
    )
  File "D:\Python312\Lib\subprocess.py", line 1036, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python312\Lib\subprocess.py", line 1548, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
                             # no special security
                             ^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
                             cwd,
                             ^^^^
                             startupinfo)
                             ^^^^^^^^^^^^
FileNotFoundError: [WinError 2] The system cannot find the file specified

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\accounts\DashboardReset.py", line 1627, in post
    call_command('dbbackup', database='default', output_filename=temp_file_path, compress=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\core\management\__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\core\management\base.py", line 459, in execute
    output = self.handle(*args, **options)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\utils.py", line 119, in wrapper
    func(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\management\commands\dbbackup.py", line 100, in handle
    self._save_new_backup(database)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\management\commands\dbbackup.py", line 120, in _save_new_backup
    outputfile = self.connector.create_dump()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\base.py", line 94, in create_dump
    return self._create_dump()
           ~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\mysql.py", line 29, in _create_dump
    stdout, stderr = self.run_command(cmd, env=self.dump_env)
                     ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\dbbackup\db\base.py", line 182, in run_command
    raise exceptions.CommandConnectorError(
        f"Error running: {command}\n{str(err)}"
    )
dbbackup.db.exceptions.CommandConnectorError: Error running:  mysqldump tankhasystem --quick --host=127.0.0.1 --port=3306 --user=root --password=S@123456@1234 
[WinError 2] The system cannot find the file specified
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040227-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040225-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040201-HQ_ITDC-HQ-P001-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040201-HQ_ITDC-HQ-P001-002: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-20250518-HSarei-HSAR-F-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:20:44 view_tankhah get_context_data [TankhahListView] خطا در محاسبه بودجه تنخواه TNKH-14040227-HSarein-HSAR-Flor3-001: (1054, "Unknown column 'core_systemsettings.tankhah_payment_ceiling_default' in 'field list'")
ERROR 2025-07-06 00:25:01 models save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 443, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:25:01 Forms_BudgetPeriod save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:25:01 views_BudgetPeriod form_invalid Form invalid: errors={}
ERROR 2025-07-06 00:25:52 models save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 443, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:25:52 Forms_BudgetPeriod save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:25:52 views_BudgetPeriod form_invalid Form invalid: errors={}
ERROR 2025-07-06 00:27:07 models save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\models.py", line 443, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:27:07 Forms_BudgetPeriod save Error saving BudgetPeriod: (1364, "Field 'is_locked' doesn't have a default value")
ERROR 2025-07-06 00:27:07 views_BudgetPeriod form_invalid Form invalid: errors={}
ERROR 2025-07-06 00:28:40 models update_lock_status Error updating lock status for BudgetPeriod 21: property 'is_locked' of 'BudgetPeriod' object has no setter
ERROR 2025-07-06 00:33:08 views_Budget_item form_invalid Form invalid: errors={"code": [{"message": "This field is required.", "code": "required"}]}
ERROR 2025-07-06 00:44:08 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:44:08 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:45:13 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:45:13 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:46:22 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 00:46:22 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 00:48:40 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 01:19:15 views_BudgetAllocation form_valid Unexpected error saving budget allocation: 'BudgetPeriod' object has no attribute 'is_period_locked'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\BudgetAllocation\views_BudgetAllocation.py", line 543, in form_valid
    is_locked, lock_message = budget_period.is_period_locked
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BudgetPeriod' object has no attribute 'is_period_locked'
ERROR 2025-07-06 01:19:15 views_BudgetAllocation form_invalid Form invalid: errors={"__all__": [{"message": "\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u062b\u0628\u062a \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0631\u062e \u062f\u0627\u062f: 'BudgetPeriod' object has no attribute 'is_period_locked'", "code": ""}]}
ERROR 2025-07-06 01:32:10 models update_lock_status Error in update_lock_status for BudgetAllocation unsaved: Model instances passed to related filters must be saved.
ERROR 2025-07-06 01:32:10 models update_lock_status Error updating lock status for BudgetPeriod 21: property 'is_locked' of 'BudgetPeriod' object has no setter
ERROR 2025-07-06 01:32:17 get_budget_details get_budget_details Error in get_budget_details for entity مجتمع آبدرمانی سبلان - بازسازی و مرمت - 1404/04/15 - 250,000,000 ریال: Entity must be Organization or Project, got <class 'budgets.models.BudgetAllocation'>
ERROR 2025-07-06 01:32:17 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-06 01:43:34 models update_lock_status Error in update_lock_status for BudgetAllocation unsaved: Model instances passed to related filters must be saved.
ERROR 2025-07-06 01:43:34 models update_lock_status Error updating lock status for BudgetPeriod 21: property 'is_locked' of 'BudgetPeriod' object has no setter
ERROR 2025-07-06 02:12:31 models calculate_final_version خطا در محاسبه نسخه نهایی: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
ERROR 2025-07-06 02:12:35 models calculate_final_version خطا در محاسبه نسخه نهایی: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
ERROR 2025-07-06 02:13:17 models calculate_final_version خطا در محاسبه نسخه نهایی: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
ERROR 2025-07-06 02:13:28 models calculate_final_version خطا در محاسبه نسخه نهایی: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
ERROR 2025-07-06 02:13:55 models calculate_final_version خطا در محاسبه نسخه نهایی: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: (1146, "Table 'tankhasystem_2.version_tracker_appversion' doesn't exist")
ERROR 2025-07-06 02:15:51 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem_2'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem_2'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem_2'")
ERROR 2025-07-06 02:15:54 models calculate_final_version خطا در محاسبه نسخه نهایی: (1049, "Unknown database 'tankhasystem_2'")
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (1049, "Unknown database 'tankhasystem_2'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\version_tracker\models.py", line 445, in calculate_final_version
    max_major = AppVersion.objects.aggregate(max_major=Max('major'))['max_major']
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 604, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1572, in execute_sql
    cursor = self.connection.cursor()
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 256, in get_new_connection
    connection = Database.connect(**conn_params)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (1049, "Unknown database 'tankhasystem_2'")
ERROR 2025-07-06 02:35:03 views get_context_data خطای پایگاه داده برای کاربر rheyran: (1054, "Unknown column 'core_postaction.allowed_actions' in 'field list'")
ERROR 2025-07-06 02:35:17 views get_context_data خطای پایگاه داده برای کاربر rheyran: (1054, "Unknown column 'core_postaction.allowed_actions' in 'field list'")
ERROR 2025-07-08 14:34:00 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 14:34:00 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 14:34:04 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 14:34:04 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 14:34:05 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 14:34:16 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 14:34:17 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 14:34:46 get_budget_details get_budget_details Error in get_budget_details for entity هتل لاله سرعین - بازسازی و مرمت - 1404/04/15 - 500,000,000 ریال: Entity must be Organization or Project, got <class 'budgets.models.BudgetAllocation'>
ERROR 2025-07-08 14:34:46 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 14:34:58 forms_BudgetAllocation clean Error in BudgetAllocationForm.clean: ['مبلغ تخصیص (25,000,000,000,000,000 ریال) بیشتر از باقی\u200cمانده دوره بودجه (4,750,000,000 ریال) است.']
ERROR 2025-07-08 14:38:33 view_tankhah form_valid Unexpected error in TankhahCreateView form_valid: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`tankhasystem`.`tankhah_tankhah`, CONSTRAINT `tankhah_tankhah_project_budget_alloc_5eeaa99b_fk_budgets_p` FOREIGN KEY (`project_budget_allocation_id`) REFERENCES `budgets_projectbudgetallocati)')
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
MySQLdb.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`tankhasystem`.`tankhah_tankhah`, CONSTRAINT `tankhah_tankhah_project_budget_alloc_5eeaa99b_fk_budgets_p` FOREIGN KEY (`project_budget_allocation_id`) REFERENCES `budgets_projectbudgetallocati)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 372, in form_valid
    self.object.save()
    ~~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 762, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 76, in execute
    return self.cursor.execute(query, args)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
    ~~~~~~~~^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`tankhasystem`.`tankhah_tankhah`, CONSTRAINT `tankhah_tankhah_project_budget_alloc_5eeaa99b_fk_budgets_p` FOREIGN KEY (`project_budget_allocation_id`) REFERENCES `budgets_projectbudgetallocati)')
ERROR 2025-07-08 15:20:53 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 886, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 896, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-08 15:21:25 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 886, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 896, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-08 15:31:36 view_FactorUpdate get_context_data خطا در محاسبه بودجه تنخواه TNKH-14040417-HSarein-HSAR-Flor3-001: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorUpdate.py", line 623, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-07-08 15:40:51 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 15:40:51 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 15:40:58 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 15:40:58 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 15:41:12 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 15:41:13 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-08 15:41:46 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-08 15:41:46 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 13:28:09 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 13:28:09 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 13:28:19 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 886, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 896, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 13:29:03 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 13:29:03 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 13:29:55 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-07-09 13:29:55 rcms_custom_filters format_negative Error formatting number خرید لوستر اتاق: could not convert string to float: 'خرید لوستر اتاق'
ERROR 2025-07-09 15:41:36 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 15:41:37 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 15:42:20 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 884, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 15:44:49 get_budget_details get_budget_details Error in get_budget_details for entity مجتمع آبدرمانی سبلان - بازسازی و مرمت - 1404/04/15 - 2,500,000,000 ریال: Entity must be Organization or Project, got <class 'budgets.models.BudgetAllocation'>
ERROR 2025-07-09 15:44:49 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 15:44:58 get_budget_details get_budget_details Error in get_budget_details for entity هتل لاله سرعین - بازسازی و مرمت - 1404/04/15 - 500,000,000 ریال: Entity must be Organization or Project, got <class 'budgets.models.BudgetAllocation'>
ERROR 2025-07-09 15:44:58 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 15:50:13 views get_context_data خطای پایگاه داده برای کاربر snejate: (1054, "Unknown column 'core_postaction.allowed_actions' in 'field list'")
ERROR 2025-07-09 15:50:18 views get_context_data خطای پایگاه داده برای کاربر snejate: (1054, "Unknown column 'core_postaction.allowed_actions' in 'field list'")
ERROR 2025-07-09 15:57:18 models update_lock_status Error in update_lock_status for BudgetAllocation unsaved: Model instances passed to related filters must be saved.
ERROR 2025-07-09 15:57:29 get_budget_details get_budget_details Error in get_budget_details for entity هتل لاله سرعین - بازسازی و مرمت - 1404/04/15 - 500,000,000 ریال: Entity must be Organization or Project, got <class 'budgets.models.BudgetAllocation'>
ERROR 2025-07-09 15:57:29 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 15:59:32 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 884, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 16:04:14 view_Nfactor form_valid Error during atomic transaction for Factor creation: TankhahDocument() got unexpected keyword arguments: 'uploaded_by'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\NF\view_Nfactor.py", line 152, in form_valid
    TankhahDocument.objects.create(tankhah=self.object.tankhah, document=file,
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                   uploaded_by=self.request.user)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: TankhahDocument() got unexpected keyword arguments: 'uploaded_by'
ERROR 2025-07-09 16:04:35 signals update_remaining_amount Error updating caches for BudgetTransaction 63: ['مبلغ تنخواه (208,000,000 ریال) بیشتر از بودجه باقی\u200cمانده (42,000,000 ریال) است.']
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\signals.py", line 34, in update_remaining_amount
    instance.related_tankhah.save(update_fields=['remaining_budget'])
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 700, in save
    self.clean()
    ~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\models.py", line 587, in clean
    raise ValidationError(
        _(f"مبلغ تنخواه ({self.amount:,.0f} ریال) بیشتر از بودجه باقی‌مانده ({remaining:,.0f} ریال) است.")
    )
django.core.exceptions.ValidationError: ['مبلغ تنخواه (208,000,000 ریال) بیشتر از بودجه باقی\u200cمانده (42,000,000 ریال) است.']
ERROR 2025-07-09 16:04:58 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 16:04:58 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 19:29:59 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 939, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:32:57 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:33:45 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:35:25 view_FactorUpdate get_context_data خطا در محاسبه بودجه تنخواه TNKH-14040418-HSarein-HSAR-Flor3-001: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\view_FactorUpdate.py", line 623, in get_context_data
    'project_returned': BudgetTransaction.objects.filter(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        allocation__project_allocations__project=project,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        transaction_type='RETURN'
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).aggregate(total=Sum('amount'))['total'] or Decimal('0'),
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1528, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1342, in check_related_objects
    self.check_query_object_type(value, opts, field)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\query.py", line 1319, in check_query_object_type
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot query "HSAR-Flor3 - بازسازی هتل - طبقه سوم لاله سرعین (فعال)": Must be "BudgetAllocation" instance.
ERROR 2025-07-09 19:40:55 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:41:03 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:41:16 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:46:56 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 19:47:06 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 895, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 20:51:24 rcms_custom_filters format_negative Error formatting number : could not convert string to float: ''
ERROR 2025-07-09 20:51:24 ComprehensiveBudgetReportView get خطای بحرانی در APIOrganizationsForPeriodView برای period_pk=21: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\reports\ComprehensiveBudgetReportView.py", line 196, in get
    'budget_items_ajax_url': reverse('api_budget_items_for_org_period',
                             ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                     kwargs={'period_pk': period.pk,
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                             'org_pk': org_sum['organization__id']})
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\urls\resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'api_budget_items_for_org_period' not found. 'api_budget_items_for_org_period' is not a valid view function or pattern name.
ERROR 2025-07-09 20:53:28 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-07-09 20:53:28 rcms_custom_filters format_negative Error formatting number ثقفثیفغثفغقفغقفغ: could not convert string to float: 'ثقفثیفغثفغقفغقفغ'
ERROR 2025-07-09 20:53:28 rcms_custom_filters format_negative Error formatting number فغتفاتفا: could not convert string to float: 'فغتفاتفا'
ERROR 2025-07-09 20:53:34 rcms_custom_filters format_negative Error formatting number -: could not convert string to float: '-'
ERROR 2025-07-09 20:53:34 rcms_custom_filters format_negative Error formatting number ثقفثیفغثفغقفغقفغ: could not convert string to float: 'ثقفثیفغثفغقفغقفغ'
ERROR 2025-07-09 20:53:34 rcms_custom_filters format_negative Error formatting number فغتفاتفا: could not convert string to float: 'فغتفاتفا'
ERROR 2025-07-09 20:53:37 FactorStatusReviewView get_object An unexpected error occurred while fetching Factor pk=3: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\FactorStatusReviewView.py", line 234, in get_object
    obj = optimized_queryset.get(pk=pk)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1248, in get_related_selections
    next_klass_infos = self.get_related_selections(
        select,
    ...<5 lines>...
        restricted,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
ERROR 2025-07-09 21:00:10 view_tankhah get_context_data Error checking lock status: 'Tankhah' object has no attribute 'code'
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 885, in check_tankhah_lock_status
    if not tankhah.budget_allocation:
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'budget_allocation'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\view_folder_tankhah\view_tankhah.py", line 936, in get_context_data
    is_locked, lock_message = check_tankhah_lock_status(tankhah)
                              ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\budgets\budget_calculations.py", line 894, in check_tankhah_lock_status
    logger.error(f"خطا در بررسی وضعیت قفل تنخواه {tankhah.code}: {str(e)}")
                                                  ^^^^^^^^^^^^
AttributeError: 'Tankhah' object has no attribute 'code'
ERROR 2025-07-09 21:00:13 FactorStatusReviewView get_object An unexpected error occurred while fetching Factor pk=3: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
Traceback (most recent call last):
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\tankhah\Factor\FactorStatusReviewView.py", line 234, in get_object
    obj = optimized_queryset.get(pk=pk)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ~~~~~~~~~~~^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ~~~~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases or bool(combinator),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ~~~~~~~~~~~~~~~^
        with_col_aliases=with_col_aliases,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 279, in get_select
    related_klass_infos = self.get_related_selections(select, select_mask)
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1248, in get_related_selections
    next_klass_infos = self.get_related_selections(
        select,
    ...<5 lines>...
        restricted,
    )
  File "D:\Design & Source Code\Source Coding\Tanbakhsystem\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1379, in get_related_selections
    raise FieldError(
    ...<6 lines>...
    )
django.core.exceptions.FieldError: Invalid field name(s) given in select_related: 'budget_allocation'. Choices are: organization, project, project_budget_allocation, subproject, created_by, current_stage, last_stopped_post, financialreport
