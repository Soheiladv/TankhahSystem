# ๐ ุฑุงูโุญู ูพุดุฑูุชู USB Dongle ุจุง ฺูุฏ ุณฺฉุชูุฑ ูุฎู

## ๐ฏ ูุดฺฉู ุงุตู

ุณุณุชู `usb_key_validator` ูุจู ูุดฺฉูุงุช ุฒุฑ ุฑุง ุฏุงุดุช:
- โ ููุท ฺฉ ุณฺฉุชูุฑ ููุดุชู ูโุดุฏ
- โ ูฺ ูฺฉุงูุฒู ุจุฑุง ฺูุฏ ุณฺฉุชูุฑ ูุฎู ูุฌูุฏ ูุฏุงุดุช
- โ ุณฺฉุชูุฑูุง ุจู ุตูุฑุช ุชุตุงุฏู ุงูุชุฎุงุจ ูโุดุฏูุฏ
- โ ุนุฏู ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู
- โ ุนุฏู ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุฎุฑุงุจ ุณฺฉุชูุฑูุง

## โ ุฑุงูโุญู ูพุงุฏูโุณุงุฒ ุดุฏู

### **1. ฺฉูุงุณ `USBDongleManager` ูพุดุฑูุชู**

**ูุงู**: `usb_key_validator/enhanced_utils.py`

**ูฺฺฏโูุง**:
- ๐ **ฺูุฏ ุณฺฉุชูุฑ ูุฎู**: 1 ุณฺฉุชูุฑ ุงุตู + 5 ุณฺฉุชูุฑ ูพุดุชุจุงู
- ๐ก๏ธ **ุงูุถุง ููุญุตุฑ ุจู ูุฑุฏ**: ูุฑ dongle ุงูุถุง ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ
- ๐ **ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุฎุฑุงุจ**: ุงฺฏุฑ ุณฺฉุชูุฑ ุงุตู ุฎุฑุงุจ ุจุงุดุฏุ ุงุฒ ูพุดุชุจุงู ุงุณุชูุงุฏู ูโฺฉูุฏ
- โก **Cache ููุดููุฏ**: ูุชุงุฌ ุงุนุชุจุงุฑุณูุฌ cache ูโุดููุฏ
- ๐ **ุขูุงุฑ ฺฉุงูู**: ููุงุด ูุถุนุช ุชูุงู ุณฺฉุชูุฑูุง

### **2. ุณฺฉุชูุฑูุง ูุฎู**

```python
# ุณฺฉุชูุฑ ุงุตู
master_sector = 100

# ุณฺฉุชูุฑูุง ูพุดุชุจุงู
backup_sectors = [101, 102, 103, 104, 105]
```

**ูุฑ ุณฺฉุชูุฑ ุดุงูู**:
- ฺฉูุฏ ุงุตู
- ููุน ุณฺฉุชูุฑ (MASTER/BACKUP_X)
- ุงูุถุง dongle
- Checksum ุจุฑุง ุงุนุชุจุงุฑุณูุฌ

### **3. ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู**

**Management Command**: `daily_usb_validation`

```bash
# ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู
python manage.py daily_usb_validation

# ุจุง ุขูุงุฑ
python manage.py daily_usb_validation --stats

# ุชุนูุฑ ุฎูุฏฺฉุงุฑ
python manage.py daily_usb_validation --repair

# ุงุฌุจุงุฑ (ุจุฏูู cache)
python manage.py daily_usb_validation --force
```

### **4. Scheduled Tasks**

**Windows**:
```batch
# ุงุณฺฉุฑูพุช: scripts/daily_usb_validation.bat
# ุงุฌุฑุง: ูุฑ ุฑูุฒ ุณุงุนุช 09:00
schtasks /create /tn "USBDongleDailyValidation" /tr "scripts/daily_usb_validation.bat" /sc daily /st 09:00
```

**Linux**:
```bash
# Cron Job: ูุฑ ุฑูุฒ ุณุงุนุช 09:00
0 9 * * * cd /path/to/project && python manage.py daily_usb_validation --stats
```

## ๐ URL ูุง ุฌุฏุฏ

### **ุงุนุชุจุงุฑุณูุฌ ูพุดุฑูุชู**:
- `http://127.0.0.1:8000/usb-key-validator/enhanced/` - ุงุนุชุจุงุฑุณูุฌ ูพุดุฑูุชู
- `http://127.0.0.1:8000/usb-key-validator/dashboard/` - ุฏุงุดุจูุฑุฏ ูุฏุฑุช

### **API ูุง AJAX**:
- `http://127.0.0.1:8000/usb-key-validator/ajax/status/` - ูุถุนุช dongle
- `http://127.0.0.1:8000/usb-key-validator/ajax/action/` - ุนููุงุช dongle

## ๐ง ุนููุงุช ููุฌูุฏ

### **1. ุงุฌุงุฏ Dongle**:
- ููุดุชู ฺฉูุฏ ุฏุฑ ุณฺฉุชูุฑ ุงุตู
- ููุดุชู ฺฉูุฏ ุฏุฑ 5 ุณฺฉุชูุฑ ูพุดุชุจุงู
- ุงุฌุงุฏ ุงูุถุง ููุญุตุฑ ุจู ูุฑุฏ
- ูุญุงุณุจู checksum

### **2. ุงุนุชุจุงุฑุณูุฌ**:
- ุฎูุงูุฏู ุงุฒ ุณฺฉุชูุฑ ุงุตู
- ุฏุฑ ุตูุฑุช ุฎุฑุงุจุ ุฎูุงูุฏู ุงุฒ ุณฺฉุชูุฑูุง ูพุดุชุจุงู
- ุจุฑุฑุณ checksum
- ุงุนุชุจุงุฑุณูุฌ ุงูุถุง

### **3. ุชุนูุฑ**:
- ุจุงุฒููุณ ุณฺฉุชูุฑ ุงุตู
- ุจุงุฒููุณ ุณฺฉุชูุฑูุง ูพุดุชุจุงู
- ฺฏุฒุงุฑุด ุชุนุฏุงุฏ ุณฺฉุชูุฑูุง ุชุนูุฑ ุดุฏู

### **4. ุขูุงุฑ**:
- ุชุนุฏุงุฏ ฺฉู ุณฺฉุชูุฑูุง
- ุชุนุฏุงุฏ ุณฺฉุชูุฑูุง ูุนุชุจุฑ
- ูุถุนุช ูุฑ ุณฺฉุชูุฑ
- ุงูุฏุงุฒู ูุงูโูุง

## ๐ ูฺฺฏโูุง ุงููุช

### **1. ุงูุถุง ููุญุตุฑ ุจู ูุฑุฏ**:
```python
signature = {
    'device_id': hashlib.md5(key_data + timestamp.encode()).hexdigest()[:16],
    'created_at': timestamp,
    'version': '2.0',
    'sector_count': 6,
    'checksum': hashlib.sha256(key_data).hexdigest()[:32]
}
```

### **2. Checksum**:
- ูุฑ ุณฺฉุชูุฑ checksum ูุฎุตูุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ
- ุงุนุชุจุงุฑุณูุฌ ฺฉูพุงุฑฺฺฏ ุฏุงุฏูโูุง
- ุชุดุฎุต ุฎุฑุงุจ ุณฺฉุชูุฑูุง

### **3. Cache ุงูู**:
- ูุชุงุฌ ุงุนุชุจุงุฑุณูุฌ cache ูโุดููุฏ
- ุฒูุงู cache: 1 ุณุงุนุช
- ฺฉุงูุด ุจุงุฑ ุณุณุชู

## ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ

### **Template**: `templates/usb_key_validator/enhanced_validation.html`

**ูฺฺฏโูุง**:
- ๐จ ุทุฑุงุญ ูุฏุฑู ุจุง Bootstrap
- ๐ ููุงุด ุขูุงุฑ real-time
- ๐ ุนููุงุช AJAX
- ๐ฑ Responsive design
- ๐ฏ ุฑุงูููุง ฺฉุงูู

**ุจุฎุดโูุง**:
1. **ุขูุงุฑ ฺฉู**: ุชุนุฏุงุฏ ุณฺฉุชูุฑูุงุ ุณฺฉุชูุฑูุง ูุนุชุจุฑ
2. **ูุณุช USB ูุง**: ููุงุด ุชูุงู ุฏุฑุงููุง ูุชุตู
3. **ุนููุงุช**: ุงุฌุงุฏุ ุงุนุชุจุงุฑุณูุฌุ ุชุนูุฑ
4. **ูุถุนุช ุณฺฉุชูุฑูุง**: ููุงุด ูุถุนุช ูุฑ ุณฺฉุชูุฑ
5. **ุฑุงูููุง**: ุชูุถุญ ฺฉุงูู ูฺฺฏโูุง

## ๐ ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู

### **ูฺฉุงูุฒู**:
1. **ุจุฑุฑุณ cache**: ุงฺฏุฑ ูุชุฌู ุงุฎุฑ ููุฌูุฏ ุจุงุดุฏุ ุงุฒ ุขู ุงุณุชูุงุฏู ูโุดูุฏ
2. **ุดูุงุณุง USB**: ุฌุณุชุฌู ุฏุฑุงููุง ูุชุตู
3. **ุงุนุชุจุงุฑุณูุฌ**: ุจุฑุฑุณ ฺฉูพุงุฑฺฺฏ dongle
4. **ูุงฺฏ ูุชุฌู**: ุฐุฎุฑู ูุชุฌู ุฏุฑ cache ู log
5. **ุงุนูุงู**: ุฏุฑ ุตูุฑุช ุฎุทุงุ ุงุนูุงู ุจู ูุฏุฑ ุณุณุชู

### **ุฒูุงูโุจูุฏ**:
- **ูพุดโูุฑุถ**: ูุฑ ุฑูุฒ ุณุงุนุช 09:00
- **ูุงุจู ุชูุธู**: ุงุฒ ุทุฑู Task Scheduler ุง crontab
- **ุงุฌุฑุง ุฏุณุช**: ุงูฺฉุงู ุงุฌุฑุง ููุฑ

## ๐๏ธ ุฑุงูโุงูุฏุงุฒ

### **1. ูุตุจ**:
```bash
# ูุงูโูุง ุฌุฏุฏ ุงุถุงูู ุดุฏูโุงูุฏ
# ูุงุฒ ุจู migration ูุณุช
```

### **2. ุฑุงูโุงูุฏุงุฒ Scheduler**:
```bash
# ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ
python scripts/setup_usb_scheduler.py
```

### **3. ุชุณุช**:
```bash
# ุชุณุช ุงุนุชุจุงุฑุณูุฌ
python manage.py daily_usb_validation --stats

# ุชุณุช ุงุฒ ุทุฑู ูุจ
# http://127.0.0.1:8000/usb-key-validator/enhanced/
```

## ๐ ูุฒุงุง ุฑุงูโุญู ุฌุฏุฏ

### **1. ุงููุช ุจุงูุงุชุฑ**:
- โ ฺูุฏ ุณฺฉุชูุฑ ูุฎู
- โ ุงูุถุง ููุญุตุฑ ุจู ูุฑุฏ
- โ Checksum ุจุฑุง ุงุนุชุจุงุฑุณูุฌ
- โ ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุฎุฑุงุจ

### **2. ูุงุจูุช ุงุทููุงู**:
- โ ุณฺฉุชูุฑูุง ูพุดุชุจุงู
- โ ุชุนูุฑ ุฎูุฏฺฉุงุฑ
- โ ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู
- โ Cache ููุดููุฏ

### **3. ูุฏุฑุช ุขุณุงู**:
- โ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฏุฑู
- โ ุขูุงุฑ ฺฉุงูู
- โ ุนููุงุช AJAX
- โ ุฑุงูููุง ฺฉุงูู

### **4. ฺฉูพุงุฑฺฺฏ ุณุณุชู**:
- โ ุณุงุฒฺฏุงุฑ ุจุง ุณุณุชู ููุฌูุฏ
- โ ุนุฏู ุชุบุฑ ุฏุฑ ุฏุชุงุจุณ
- โ ุญูุธ ุนููฺฉุฑุฏ ูุจู
- โ ุงูุฒูุฏู ูฺฺฏโูุง ุฌุฏุฏ

## ๐ฏ ูุชุฌู

**ุณุณุชู USB Dongle ุญุงูุง**:
- ๐ **ุงููโุชุฑ** ุงุณุช ุจุง ฺูุฏ ุณฺฉุชูุฑ ูุฎู
- ๐ก๏ธ **ููุงููโุชุฑ** ุงุณุช ุฏุฑ ุจุฑุงุจุฑ ุฎุฑุงุจ
- โก **ููุดููุฏุชุฑ** ุงุณุช ุจุง ุงุนุชุจุงุฑุณูุฌ ุฑูุฒุงูู
- ๐จ **ุฒุจุงุชุฑ** ุงุณุช ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฏุฑู
- ๐ **ฺฉุงููโุชุฑ** ุงุณุช ุจุง ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ

**ููู ูุดฺฉูุงุช ุจุฑุทุฑู ุดุฏ!** ๐
