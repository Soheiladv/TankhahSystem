{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "داشبورد مدیریت بودجه" %}{% endblock %}

{% block extra_css %}
<style>
    :root {
        --dash-primary: #0d6efd;
        --dash-success: #198754;
        --dash-warning: #ffc107;
        --dash-info: #0dcaf0;
    }
    .dashboard-card {
        border-width: 0;
        border-left: 5px solid #e9ecef;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1);
    }
    .card-header-icon {
        font-size: 1.5rem;
        min-width: 40px;
    }
    .card-title {
        font-weight: 600;
    }
    .card-body {
        flex-grow: 1;
    }
    .card-footer a {
        text-decoration: none;
        color: #6c757d;
        font-size: 0.9rem;
        transition: color 0.2s;
    }
    .card-footer a:hover {
        color: #000;
    }
    .card-footer .fa-plus-circle {
        color: var(--bs-success);
    }
    /* Color coding for cards */
    .card-group-config:hover { border-color: var(--dash-primary); }
    .card-group-main:hover { border-color: var(--dash-success); }
    .card-group-payment:hover { border-color: var(--dash-warning); }
    .card-group-report:hover { border-color: var(--dash-info); }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold">{% trans "داشبورد مدیریت بودجه" %}</h1>
        <p class="lead text-muted">{% trans "دسترسی سریع و یکپارچه به تمام ماژول‌های سیستم" %}</p>
    </div>

    <h3 class="mb-3 fw-bold border-bottom pb-2"><i class="fas fa-cogs text-primary me-2"></i>{% trans "پیکربندی سیستم" %}</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4 mb-5">
        
        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-config">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-calendar-alt text-primary card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "دوره‌های بودجه" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">مدیریت و تعریف سال‌ها و دوره‌های مالی جهت تخصیص بودجه.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'budgetperiod_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست دوره‌ها" %}</a>
                    <a href="{% url 'budgetperiod_create' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "ایجاد دوره" %}</a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-config">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-list-ol text-primary card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "ردیف‌های بودجه" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">تعریف سرفصل‌ها و کدهای هزینه برای دسته‌بندی مالی.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'budgetallocation_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست ردیف‌ها" %}</a>
                    <a href="{% url 'budgetallocation_create' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "ایجاد ردیف" %}</a>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-config">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-user-tie text-primary card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "دریافت‌کنندگان" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">مدیریت اطلاعات اشخاص حقیقی و حقوقی طرف حساب.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'payee_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست اشخاص" %}</a>
                    <a href="{% url 'payee_create' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "ایجاد شخص" %}</a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-config">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-tags text-primary card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "انواع تراکنش" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">تعریف انواع رویدادهای مالی مانند هزینه، درآمد و انتقال.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'transactiontype_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست انواع" %}</a>
                    <a href="{% url 'transactiontype_add' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "ایجاد نوع" %}</a>
                </div>
            </div>
        </div>

    </div>

    <h3 class="mb-3 fw-bold border-bottom pb-2"><i class="fas fa-wallet text-success me-2"></i>{% trans "عملیات اصلی بودجه" %}</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-5">
        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-main">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-building text-success card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "تخصیص به سازمان" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">تخصیص اعتبار کلان به سازمان‌ها و واحدهای مختلف.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'budgetallocation_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست تخصیص‌ها" %}</a>
                    <a href="{% url 'budgetallocation_create' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "تخصیص جدید" %}</a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-main">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-project-diagram text-success card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "تخصیص به پروژه" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">تخصیص اعتبار به پروژه‌ها از محل بودجه سازمان.</p>
                </div>
                <div class="card-footer bg-light text-center">
                    <a href="{% url 'organization_list' %}"><strong>{% trans "انتخاب سازمان برای تخصیص به پروژه" %}</strong></a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-main">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-exchange-alt text-success card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "انتقال / بازگشت" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">انتقال اعتبار بین سرفصل‌ها و یا بازگرداندن بودجه.</p>
                </div>
                <div class="card-footer bg-light text-center">
                    <a href="{% url 'budget_transfer' %}"><strong>{% trans "شروع عملیات انتقال بودجه" %}</strong></a>
                </div>
            </div>
        </div>
    </div>

    <h3 class="mb-3 fw-bold border-bottom pb-2"><i class="fas fa-tasks text-warning me-2"></i>{% trans "گردش کار پرداخت" %}</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-payment">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-file-invoice-dollar text-warning card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "دستورات پرداخت" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">ایجاد، مشاهده و پیگیری تمام دستورات پرداخت مالی.</p>
                </div>
                <div class="card-footer bg-light d-flex justify-content-between">
                    <a href="{% url 'paymentorder_list' %}"><i class="fas fa-list-ul me-1"></i>{% trans "لیست دستورات" %}</a>
                    <a href="{% url 'paymentorder_add' %}"><i class="fas fa-plus-circle me-1"></i>{% trans "ایجاد دستور" %}</a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-payment">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-check-double text-danger card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "کارتابل تاییدات" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">بررسی و اقدام بر روی موارد نیازمند تایید شما.</p>
                </div>
                <div class="card-footer bg-light text-center">
                    <a href="{% url 'payment_order_review' %}"><strong>{% trans "ورود به کارتابل" %}</strong></a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm dashboard-card card-group-report">
                <div class="card-header bg-transparent d-flex align-items-center">
                    <i class="fas fa-chart-line text-info card-header-icon"></i>
                    <h5 class="card-title mb-0">{% trans "گزارشات سیستم" %}</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-muted small">دسترسی به گزارشات جامع و تحلیلی سیستم.</p>
                </div>
                <div class="card-footer bg-light text-center">
                    <a href="{% url 'comprehensive_budget_report' %}"><strong>{% trans "مشاهده گزارش جامع" %}</strong></a>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}