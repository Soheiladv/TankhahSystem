{% load static jformat  i18n rcms_custom_filters %}

<div class="factor-card fade-in" role="region" aria-labelledby="factor-{{ factor.id }}">
    <div class="factor-header">
        <div class="factor-title" id="factor-{{ factor.id }}">{{ factor.factor_number|default:factor.number|default:"نامشخص" }}</div>
        <div class="factor-amount">{{ factor.amount|floatformat:0|add:" ریال"|default:"0 ریال" }}</div>
    </div>
    <p>{{ factor.description|truncatechars:100|default:"بدون توضیحات"|safe }}</p>
    <div class="d-flex justify-content-between align-items-center mt-2">
        <span class="status-badge status-{{ factor.status.code|lower|default:"unknown" }}">
            {{ factor.status.name|default:"نامشخص" }}
        </span>
        <small class="text-muted">{{ factor.created_at|jformat:"%Y/%m/%d"|default:"نامشخص" }}</small>
    </div>
</div>