{% load i18n static rcms_custom_filters %}

{% if factor.items.all %}
    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>{% trans "شرح کالا / خدمات" %}</th>
                    <th class="text-center">{% trans "تعداد" %}</th>
                    <th class="text-end">{% trans "قیمت واحد" %}</th>
                    <th class="text-end">{% trans "جمع کل" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for item in factor.items.all %}
                    <tr>
                        <td>{{ forloop.counter |format_negative}}</td>
                        <td>{{ item.description |to_persian_number }}</td>
                        <td class="text-center">{{ item.quantity |format_negative}}</td>
                        <td class="text-end">{{ item.unit_price|format_negative }}</td>
                        <td class="text-end fw-bold">{{ item.amount|default:'0'|format_negative }}</td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr class="table-light">
                    <td colspan="4" class="text-end fw-bold fs-6">{% trans "جمع کل اقلام:" %}</td>
                    <td class="text-end fw-bold fs-6">{{ items_total|default:'0'|format_negative }}</td>
                </tr>
            </tfoot>
        </table>
    </div>
{% else %}
    <div class="alert alert-secondary text-center">{% trans "هیچ آیتمی برای این فاکتور ثبت نشده است." %}</div>
{% endif %}