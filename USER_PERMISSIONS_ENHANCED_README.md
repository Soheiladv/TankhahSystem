# راهنمای استفاده از گزارش دسترسی کاربر - نسخه بهینه

## 🎯 **هدف**
این صفحه بهینه شده برای تولید آسان قوانین دسترسی کاربران طراحی شده است تا بتوانید به راحتی قوانین را کپی کنید و به پست قانون بدهید.

## 🚀 **قابلیت‌های جدید**

### 1. **تولید خودکار قانون**
- تولید خودکار متن قانون بر اساس دسترسی‌های کاربر
- قابلیت کپی یک‌کلیک
- فرمت‌بندی مناسب برای ارسال به پست قانون

### 2. **کپی دسترسی‌ها بین کاربران** ⭐ **جدید**
- کپی کامل دسترسی‌های یک کاربر به کاربر دیگر
- کپی فقط دسترسی‌های موجود
- کپی فقط عدم دسترسی‌ها
- نمایش آمار دسترسی‌ها برای هر کاربر
- تأیید قبل از کپی

### 3. **فیلتر و جستجو**
- فیلتر بر اساس دسترسی (همه، در دسترس، خارج از دسترس)
- جستجو در نام گذارها
- شمارش خودکار نتایج

### 4. **خروجی‌های مختلف**
- **کپی قانون**: کپی کامل قانون
- **فقط دسترسی‌ها**: کپی فقط دسترسی‌های موجود
- **فقط عدم دسترسی‌ها**: کپی فقط دسترسی‌های غیرموجود
- **نسخه Markdown**: کپی با فرمت Markdown

### 5. **خروجی فایل**
- **PDF**: چاپ صفحه
- **Word**: دانلود فایل متنی
- **Excel**: دانلود فایل Excel
- **CSV**: دانلود فایل CSV

## 📋 **نحوه استفاده**

### مرحله 1: انتخاب کاربر
1. از منوی کشویی کاربر مورد نظر را انتخاب کنید
2. صفحه به‌روزرسانی می‌شود

### مرحله 2: کپی دسترسی‌ها بین کاربران ⭐ **جدید**
1. در بخش "کپی دسترسی‌ها از کاربری به کاربر دیگر":
   - **کاربر مبدأ**: کاربری که دسترسی‌هایش را می‌خواهید کپی کنید
   - **کاربر مقصد**: کاربری که دسترسی‌ها به او کپی می‌شود
   - **نوع کپی**: همه، فقط دسترسی‌ها، یا فقط عدم دسترسی‌ها
2. روی دکمه "کپی دسترسی‌ها" کلیک کنید
3. تأیید عملیات را بدهید

### مرحله 3: تولید قانون
1. در بخش "قانون دسترسی" متن تولید شده را مشاهده کنید
2. از دکمه‌های کپی استفاده کنید:
   - **کپی قانون**: کپی کامل
   - **فقط دسترسی‌ها**: فقط دسترسی‌های موجود
   - **فقط عدم دسترسی‌ها**: فقط عدم دسترسی‌ها
   - **نسخه Markdown**: فرمت Markdown

### مرحله 4: فیلتر و جستجو
1. **فیلتر دسترسی**: انتخاب نوع دسترسی
2. **جستجو**: تایپ نام گذار برای جستجو

### مرحله 5: خروجی فایل
1. **PDF**: کلیک روی دکمه PDF برای چاپ
2. **Excel**: کلیک روی دکمه Excel برای دانلود
3. **CSV**: کلیک روی دکمه CSV برای دانلود

## 🎨 **ویژگی‌های طراحی**

### رنگ‌بندی
- **سبز**: دسترسی‌های موجود
- **قرمز**: عدم دسترسی‌ها
- **آبی**: اطلاعات عمومی

### انیمیشن‌ها
- انیمیشن hover برای کارت‌ها
- انتقال نرم برای تغییرات
- Toast notifications برای بازخورد

### ریسپانسیو
- سازگار با موبایل و تبلت
- جدول قابل اسکرول
- دکمه‌های مناسب برای لمس

## 🔧 **تکنولوژی‌های استفاده شده**

### Frontend
- **Bootstrap 5**: طراحی ریسپانسیو
- **JavaScript**: تعاملات کاربر
- **CSS3**: انیمیشن‌ها و استایل‌ها

### Backend
- **Django**: فریمورک اصلی
- **Python**: منطق برنامه
- **SQLite/PostgreSQL**: پایگاه داده

### خروجی‌ها
- **CSV**: برای Excel
- **Excel**: با openpyxl
- **PDF**: چاپ مرورگر
- **Markdown**: فرمت متنی

## 📝 **نمونه خروجی قانون**

```
قانون دسترسی برای کاربر: احمد محمدی
نام کاربری: ahmad.mohammadi
تاریخ تولید: 1403/06/28 14:30

دسترسی‌های کاربر:
1. تأیید فاکتور (فاکتور): از پیش‌نویس به تأیید شده با اقدام تأیید در سازمان مرکزی
2. رد فاکتور (فاکتور): از پیش‌نویس به رد شده با اقدام رد در سازمان مرکزی

عدم دسترسی‌های کاربر:
1. حذف فاکتور (فاکتور): از تأیید شده به حذف شده با اقدام حذف در سازمان مرکزی
```

## 🚨 **نکات مهم**

1. **دسترسی**: فقط کاربران staff می‌توانند از این صفحه استفاده کنند
2. **کش**: داده‌ها برای 5 دقیقه کش می‌شوند
3. **به‌روزرسانی**: تغییرات دسترسی فوراً اعمال می‌شوند
4. **پشتیبان**: همیشه از داده‌ها پشتیبان تهیه کنید

## 🔄 **به‌روزرسانی‌های آینده**

- [ ] خروجی JSON
- [ ] ارسال ایمیل خودکار
- [ ] تاریخچه تغییرات
- [ ] مقایسه دسترسی‌ها
- [ ] گزارش گروهی

## 📞 **پشتیبانی**

در صورت بروز مشکل:
1. لاگ‌های Django را بررسی کنید
2. Console مرورگر را چک کنید
3. با تیم توسعه تماس بگیرید

---

**نسخه**: 1.0  
**تاریخ**: 1403/06/28  
**توسعه‌دهنده**: تیم RCMS
