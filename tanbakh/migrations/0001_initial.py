# Generated by Django 5.1.7 on 2025-03-22 07:20

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0007_workflowstage'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Dashboard_Tankhah',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'permissions': [('Dashboard_Tankhah_view', 'Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªÙ†Ø®ÙˆØ§Ù‡ Ú¯Ø±Ø¯Ø§Ù† ')],
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Factor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('number', models.CharField(blank=True, max_length=20, verbose_name='Ø´Ù…Ø§Ø±Ù‡ ÙØ§Ú©ØªÙˆØ±')),
                ('date', models.DateField(default=django.utils.timezone.now, verbose_name='ØªØ§Ø±ÛŒØ®')),
                ('amount', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Ù…Ø¨Ù„Øº')),
                ('description', models.TextField(verbose_name='ØªÙˆØ¶ÛŒØ­Ø§Øª')),
                ('status', models.CharField(choices=[('PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'), ('APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡'), ('REJECTED', 'Ø±Ø¯Ø´Ø¯Ù‡')], default='PENDING', max_length=20, verbose_name='ÙˆØ¶Ø¹ÛŒØª')),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡')),
            ],
            options={
                'verbose_name': 'ÙØ§Ú©ØªÙˆØ±',
                'verbose_name_plural': 'ÙØ§Ú©ØªÙˆØ±Ù‡Ø§',
                'permissions': [('Factor_add', 'Ø§ÙØ²ÙˆØ¯Ù† ÙØ§Ú©ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª ØªÙ†Ø®ÙˆØ§Ù‡ '), ('Factor_update', 'ÙˆÛŒØ±Ø§ÛŒØ´ ÙØ§Ú©ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª ØªÙ†Ø®ÙˆØ§Ù‡'), ('Factor_delete', 'Ø­Ù€Ù€Ø°Ù ÙØ§Ú©ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª ØªÙ†Ø®ÙˆØ§Ù‡'), ('Factor_view', 'Ù†Ù…Ø§ÛŒØ´ ÙØ§Ú©ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª ØªÙ†Ø®ÙˆØ§Ù‡')],
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='FactorDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(upload_to='factors/documents/%Y/%m/%d/', verbose_name='ÙØ§ÛŒÙ„ Ù¾ÛŒÙˆØ³Øª')),
                ('file_size', models.IntegerField(blank=True, null=True, verbose_name='Ø­Ø¬Ù… ÙØ§ÛŒÙ„ (Ø¨Ø§ÛŒØª)')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True, verbose_name='ØªØ§Ø±ÛŒØ® Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ')),
                ('factor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='tanbakh.factor', verbose_name='ÙØ§Ú©ØªÙˆØ±')),
            ],
            options={
                'verbose_name': 'Ø³Ù†Ø¯ ÙØ§Ú©ØªÙˆØ±',
                'verbose_name_plural': 'Ø§Ø³Ù†Ø§Ø¯ ÙØ§Ú©ØªÙˆØ±',
            },
        ),
        migrations.CreateModel(
            name='FactorItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255, verbose_name='Ø´Ø±Ø­ Ø±Ø¯ÛŒÙ')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Ù…Ø¨Ù„Øº')),
                ('quantity', models.IntegerField(default=1, verbose_name='ØªØ¹Ø¯Ø§Ø¯')),
                ('status', models.CharField(choices=[('PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'), ('APPROVED', 'ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡'), ('REJECTED', 'Ø±Ø¯ Ø´Ø¯Ù‡')], default='PENDING', max_length=20, verbose_name='ÙˆØ¶Ø¹ÛŒØª')),
                ('factor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='tanbakh.factor', verbose_name='ÙØ§Ú©ØªÙˆØ±')),
            ],
            options={
                'verbose_name': 'Ø±Ø¯ÛŒÙ ÙØ§Ú©ØªÙˆØ±',
                'verbose_name_plural': 'Ø±Ø¯ÛŒÙ\u200cÙ‡Ø§ÛŒ ÙØ§Ú©ØªÙˆØ±',
                'permissions': [('FactorItem_add', 'Ø§ÙØ²ÙˆØ¯Ù† Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±'), ('FactorItem_update', 'ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±'), ('FactorItem_view', 'Ù†Ù…Ø§ÛŒØ´ Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±'), ('FactorItem_delete', 'Ø­Ø°Ù Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±')],
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='StageApprover',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.post', verbose_name='Ù¾Ø³Øª Ù…Ø¬Ø§Ø²')),
                ('stage', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.workflowstage', verbose_name='Ù…Ø±Ø­Ù„Ù‡')),
            ],
            options={
                'verbose_name': 'ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡',
                'verbose_name_plural': 'ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ú¯Ø§Ù† Ù…Ø±Ø­Ù„Ù‡',
                'permissions': [('stageapprover__view', 'Ù†Ù…Ø§ÛŒØ´ ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡'), ('stageapprover__add', 'Ø§ÙØ²ÙˆØ¯Ù† ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡'), ('stageapprover__Update', 'Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡'), ('stageapprover__delete', 'Ø­Ù€Ù€Ø°Ù ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡')],
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Tanbakh',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('number', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Ø´Ù…Ø§Ø±Ù‡ ØªÙ†Ø®ÙˆØ§Ù‡')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=25, verbose_name='Ù…Ø¨Ù„Øº')),
                ('status', models.CharField(choices=[('DRAFT', 'Ù¾ÛŒØ´\u200cÙ†ÙˆÛŒØ³'), ('PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'), ('APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡'), ('SENT_TO_HQ', 'Ø§Ø±Ø³Ø§Ù„\u200cØ´Ø¯Ù‡ Ø¨Ù‡ HQ'), ('HQ_OPS_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('HQ_OPS_APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('HQ_FIN_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ù…Ø§Ù„ÛŒ'), ('PAID', 'Ù¾Ø±Ø¯Ø§Ø®Øª\u200cØ´Ø¯Ù‡'), ('REJECTED', 'Ø±Ø¯Ø´Ø¯Ù‡')], default='PENDING', max_length=20, verbose_name='ÙˆØ¶Ø¹ÛŒØª')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯  ')),
                ('date', models.DateField(default=django.utils.timezone.now, verbose_name='ØªØ§Ø±ÛŒØ®')),
                ('due_date', models.DateField(verbose_name='Ù…Ù‡Ù„Øª Ø²Ù…Ø§Ù†ÛŒ')),
                ('hq_status', models.CharField(blank=True, choices=[('DRAFT', 'Ù¾ÛŒØ´\u200cÙ†ÙˆÛŒØ³'), ('PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'), ('APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡'), ('SENT_TO_HQ', 'Ø§Ø±Ø³Ø§Ù„\u200cØ´Ø¯Ù‡ Ø¨Ù‡ HQ'), ('HQ_OPS_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('HQ_OPS_APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('HQ_FIN_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ù…Ø§Ù„ÛŒ'), ('PAID', 'Ù¾Ø±Ø¯Ø§Ø®Øª\u200cØ´Ø¯Ù‡'), ('REJECTED', 'Ø±Ø¯Ø´Ø¯Ù‡')], max_length=20, null=True, verbose_name='ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± HQ')),
                ('letter_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='Ø´Ù…Ø§Ø±Ù‡ Ù†Ø§Ù…Ù‡')),
                ('description', models.TextField()),
                ('approved_by', models.ManyToManyField(blank=True, to=settings.AUTH_USER_MODEL, verbose_name='ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ú¯Ø§Ù†')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tanbakh_created', to=settings.AUTH_USER_MODEL, verbose_name='Ø§ÛŒØ¬Ø§Ø¯Ú©Ù†Ù†Ø¯Ù‡')),
                ('current_stage', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.workflowstage', verbose_name='Ù…Ø±Ø­Ù„Ù‡ ÙØ¹Ù„ÛŒ')),
                ('last_stopped_post', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.post', verbose_name='Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øª Ù…ØªÙˆÙ‚Ù\u200cØ´Ø¯Ù‡')),
                ('organization', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.organization', verbose_name='Ø³Ø§Ø²Ù…Ø§Ù†')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.project', verbose_name='Ù¾Ø±ÙˆÚ˜Ù‡')),
            ],
            options={
                'verbose_name': 'ØªÙ†Ø®ÙˆØ§Ù‡',
                'verbose_name_plural': 'ØªÙ†Ø®ÙˆØ§Ù‡\u200cÙ‡Ø§',
                'permissions': [('Tanbakh_add', 'Ø«Ø¨Øª ØªÙ†Ø®ÙˆØ§Ù‡'), ('Tanbakh_update', 'Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ†Ø®ÙˆØ§Ù‡'), ('Tanbakh_view', 'Ù†Ù…Ø§ÛŒØ´ ØªÙ†Ø®ÙˆØ§Ù‡'), ('Tanbakh_delete', 'Ø­Ø°Ù ØªÙ†Ø®ÙˆØ§Ù‡'), ('Tanbakh_part_approve', 'ØªØ£ÛŒÛŒØ¯ Ø±Ø¦ÛŒØ³ Ù‚Ø³Ù…Øª'), ('Tanbakh_approve', 'ØªØ£ÛŒÛŒØ¯ Ù…Ø¯ÛŒØ± Ù…Ø¬Ù…ÙˆØ¹Ù‡'), ('Tanbakh_hq_view', 'Ø±ØµØ¯ Ø¯ÙØªØ± Ù…Ø±Ú©Ø²ÛŒ'), ('Tanbakh_hq_approve', 'ØªØ£ÛŒÛŒØ¯ Ø±Ø¯Ù‡ Ø¨Ø§Ù„Ø§ Ø¯Ø± Ø¯ÙØªØ± Ù…Ø±Ú©Ø²ÛŒ'), ('Tanbakh_HQ_OPS_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('Tanbakh_HQ_OPS_APPROVED', 'ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡ - Ø¨Ù‡Ø±Ù‡\u200cØ¨Ø±Ø¯Ø§Ø±ÛŒ'), ('Tanbakh_HQ_FIN_PENDING', 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ - Ù…Ø§Ù„ÛŒ'), ('Tanbakh_PAID', 'Ù¾Ø±Ø¯Ø§Ø®Øª\u200cØ´Ø¯Ù‡'), ('Tanbakh_REJECTED', 'Ø±Ø¯Ø´Ø¯Ù‡')],
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='factor',
            name='tanbakh',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='factors', to='tanbakh.tanbakh', verbose_name='ØªÙ†Ø®ÙˆØ§Ù‡'),
        ),
        migrations.CreateModel(
            name='ApprovalLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action', models.CharField(choices=[('APPROVE', 'ØªØ£ÛŒÛŒØ¯'), ('REJECT', 'Ø±Ø¯'), ('EDIT', 'ÙˆÛŒØ±Ø§ÛŒØ´')], max_length=10, verbose_name='Ø§Ù‚Ø¯Ø§Ù…')),
                ('comment', models.TextField(blank=True, null=True, verbose_name='ØªÙˆØ¶ÛŒØ­Ø§Øª')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Ø²Ù…Ø§Ù†')),
                ('date', models.DateTimeField(auto_now_add=True, verbose_name='ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯')),
                ('post', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.post', verbose_name='Ù¾Ø³Øª ØªØ£ÛŒÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡')),
                ('stage', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.workflowstage', verbose_name='Ù…Ø±Ø­Ù„Ù‡')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Ú©Ø§Ø±Ø¨Ø±')),
                ('factor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='approval_logs', to='tanbakh.factor', verbose_name='ÙØ§Ú©ØªÙˆØ±')),
                ('factor_item', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='approval_logs', to='tanbakh.factoritem', verbose_name='Ø±Ø¯ÛŒÙ ÙØ§Ú©ØªÙˆØ±')),
                ('tanbakh', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='approval_logs', to='tanbakh.tanbakh', verbose_name='ØªÙ†Ø®ÙˆØ§Ù‡')),
            ],
            options={
                'verbose_name': 'ØªØ£ÛŒÛŒØ¯',
                'verbose_name_plural': 'ØªØ£ÛŒÛŒØ¯Ø§ØªğŸ‘',
                'permissions': [('Approval_add', 'Ø§ÙØ²ÙˆØ¯Ù† ØªØ£ÛŒÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø§Ù‚Ø¯Ø§Ù…Ø§Øª ØªØ£ÛŒÛŒØ¯ ÛŒØ§ Ø±Ø¯ '), ('Approval_update', 'ÙˆÛŒØ±Ø§ÛŒØ´ ØªØ£ÛŒÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø§Ù‚Ø¯Ø§Ù…Ø§Øª ØªØ£ÛŒÛŒØ¯ ÛŒØ§ Ø±Ø¯'), ('Approval_delete', 'Ø­Ù€Ù€Ø°Ù ØªØ£ÛŒÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø§Ù‚Ø¯Ø§Ù…Ø§Øª ØªØ£ÛŒÛŒØ¯ ÛŒØ§ Ø±Ø¯'), ('Approval_view', 'Ù†Ù…Ø§ÛŒØ´ ØªØ£ÛŒÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø§Ù‚Ø¯Ø§Ù…Ø§Øª ØªØ£ÛŒÛŒØ¯ ÛŒØ§ Ø±Ø¯')],
                'default_permissions': (),
            },
        ),
        migrations.AddIndex(
            model_name='tanbakh',
            index=models.Index(fields=['number', 'date', 'status'], name='tanbakh_tan_number_22c79a_idx'),
        ),
        migrations.AddIndex(
            model_name='factor',
            index=models.Index(fields=['number', 'date', 'status'], name='tanbakh_fac_number_023a2d_idx'),
        ),
    ]
