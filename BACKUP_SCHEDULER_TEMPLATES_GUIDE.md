# راهنمای کامل تمپلیت‌های مدیریت اسکچول پشتیبان‌گیری

## ✅ سیستم کامل پیاده‌سازی شده

### **ویژگی‌های جدید**:
- ✅ **تمپلیت‌های کامل**: لیست، ایجاد، ویرایش، جزئیات
- ✅ **مدیریت اسکچول‌ها**: از طریق رابط کاربری
- ✅ **لاگ‌های کامل**: تاریخچه اجراها
- ✅ **تست سیستم**: بررسی عملکرد
- ✅ **ادغام با backup-admin**: لینک مستقیم

## 🎯 تمپلیت‌های جدید

### **1. backup_schedule_list.html**:
```html
<!-- لیست اسکچول‌های پشتیبان‌گیری -->
- آمار کلی (کل، فعال، در انتظار، کل اجراها)
- جدول اسکچول‌ها با عملیات
- فیلتر و جستجو
- راهنمای سریع
```

### **2. backup_schedule_form.html**:
```html
<!-- فرم ایجاد/ویرایش اسکچول -->
- اطلاعات پایه (نام، توضیحات، فرکانس)
- تنظیمات زمان‌بندی (cron سفارشی)
- تنظیمات پشتیبان‌گیری (دیتابیس، فرمت، رمزگذاری)
- تنظیمات اعلان (گیرندگان، موفقیت، خطا)
- راهنمای کناری
```

### **3. backup_schedule_detail.html**:
```html
<!-- جزئیات اسکچول -->
- اطلاعات اصلی
- زمان‌بندی (آخرین اجرا، اجرای بعدی)
- تنظیمات اعلان
- لاگ‌های اخیر
- آمار و عملیات
```

### **4. backup_schedule_logs.html**:
```html
<!-- لاگ‌های پشتیبان‌گیری -->
- آمار کلی (کل، موفق، ناموفق، نرخ موفقیت)
- فیلترها (اسکچول، وضعیت)
- جدول لاگ‌ها
- صفحه‌بندی
```

### **5. backup_schedule_test.html**:
```html
<!-- تست سیستم -->
- اجرای تست
- آمار سیستم
- اسکچول‌های آماده اجرا
- عملیات سریع
```

## 🔧 Views جدید

### **1. schedule_list_view**:
```python
# لیست اسکچول‌ها با آمار
- آمار کلی
- فیلتر و جستجو
- صفحه‌بندی
```

### **2. schedule_create_view**:
```python
# ایجاد اسکچول جدید
- فرم ایجاد
- اعتبارسنجی
- بروزرسانی زمان اجرای بعدی
```

### **3. schedule_edit_view**:
```python
# ویرایش اسکچول
- فرم ویرایش
- اعتبارسنجی
- بروزرسانی زمان اجرای بعدی
```

### **4. schedule_detail_view**:
```python
# جزئیات اسکچول
- اطلاعات کامل
- لاگ‌های اخیر
- آمار اجرا
```

### **5. schedule_delete_view**:
```python
# حذف اسکچول
- تأیید حذف
- پیام موفقیت/خطا
```

### **6. schedule_toggle_view**:
```python
# فعال/غیرفعال کردن
- تغییر وضعیت
- بروزرسانی زمان اجرای بعدی
```

### **7. schedule_run_view**:
```python
# اجرای دستی
- اجرای فوری
- پیام نتیجه
```

### **8. schedule_logs_view**:
```python
# لاگ‌های سیستم
- فیلترها
- صفحه‌بندی
- آمار
```

### **9. schedule_test_view**:
```python
# تست سیستم
- اجرای تست
- آمار سیستم
```

### **10. schedule_ajax_status**:
```python
# وضعیت AJAX
- اطلاعات real-time
- JSON response
```

## 📋 فرم‌های جدید

### **1. BackupScheduleForm**:
```python
# فرم اسکچول پشتیبان‌گیری
fields = [
    'name', 'description', 'frequency', 'custom_cron', 'is_active',
    'database', 'format_type', 'encrypt', 'password',
    'notify_on_success', 'notify_on_failure', 'notify_recipients'
]

# اعتبارسنجی:
- نام منحصر به فرد
- cron سفارشی
- رمز عبور در صورت رمزگذاری
```

## 🔗 URL Patterns

### **URLs جدید**:
```python
# اسکچول‌های پشتیبان‌گیری
path('schedule/', schedule_list_view, name='schedule_list'),
path('schedule/create/', schedule_create_view, name='schedule_create'),
path('schedule/<int:schedule_id>/', schedule_detail_view, name='schedule_detail'),
path('schedule/<int:schedule_id>/edit/', schedule_edit_view, name='schedule_edit'),
path('schedule/<int:schedule_id>/delete/', schedule_delete_view, name='schedule_delete'),
path('schedule/<int:schedule_id>/toggle/', schedule_toggle_view, name='schedule_toggle'),
path('schedule/<int:schedule_id>/run/', schedule_run_view, name='schedule_run'),
path('schedule/logs/', schedule_logs_view, name='schedule_logs'),
path('schedule/test/', schedule_test_view, name='schedule_test'),
path('schedule/<int:schedule_id>/status/', schedule_ajax_status, name='schedule_ajax_status'),
```

## 🎨 ادغام با backup-admin

### **لینک جدید در backup_final.html**:
```html
<a href="{% url 'backup:schedule_list' %}" class="btn btn-info btn-lg">
    <i class="fas fa-clock"></i> مدیریت اسکچول‌ها
</a>
```

## 📍 دسترسی‌ها

### **1. از backup-admin**:
```
http://127.0.0.1:8000/backup-admin/
کلیک روی "مدیریت اسکچول‌ها"
```

### **2. مستقیم**:
```
http://127.0.0.1:8000/backup/schedule/
```

### **3. Admin Panel**:
```
http://127.0.0.1:8000/admin/notificationApp/
```

## 🚀 نحوه استفاده

### **1. ایجاد اسکچول جدید**:
1. وارد `http://127.0.0.1:8000/backup/schedule/` شوید
2. روی "ایجاد اسکچول جدید" کلیک کنید
3. اطلاعات را پر کنید:
   - **نام**: نام منحصر به فرد
   - **فرکانس**: روزانه، هفتگی، ماهانه، سفارشی
   - **دیتابیس**: اصلی، لاگ، یا هر دو
   - **فرمت**: JSON یا SQL
   - **گیرندگان اعلان**: کاربران مورد نظر

### **2. مدیریت اسکچول‌ها**:
- **مشاهده**: کلیک روی نام اسکچول
- **ویرایش**: کلیک روی آیکون ویرایش
- **اجرای دستی**: کلیک روی آیکون اجرا
- **فعال/غیرفعال**: کلیک روی آیکون وضعیت
- **حذف**: کلیک روی آیکون حذف

### **3. مشاهده لاگ‌ها**:
1. روی "مشاهده لاگ‌ها" کلیک کنید
2. فیلترها را تنظیم کنید
3. جزئیات اجراها را بررسی کنید

### **4. تست سیستم**:
1. روی "تست سیستم" کلیک کنید
2. روی "اجرای تست" کلیک کنید
3. نتیجه را بررسی کنید

## ✨ ویژگی‌های پیشرفته

### **1. فیلترها**:
- **اسکچول**: فیلتر بر اساس اسکچول خاص
- **وضعیت**: فیلتر بر اساس وضعیت اجرا
- **جستجو**: جستجو در نام و توضیحات

### **2. آمار**:
- **آمار کلی**: تعداد کل، فعال، در انتظار
- **آمار اجرا**: موفق، ناموفق، نرخ موفقیت
- **آمار زمان**: آخرین اجرا، اجرای بعدی

### **3. اعلان‌ها**:
- **اعلان موفقیت**: در صورت تکمیل موفق
- **اعلان خطا**: در صورت خطا
- **ایمیل**: ارسال ایمیل به مدیران

### **4. امنیت**:
- **رمزگذاری**: رمزگذاری فایل‌های پشتیبان
- **دسترسی**: کنترل دسترسی کاربران
- **لاگ**: ثبت کامل عملیات

## 🎯 نتیجه

**سیستم مدیریت اسکچول‌های پشتیبان‌گیری کاملاً پیاده‌سازی شد!**

**ویژگی‌های نهایی**:
- ✅ **تمپلیت‌های کامل**: لیست، ایجاد، ویرایش، جزئیات
- ✅ **مدیریت آسان**: رابط کاربری دوستانه
- ✅ **لاگ‌های کامل**: تاریخچه اجراها
- ✅ **تست سیستم**: بررسی عملکرد
- ✅ **ادغام کامل**: با backup-admin
- ✅ **اعلان‌های هوشمند**: به مدیران سیستم
- ✅ **امنیت بالا**: رمزگذاری و کنترل دسترسی

**حالا می‌توانید اسکچول‌های پشتیبان‌گیری را از طریق رابط کاربری مدیریت کنید!** 🚀
