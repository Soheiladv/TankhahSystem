# اسکریپت‌های Git پیشرفته
## Advanced Git Scripts

این پوشه شامل اسکریپت‌های پیشرفته برای مدیریت خودکار Git و ارسال تغییرات به GitHub است.

## 📁 فایل‌های موجود

### 1. `smart_git_push.py` - اسکریپت Python هوشمند
اسکریپت پیشرفته Python که تغییرات را تحلیل کرده و پیام‌های کمیت هوشمند فارسی تولید می‌کند.

**ویژگی‌ها:**
- 🔍 تحلیل خودکار تغییرات
- 📊 دسته‌بندی فایل‌ها (مدل‌ها، ویوها، تمپلیت‌ها، ...)
- 🎯 تشخیص تغییرات مهم
- 📝 تولید پیام‌های کمیت هوشمند فارسی
- 🧪 حالت Dry Run برای پیش‌نمایش

**استفاده:**
```bash
# ارسال با پیام دلخواه
python scripts/smart_git_push.py --message "اضافه کردن سیستم تنظیمات"

# ارسال خودکار
python scripts/smart_git_push.py --auto

# پیش‌نمایش پیام کمیت
python scripts/smart_git_push.py --dry-run
```

### 2. `advanced_push.ps1` - اسکریپت PowerShell پیشرفته
رابط PowerShell برای اسکریپت Python با امکانات اضافی.

**استفاده:**
```powershell
# ارسال با پیام دلخواه
.\scripts\advanced_push.ps1 -Message "توضیح تغییرات"

# ارسال خودکار
    .\scripts\advanced_push.ps1 -Auto

# پیش‌نمایش
.\scripts\advanced_push.ps1 -DryRun

# راهنما
.\scripts\advanced_push.ps1 -Help
```

### 3. `push_to_github.ps1` - اسکریپت PowerShell ساده
اسکریپت ساده PowerShell برای ارسال سریع تغییرات.

**استفاده:**
```powershell
powershell -NoProfile -ExecutionPolicy Bypass -File scripts\push_to_github.ps1 -Message "توضیح دلخواه"
```

## 🚀 ویژگی‌های پیشرفته

### تحلیل هوشمند تغییرات
- **دسته‌بندی فایل‌ها:** مدل‌ها، ویوها، فرم‌ها، تمپلیت‌ها، مایگریشن‌ها
- **تشخیص تغییرات مهم:** تغییرات دیتابیس، UI، پیکربندی
- **آمار دقیق:** تعداد فایل‌های اضافه/ویرایش/حذف شده

### پیام‌های کمیت هوشمند
- **عنوان خودکار:** بر اساس نوع تغییرات
- **بدنه کامل:** تاریخ، شاخه، آمار، دسته‌بندی
- **فایل‌های مهم:** لیست فایل‌های کلیدی تغییر یافته

### مثال پیام کمیت تولید شده:
```
feat: تغییرات مدل‌ها, تغییرات ویوها - 2025-01-24 15:30

📅 تاریخ: 2025-01-24 15:30
🌿 شاخه: main
📊 آمار: ✏️ 5 فایل ویرایش شده | 📁 2 فایل جدید
📁 دسته‌بندی: مدل‌ها: 2 | ویوها: 3 | تمپلیت‌ها: 1
🎯 تغییرات مهم: 📊 تغییرات مدل‌ها, 🎯 تغییرات ویوها
💬 توضیحات: اضافه کردن سیستم تنظیمات
📄 فایل‌های مهم:
  • core/models.py
  • core/views.py
  • templates/core/system_settings.html
```

## ⚙️ تنظیمات

### پیش‌نیازها
- Python 3.7+
- Git
- PowerShell (برای اسکریپت‌های PS1)

### نصب
```bash
# کلون کردن پروژه
git clone https://github.com/Soheiladv/TankhahSystem.git
cd TankhahSystem

# اجرای اسکریپت
python scripts/smart_git_push.py --help
```

## 🔧 سفارشی‌سازی

### تغییر دسته‌بندی فایل‌ها
در فایل `smart_git_push.py`، تابع `_categorize_files` را ویرایش کنید.

### تغییر فرمت پیام کمیت
در تابع `_generate_commit_message` فرمت پیام را تغییر دهید.

### اضافه کردن قوانین جدید
در تابع `_detect_major_changes` قوانین جدید تشخیص تغییرات مهم اضافه کنید.

## 📝 نکات مهم

1. **همیشه قبل از ارسال تست کنید:**
   ```bash
   python scripts/smart_git_push.py --dry-run
   ```

2. **برای تغییرات مهم از پیام دستی استفاده کنید:**
   ```bash
   python scripts/smart_git_push.py --message "اضافه کردن ویژگی مهم"
   ```

3. **اسکریپت‌ها خودکار ریشه پروژه را پیدا می‌کنند**

4. **در صورت خطا، لاگ‌های کامل نمایش داده می‌شود**

## 🤝 مشارکت

برای بهبود اسکریپت‌ها:
1. Issue ایجاد کنید
2. Fork کنید
3. تغییرات را اعمال کنید
4. Pull Request ارسال کنید

## 📄 لایسنس

MIT License - جزئیات در فایل LICENSE موجود است.
